{"ast":null,"code":"import _slicedToArray from\"/Users/lauraschultz/Documents/projects/yelp-restaurant-chooser/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import socket from\"./socket\";import{UserContextConsumer}from\"./UserDataContext\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faUser}from\"@fortawesome/free-solid-svg-icons\";import ModalWelcomeHeader from\"./ModalWelcomeHeader\";import{useClickOutsideListenerRef}from\"./useClickOutsideListenerRef\";export var UserNameModal=function UserNameModal(_ref){var escape=_ref.escape;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),currentUserName=_useState2[0],setCurrentUserName=_useState2[1];var ref=useClickOutsideListenerRef(escape);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ModalWelcomeHeader,{escape:escape}),/*#__PURE__*/React.createElement(UserContextConsumer,null,function(context){return/*#__PURE__*/React.createElement(\"form\",{ref:ref,className:\"pb-3 px-4 rounded-b bg-white text-gray-700\",onSubmit:function onSubmit(e){e.preventDefault();if(context.userId){socket.setUserName(context.sessionId,context.userId,currentUserName).then(function(response){console.log(\"result of setting name: \".concat(response));if(response){context.setUserState(\"canVote\");}});}}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-gray-600 text-sm py-1\"},\"Invited to \",context.creatorName,\"'s session\"),/*#__PURE__*/React.createElement(\"label\",{className:\"block mx-3\"},/*#__PURE__*/React.createElement(\"span\",{className:\"uppercase font-bold text-sm\"},\"Your name:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"py-1 px-2 rounded border border-gray-300 bg-white focus-within:border-theme-blue-l-2 w-max-content\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUser,className:\"mr-2\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"px-2 focus:outline-none border-l\",type:\"text\",value:currentUserName,onChange:function onChange(e){return setCurrentUserName(e.target.value);}}))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"py-1 uppercase tracking-wide text-sm text-white bg-theme-yellow hover:theme-dark-yellow w-full mt-4 rounded shadow font-bold\"},\"join session\"));}));};","map":{"version":3,"sources":["/Users/lauraschultz/Documents/projects/yelp-restaurant-chooser/client/src/UserNameModal.tsx"],"names":["React","useState","socket","UserContextConsumer","FontAwesomeIcon","faUser","ModalWelcomeHeader","useClickOutsideListenerRef","UserNameModal","escape","currentUserName","setCurrentUserName","ref","context","e","preventDefault","userId","setUserName","sessionId","then","response","console","log","setUserState","creatorName","target","value"],"mappings":"4LAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA,OAASC,mBAAT,KAAoC,mBAApC,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,MAAT,KAAuB,mCAAvB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,OAASC,0BAAT,KAA2C,8BAA3C,CAEA,MAAO,IAAMC,CAAAA,aAA+C,CAAG,QAAlDA,CAAAA,aAAkD,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,eACjCR,QAAQ,CAAC,EAAD,CADyB,wCACxES,eADwE,eACvDC,kBADuD,eAE9E,GAAIC,CAAAA,GAAG,CAAGL,0BAA0B,CAACE,MAAD,CAApC,CAEC,mBACE,qDACE,oBAAC,kBAAD,EAAoB,MAAM,CAAEA,MAA5B,EADF,cAEE,oBAAC,mBAAD,MACG,SAACI,OAAD,qBACC,4BACA,GAAG,CAAED,GADL,CAEE,SAAS,CAAC,4CAFZ,CAGE,QAAQ,CAAE,kBAACE,CAAD,CAAkB,CAC1BA,CAAC,CAACC,cAAF,GACA,GAAIF,OAAO,CAACG,MAAZ,CAAoB,CAClBd,MAAM,CACHe,WADH,CAEIJ,OAAO,CAACK,SAFZ,CAGIL,OAAO,CAACG,MAHZ,CAIIN,eAJJ,EAMGS,IANH,CAMQ,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,mCAAuCF,QAAvC,GACA,GAAIA,QAAJ,CAAc,CACZP,OAAO,CAACU,YAAR,CAAqB,SAArB,EACD,CACF,CAXH,EAYD,CACF,CAnBH,eAqBE,2BAAK,SAAS,CAAC,4BAAf,gBACcV,OAAO,CAACW,WADtB,cArBF,cAwBE,6BAAO,SAAS,CAAC,YAAjB,eAEI,4BAAM,SAAS,CAAC,6BAAhB,eAFJ,cAKI,2BAAK,SAAS,CAAC,oGAAf,eACE,oBAAC,eAAD,EAAiB,IAAI,CAAEnB,MAAvB,CAA+B,SAAS,CAAC,MAAzC,EADF,cAEE,6BACA,SAAS,CAAC,kCADV,CAEA,IAAI,CAAC,MAFL,CAGA,KAAK,CAAEK,eAHP,CAIA,QAAQ,CAAE,kBAACI,CAAD,QAAOH,CAAAA,kBAAkB,CAACG,CAAC,CAACW,MAAF,CAASC,KAAV,CAAzB,EAJV,EAFF,CALJ,CAxBF,cAwCE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,8HAFZ,iBAxCF,CADD,EADH,CAFF,CADF,CAuED,CA3EM","sourcesContent":["import React, { useState, FormEvent } from \"react\";\nimport socket from \"./socket\";\n\nimport { UserContextConsumer } from \"./UserDataContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport ModalWelcomeHeader from \"./ModalWelcomeHeader\";\nimport { useClickOutsideListenerRef } from \"./useClickOutsideListenerRef\";\n\nexport const UserNameModal: React.FC<{ escape: () => void }> = ({ escape }) => {\n  let [currentUserName, setCurrentUserName] = useState(\"\");\n let ref = useClickOutsideListenerRef(escape);\n\n  return (\n    <>\n      <ModalWelcomeHeader escape={escape} />\n      <UserContextConsumer>\n        {(context) => (\n          <form\n          ref={ref}\n            className=\"pb-3 px-4 rounded-b bg-white text-gray-700\"\n            onSubmit={(e: FormEvent) => {\n              e.preventDefault();\n              if (context.userId) {\n                socket\n                  .setUserName(\n                    context.sessionId,\n                    context.userId,\n                    currentUserName\n                  )\n                  .then((response) => {\n                    console.log(`result of setting name: ${response}`);\n                    if (response) {\n                      context.setUserState(\"canVote\");\n                    }\n                  });\n              }\n            }}\n          >\n            <div className=\"text-gray-600 text-sm py-1\">\n              Invited to {context.creatorName}'s session\n            </div>\n            <label className=\"block mx-3\">\n                {/* <FontAwesomeIcon icon={faUser} /> */}\n                <span className=\"uppercase font-bold text-sm\">\n                 Your name: \n                </span>\n                <div className=\"py-1 px-2 rounded border border-gray-300 bg-white focus-within:border-theme-blue-l-2 w-max-content\">\n                  <FontAwesomeIcon icon={faUser} className=\"mr-2\"/>\n                  <input\n                  className=\"px-2 focus:outline-none border-l\"\n                  type=\"text\"\n                  value={currentUserName}\n                  onChange={(e) => setCurrentUserName(e.target.value)}\n                />\n                </div>\n                \n              </label>\n            <button\n              type=\"submit\"\n              className=\"py-1 uppercase tracking-wide text-sm text-white bg-theme-yellow hover:theme-dark-yellow w-full mt-4 rounded shadow font-bold\"\n            >\n              join session\n            </button>\n            {/* <div className=\"flex justify-around\">\n              <button\n                type=\"button\"\n                onClick={escape}\n                className=\"py-1 px-2 uppercase tracking-wide text-sm text-gray-500 border border-gray-500 mt-4 rounded shadow font-bold flex-1\"\n              >\n                cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"py-1 px-2 uppercase tracking-wide text-sm text-white bg-theme-yellow mt-4 rounded shadow font-bold flex-1\"\n              >\n                done\n              </button>\n            </div> */}\n          </form>\n        )}\n      </UserContextConsumer>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}