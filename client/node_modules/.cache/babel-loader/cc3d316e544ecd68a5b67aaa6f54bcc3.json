{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/lauraschultz/Documents/projects/yelp-restaurant-chooser/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Users/lauraschultz/Documents/projects/yelp-restaurant-chooser/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{faCircle,faChevronCircleUp,faChevronCircleDown,faDollarSign,faClock,faMapPin,faCheck,faExternalLinkAlt}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import React,{useState}from\"react\";import{icons}from\"./VotingIcons\";export var DisplayItem=function DisplayItem(_ref){var restaurant=_ref.restaurant,addRestaurant=_ref.addRestaurant,vote=_ref.vote;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];// let {userState} = useContext(UserContext);\nreturn/*#__PURE__*/React.createElement(\"div\",{key:restaurant.business.id,className:\"relative p-1 lg:p-2 my-2 max-w-md mx-auto flex\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fa-layers fa-fw fa-2x absolute m-2 right-0\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\" text-white\",icon:faCircle,onClick:function onClick(){return setExpanded(function(prev){return!prev;});}}),/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\" text-theme-yellow\",icon:expanded?faChevronCircleUp:faChevronCircleDown,onClick:function onClick(){return setExpanded(function(prev){return!prev;});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-initial\"},addRestaurant),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-1\"},restaurant.addedBy&&/*#__PURE__*/React.createElement(\"div\",{className:\"text-xs uppercase tracking-wide text-theme-med-gray\"},\"Added by \",restaurant.addedBy),/*#__PURE__*/React.createElement(\"h2\",{className:\"leading-tight font-display italic font-bold text-xl text-theme-dark-gray mr-6\"},restaurant.business.name,restaurant.business.price&&/*#__PURE__*/React.createElement(\"span\",{className:\"ml-2 px-1 pt-1 rounded bg-theme-light-gray text-white text-sm whitespace-no-wrap\"},restaurant.business.price.split(\"\").map(function(_,i){return/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faDollarSign,key:i});}))),/*#__PURE__*/React.createElement(\"div\",{className:\"pl-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-theme-light-gray font-display leading-none mr-6\"},restaurant.business.categories.map(function(c){return c.title;}).join(\", \")),restaurant.business.hours&&restaurant.business.hours[0]&&/*#__PURE__*/React.createElement(\"div\",{className:\"text-theme-light-gray uppercase font-bold tracking-wide text-sm leading-none\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faClock,className:\"mr-1\"}),openMsg(restaurant.business.hours[0])),restaurant.votes.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"my-1\"},restaurant.votes.map(function(v,idx){return v?/*#__PURE__*/React.createElement(\"span\",{className:\"m-1 border-theme-dark-gray rounded-sm border bg-white bg-opacity-50 shadow\"},/*#__PURE__*/React.createElement(\"span\",{className:\"bg-theme-dark-gray text-white px-1\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:icons[idx].icon})),/*#__PURE__*/React.createElement(\"span\",{className:\"px-2 text-theme-dark-gray\"},v)):null;})),!addRestaurant?vote:null,expanded&&/*#__PURE__*/React.createElement(React.Fragment,null,addRestaurant?vote:null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-around mt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-shrink-0\"},/*#__PURE__*/React.createElement(HoursTable,{hours:restaurant.business.hours})),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-initial\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faMapPin,className:\"flex-none mt-1 mr-2\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-initial\"},restaurant.business.location.display_address.map(function(line){return/*#__PURE__*/React.createElement(\"p\",null,line);}))),restaurant.business.transactions&&restaurant.business.transactions.length>0&&/*#__PURE__*/React.createElement(\"ul\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"uppercase tracking-wide font-bold text-theme-med-gray text-sm font-light\"},\"Services offered:\"),restaurant.business.transactions.map(function(t){return/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCheck,className:\"mr-2 text-green-500\"}),t);})),/*#__PURE__*/React.createElement(\"a\",{className:\"block text-center rounded w-full py-1 px-3 bg-theme-red text-white font-bold italic mt-3\",href:restaurant.business.url,target:\"_blank\",rel:\"noopener noreferrer\"},\"more info\",/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faExternalLinkAlt,className:\"ml-2\"}))))))));};var HoursTable=function HoursTable(_ref2){var hours=_ref2.hours;if(!hours||!hours[0]){return/*#__PURE__*/React.createElement(\"div\",{className:\"text-theme-light-gray py-2 px-4 rounded my-3 border border-theme-light-gray italic text-sm\"},\"No hours available.\");}var days=[\"Mon\",\"Tues\",\"Weds\",\"Thurs\",\"Fri\",\"Sat\",\"Sun\"].map(function(d){return{day:d,hourStr:new Array()};});var dateify=function dateify(start,end){return\"\".concat(formatAsTime(start),\" - \").concat(formatAsTime(end));};hours[0].open.forEach(function(h){return days[h.day].hourStr.push(dateify(h.start,h.end));});return/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"tbody\",null,days.map(function(day){return/*#__PURE__*/React.createElement(\"tr\",{key:day.day},/*#__PURE__*/React.createElement(\"th\",{className:\"text-left py-0 align-top\"},day.day),/*#__PURE__*/React.createElement(\"td\",{className:\"py-0 pl-3 whitespace-pre\"},day.hourStr.length>0?day.hourStr.join(\",\\n\"):/*#__PURE__*/React.createElement(\"span\",{className:\"italic text-theme-light-gray\"},\"Closed\")));})));};var formatAsTime=function formatAsTime(time){return\"\".concat(time.slice(0,2),\":\").concat(time.slice(2));};var openMsg=function openMsg(hours){var padZeros=function padZeros(n){return(\"00\"+n).slice(-2);};var today=new Date();var dayOfWeek=((today.getDay()-1)%6+6)%6;var timeString=padZeros(today.getHours())+padZeros(today.getMinutes());console.log(\"day of week: \".concat(dayOfWeek,\", timeString: \").concat(timeString));var diff=9999999;var days=hours.open.filter(function(h){return h.day===dayOfWeek;});if(days.length===0){return\"Closed\";}var t=undefined;var _iterator=_createForOfIteratorHelper(days),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var h=_step.value;if(timeString<h.start){// will open later\nvar currentDiff=+h.start-+timeString;if(currentDiff<diff){t=formatAsTime(h.start);diff=currentDiff;}}else if(timeString<h.end){// open now\nreturn\"Open now\";}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(t){return\"Opens at \".concat(t);}return\"Closed\";};export default DisplayItem;","map":{"version":3,"sources":["/Users/lauraschultz/Documents/projects/yelp-restaurant-chooser/client/src/DisplayItem.tsx"],"names":["faCircle","faChevronCircleUp","faChevronCircleDown","faDollarSign","faClock","faMapPin","faCheck","faExternalLinkAlt","FontAwesomeIcon","React","useState","icons","DisplayItem","restaurant","addRestaurant","vote","expanded","setExpanded","business","id","prev","addedBy","name","price","split","map","_","i","categories","c","title","join","hours","openMsg","votes","length","v","idx","icon","location","display_address","line","transactions","t","url","HoursTable","days","d","day","hourStr","Array","dateify","start","end","formatAsTime","open","forEach","h","push","time","slice","padZeros","n","today","Date","dayOfWeek","getDay","timeString","getHours","getMinutes","console","log","diff","filter","undefined","currentDiff"],"mappings":"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","sourcesContent":["import {\n  faCircle,\n  faChevronCircleUp,\n  faChevronCircleDown,\n  faDollarSign,\n  faClock,\n  faMapPin,\n  faCheck,\n  faExternalLinkAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { ReactNode, useState } from \"react\";\nimport { icons } from \"./VotingIcons\";\nimport { BusinessWithVotes, Hours } from \"../../shared/types\";\n\nexport const DisplayItem: React.FC<{\n  restaurant: BusinessWithVotes;\n  addRestaurant?: ReactNode;\n  vote?: ReactNode;\n}> = ({ restaurant, addRestaurant, vote }) => {\n  let [expanded, setExpanded] = useState(false);\n  // let {userState} = useContext(UserContext);\n  return (\n    <div\n      key={restaurant.business.id}\n      className=\"relative p-1 lg:p-2 my-2 max-w-md mx-auto flex\"\n    >\n      <button className=\"fa-layers fa-fw fa-2x absolute m-2 right-0\">\n        <FontAwesomeIcon\n          className=\" text-white\"\n          icon={faCircle}\n          onClick={() => setExpanded((prev) => !prev)}\n        />\n        <FontAwesomeIcon\n          className=\" text-theme-yellow\"\n          icon={expanded ? faChevronCircleUp : faChevronCircleDown}\n          onClick={() => setExpanded((prev) => !prev)}\n        />\n      </button>\n\n      <div className=\"flex-initial\">{addRestaurant}</div>\n\n      <div className=\"flex-1\">\n        {restaurant.addedBy && (\n          <div className=\"text-xs uppercase tracking-wide text-theme-med-gray\">\n            Added by {restaurant.addedBy}\n          </div>\n        )}\n        <h2 className=\"leading-tight font-display italic font-bold text-xl text-theme-dark-gray mr-6\">\n          {restaurant.business.name}\n          {restaurant.business.price && (\n            <span className=\"ml-2 px-1 pt-1 rounded bg-theme-light-gray text-white text-sm whitespace-no-wrap\">\n              {restaurant.business.price.split(\"\").map((_, i) => (\n                <FontAwesomeIcon icon={faDollarSign} key={i} />\n              ))}\n            </span>\n          )}\n        </h2>\n        <div className=\"pl-3\">\n          <div className=\"text-theme-light-gray font-display leading-none mr-6\">\n            {restaurant.business.categories.map((c) => c.title).join(\", \")}\n          </div>\n          {restaurant.business.hours && restaurant.business.hours[0] && (\n            <div className=\"text-theme-light-gray uppercase font-bold tracking-wide text-sm leading-none\">\n              <FontAwesomeIcon icon={faClock} className=\"mr-1\" />\n              {openMsg(restaurant.business.hours[0])}\n            </div>\n          )}\n\n          {restaurant.votes.length > 0 && (\n            <div className=\"my-1\">\n              {restaurant.votes.map((v, idx) =>\n                v ? (\n                  <span className=\"m-1 border-theme-dark-gray rounded-sm border bg-white bg-opacity-50 shadow\">\n                    <span className=\"bg-theme-dark-gray text-white px-1\">\n                      <FontAwesomeIcon icon={icons[idx].icon} />\n                    </span>\n                    <span className=\"px-2 text-theme-dark-gray\">{v}</span>\n                  </span>\n                ) : null\n              )}\n            </div>\n          )}\n          {!addRestaurant ? vote : null}\n          {expanded && (\n            <>\n              {addRestaurant ? vote : null}\n\n              <div className=\"flex justify-around mt-2\">\n                <div className=\"flex-shrink-0\">\n                  <HoursTable hours={restaurant.business.hours} />\n                </div>\n                <div className=\"flex-initial\">\n                  <div className=\"flex\">\n                    <FontAwesomeIcon\n                      icon={faMapPin}\n                      className=\"flex-none mt-1 mr-2\"\n                    />\n\n                    <div className=\"flex-initial\">\n                      {restaurant.business.location.display_address.map(\n                        (line) => (\n                          <p>{line}</p>\n                        )\n                      )}\n                    </div>\n                  </div>\n                  {restaurant.business.transactions &&\n                    restaurant.business.transactions.length > 0 && (\n                      <ul className=\"mt-3\">\n                        <h3 className=\"uppercase tracking-wide font-bold text-theme-med-gray text-sm font-light\">\n                          Services offered:\n                        </h3>\n\n                        {restaurant.business.transactions.map((t) => (\n                          <li>\n                            <FontAwesomeIcon\n                              icon={faCheck}\n                              className=\"mr-2 text-green-500\"\n                            />\n                            {t}\n                          </li>\n                        ))}\n                      </ul>\n                    )}\n\n                  <a\n                    className=\"block text-center rounded w-full py-1 px-3 bg-theme-red text-white font-bold italic mt-3\"\n                    href={restaurant.business.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    more info\n                    <FontAwesomeIcon\n                      icon={faExternalLinkAlt}\n                      className=\"ml-2\"\n                    />\n                  </a>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst HoursTable: React.FC<{ hours: [Hours] | undefined }> = ({ hours }) => {\n  if (!hours || !hours[0]) {\n    return (\n      <div className=\"text-theme-light-gray py-2 px-4 rounded my-3 border border-theme-light-gray italic text-sm\">\n        No hours available.\n      </div>\n    );\n  }\n  let days = [\n    \"Mon\",\n    \"Tues\",\n    \"Weds\",\n    \"Thurs\",\n    \"Fri\",\n    \"Sat\",\n    \"Sun\",\n  ].map((d: string) => ({ day: d, hourStr: new Array<string>() }));\n  let dateify = (start: string, end: string): string =>\n    `${formatAsTime(start)} - ${formatAsTime(end)}`;\n  hours[0].open.forEach((h) =>\n    days[h.day].hourStr.push(dateify(h.start, h.end))\n  );\n  return (\n    <table>\n      <tbody>\n        {days.map((day) => (\n          <tr key={day.day}>\n            <th className=\"text-left py-0 align-top\">{day.day}</th>\n            <td className=\"py-0 pl-3 whitespace-pre\">\n              {day.hourStr.length > 0 ? (\n                day.hourStr.join(\",\\n\")\n              ) : (\n                <span className=\"italic text-theme-light-gray\">Closed</span>\n              )}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nconst formatAsTime = (time: string): string =>\n  `${time.slice(0, 2)}:${time.slice(2)}`;\n\nconst openMsg = (hours: Hours): string => {\n  const padZeros = (n: number) => (\"00\" + n).slice(-2);\n  const today = new Date();\n  const dayOfWeek = (((today.getDay() - 1) % 6) + 6) % 6;\n  const timeString = padZeros(today.getHours()) + padZeros(today.getMinutes());\n  console.log(`day of week: ${dayOfWeek}, timeString: ${timeString}`);\n  let diff = 9999999;\n  const days = hours.open.filter((h) => h.day === dayOfWeek);\n  if (days.length === 0) {\n    return \"Closed\";\n  }\n  let t: string | undefined = undefined;\n  for (let h of days) {\n    if (timeString < h.start) {\n      // will open later\n      const currentDiff = +h.start - +timeString;\n      if (currentDiff < diff) {\n        t = formatAsTime(h.start);\n        diff = currentDiff;\n      }\n    } else if (timeString < h.end) {\n      // open now\n      return \"Open now\";\n    }\n  }\n  if (t) {\n    return `Opens at ${t}`;\n  }\n  return \"Closed\";\n};\n\nexport default DisplayItem;\n"]},"metadata":{},"sourceType":"module"}