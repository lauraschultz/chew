{"ast":null,"code":"var _jsxFileName = \"/Users/lauraschultz/Documents/projects/yelp-restaurant-chooser/client/src/Search.tsx\";\nimport React, { useState, useContext, useEffect, useCallback } from \"react\";\nimport Vote from \"./Vote\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCircleNotch, faInfoCircle, faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport DisplayItem from \"./DisplayItem\";\nimport socket from \"./socket\";\nimport Filters from \"./Filters\";\nimport AddRestaurantButton from \"./AddRestaurantButton\";\nimport { UserContext } from \"./UserDataContext\";\n\nconst DisplaySearchResults = ({\n  businesses,\n  voteOnRestaurant,\n  isAdded\n}) => {\n  let {\n    sessionId,\n    userId,\n    userState,\n    previousVotes,\n    setPreviousVotes\n  } = useContext(UserContext);\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"divide-y divide-theme-extra-light-gray\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 3\n    }\n  }, businesses.map(b => /*#__PURE__*/React.createElement(\"li\", {\n    key: b.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DisplayItem, {\n    restaurant: {\n      business: b,\n      votes: []\n    },\n    addRestaurant: /*#__PURE__*/React.createElement(AddRestaurantButton, {\n      isRestaurantsAdded: isAdded[b.id],\n      userState: userState,\n      sessionId: sessionId,\n      userId: userId,\n      businessId: b.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 8\n      }\n    }),\n    vote: isAdded[b.id] ? /*#__PURE__*/React.createElement(Vote, {\n      currentVote: previousVotes[b.id],\n      addVote: v => {\n        voteOnRestaurant(b.id, v);\n        setPreviousVotes(old => ({ ...old,\n          [b.id]: v\n        }));\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }) : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 6\n    }\n  }))));\n};\n\nconst Search = ({\n  sessionId,\n  location,\n  creatorName,\n  voteOnRestaurant,\n  isAdded,\n  searchFormState,\n  updateSearchFormState\n}) => {\n  let [searchTerm, setSearchTerm] = useState(searchFormState.search || \"\");\n  let [businesses, setBusinesses] = useState(searchFormState.results || new Array());\n  let [loadingSearch, setLoadingSearch] = useState(false);\n  let [filterResults, setFilterResults] = useState();\n  const updateFilter = useCallback(r => {\n    console.log(`filter sent: ${JSON.stringify(r)}`);\n    setFilterResults(r);\n  }, [setFilterResults]);\n  useEffect(() => {\n    updateSearchFormState({\n      search: searchTerm,\n      results: businesses\n    });\n  }, [searchTerm, businesses, updateSearchFormState]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-md w-full mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"max-w-md mx-auto text-2xl px-1 text-theme-dark-gray font-display leading-none mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 4\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"border-theme-extra-light-gray\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"p-2 w-full\",\n    onSubmit: e => {\n      e.preventDefault();\n      setLoadingSearch(true);\n      setBusinesses([]);\n      socket.search(sessionId, searchTerm, (filterResults === null || filterResults === void 0 ? void 0 : filterResults.openHours) || \"\", (filterResults === null || filterResults === void 0 ? void 0 : filterResults.priceRange) || \"\", (filterResults === null || filterResults === void 0 ? void 0 : filterResults.services) || \"\").then(b => {\n        setBusinesses(b);\n        setLoadingSearch(false);\n      }).catch(e => console.log(`oopsies ${e}`));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-theme-light-gray italic -mt-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }\n  }, creatorName, \" set the location to\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"uppercase text-sm font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 6\n    }\n  }, location, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"aria-label\": \"Search results will not be strictly within this area; it serves as a starting point.\",\n    \"data-balloon-pos\": \"down\",\n    \"data-balloon-length\": \"medium\",\n    className: \"btn-focus rounded-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faInfoCircle,\n    className: \"ml-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 8\n    }\n  })))), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"rounded py-1 px-2 shadow m-1 btn-focus\",\n    type: \"text\",\n    value: searchTerm,\n    onChange: e => setSearchTerm(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"shadow py-1 px-2 m-1 text-white bg-theme-blue rounded-full btn-focus rounded-full\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    \"aria-label\": \"search\",\n    icon: faSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Filters, {\n    update: updateFilter,\n    updateSearchFormState: updateSearchFormState,\n    searchFormFilterState: searchFormState.filter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 5\n    }\n  })), loadingSearch && /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCircleNotch,\n    size: \"5x\",\n    className: \"animate-spin text-theme-yellow mx-auto my-4 block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(DisplaySearchResults, {\n    businesses: businesses,\n    voteOnRestaurant: voteOnRestaurant,\n    isAdded: isAdded,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 4\n    }\n  }));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/lauraschultz/Documents/projects/yelp-restaurant-chooser/client/src/Search.tsx"],"names":["React","useState","useContext","useEffect","useCallback","Vote","FontAwesomeIcon","faCircleNotch","faInfoCircle","faSearch","DisplayItem","socket","Filters","AddRestaurantButton","UserContext","DisplaySearchResults","businesses","voteOnRestaurant","isAdded","sessionId","userId","userState","previousVotes","setPreviousVotes","map","b","id","business","votes","v","old","Search","location","creatorName","searchFormState","updateSearchFormState","searchTerm","setSearchTerm","search","setBusinesses","results","Array","loadingSearch","setLoadingSearch","filterResults","setFilterResults","updateFilter","r","console","log","JSON","stringify","e","preventDefault","openHours","priceRange","services","then","catch","target","value","filter"],"mappings":";AAAA,OAAOA,KAAP,IACCC,QADD,EAGCC,UAHD,EAICC,SAJD,EAKCC,WALD,QAMO,OANP;AAQA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SACCC,aADD,EAECC,YAFD,EAGCC,QAHD,QAIO,mCAJP;AAKA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,SAASC,WAAT,QAA4B,mBAA5B;;AAGA,MAAMC,oBAIJ,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA,gBAAd;AAAgCC,EAAAA;AAAhC,CAAD,KAA+C;AACnD,MAAI;AACHC,IAAAA,SADG;AAEHC,IAAAA,MAFG;AAGHC,IAAAA,SAHG;AAIHC,IAAAA,aAJG;AAKHC,IAAAA;AALG,MAMArB,UAAU,CAACY,WAAD,CANd;AAOA,sBACC;AAAI,IAAA,SAAS,EAAC,wCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEE,UAAU,CAACQ,GAAX,CAAgBC,CAAD,iBACf;AAAI,IAAA,GAAG,EAAEA,CAAC,CAACC,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,WAAD;AACC,IAAA,UAAU,EAAE;AAAEC,MAAAA,QAAQ,EAAEF,CAAZ;AAAeG,MAAAA,KAAK,EAAE;AAAtB,KADb;AAEC,IAAA,aAAa,eACZ,oBAAC,mBAAD;AACC,MAAA,kBAAkB,EAAEV,OAAO,CAACO,CAAC,CAACC,EAAH,CAD5B;AAEC,MAAA,SAAS,EAAEL,SAFZ;AAGC,MAAA,SAAS,EAAEF,SAHZ;AAIC,MAAA,MAAM,EAAEC,MAJT;AAKC,MAAA,UAAU,EAAEK,CAAC,CAACC,EALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF;AAWC,IAAA,IAAI,EACHR,OAAO,CAACO,CAAC,CAACC,EAAH,CAAP,gBACC,oBAAC,IAAD;AACC,MAAA,WAAW,EAAEJ,aAAa,CAACG,CAAC,CAACC,EAAH,CAD3B;AAEC,MAAA,OAAO,EAAGG,CAAD,IAAe;AACvBZ,QAAAA,gBAAgB,CAACQ,CAAC,CAACC,EAAH,EAAOG,CAAP,CAAhB;AACAN,QAAAA,gBAAgB,CACdO,GAAD,KAA8C,EAC7C,GAAGA,GAD0C;AAE7C,WAACL,CAAC,CAACC,EAAH,GAAQG;AAFqC,SAA9C,CADe,CAAhB;AAMA,OAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAaI,IAzBN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADA,CADF,CADD;AAoCA,CAhDD;;AAwDA,MAAME,MAQJ,GAAG,CAAC;AACLZ,EAAAA,SADK;AAELa,EAAAA,QAFK;AAGLC,EAAAA,WAHK;AAILhB,EAAAA,gBAJK;AAKLC,EAAAA,OALK;AAMLgB,EAAAA,eANK;AAOLC,EAAAA;AAPK,CAAD,KAQC;AACL,MAAI,CAACC,UAAD,EAAaC,aAAb,IAA8BpC,QAAQ,CAACiC,eAAe,CAACI,MAAhB,IAA0B,EAA3B,CAA1C;AACA,MAAI,CAACtB,UAAD,EAAauB,aAAb,IAA8BtC,QAAQ,CACzCiC,eAAe,CAACM,OAAhB,IAA2B,IAAIC,KAAJ,EADc,CAA1C;AAGA,MAAI,CAACC,aAAD,EAAgBC,gBAAhB,IAAoC1C,QAAQ,CAAC,KAAD,CAAhD;AACA,MAAI,CAAC2C,aAAD,EAAgBC,gBAAhB,IAAoC5C,QAAQ,EAAhD;AACA,QAAM6C,YAAY,GAAG1C,WAAW,CAC9B2C,CAAD,IAAsB;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAa,gBAAeC,IAAI,CAACC,SAAL,CAAeJ,CAAf,CAAkB,EAA9C;AACAF,IAAAA,gBAAgB,CAACE,CAAD,CAAhB;AACA,GAJ8B,EAK/B,CAACF,gBAAD,CAL+B,CAAhC;AAQA1C,EAAAA,SAAS,CAAC,MAAM;AACfgC,IAAAA,qBAAqB,CAAC;AAAEG,MAAAA,MAAM,EAAEF,UAAV;AAAsBI,MAAAA,OAAO,EAAExB;AAA/B,KAAD,CAArB;AACA,GAFQ,EAEN,CAACoB,UAAD,EAAapB,UAAb,EAAyBmB,qBAAzB,CAFM,CAAT;AAIA,sBACC;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAI,IAAA,SAAS,EAAC,oFAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAIC;AAAI,IAAA,SAAS,EAAC,+BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJD,eAKC;AACC,IAAA,SAAS,EAAC,YADX;AAEC,IAAA,QAAQ,EAAGiB,CAAD,IAAkB;AAC3BA,MAAAA,CAAC,CAACC,cAAF;AACAV,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAJ,MAAAA,aAAa,CAAC,EAAD,CAAb;AACA5B,MAAAA,MAAM,CACJ2B,MADF,CAEEnB,SAFF,EAGEiB,UAHF,EAIE,CAAAQ,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEU,SAAf,KAA4B,EAJ9B,EAKE,CAAAV,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEW,UAAf,KAA6B,EAL/B,EAME,CAAAX,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEY,QAAf,KAA2B,EAN7B,EAQEC,IARF,CAQQhC,CAAD,IAAmB;AACxBc,QAAAA,aAAa,CAACd,CAAD,CAAb;AACAkB,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACA,OAXF,EAYEe,KAZF,CAYSN,CAAD,IAAOJ,OAAO,CAACC,GAAR,CAAa,WAAUG,CAAE,EAAzB,CAZf;AAaA,KAnBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAqBC;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEnB,WADF,0BACmC,GADnC,eAEC;AAAM,IAAA,SAAS,EAAC,6BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACED,QADF,eAEC;AACC,IAAA,IAAI,EAAC,QADN;AAEC,kBAAW,sFAFZ;AAGC,wBAAiB,MAHlB;AAIC,2BAAoB,QAJrB;AAKC,IAAA,SAAS,EAAC,wBALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOC,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAExB,YAAvB;AAAqC,IAAA,SAAS,EAAC,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPD,CAFD,CAFD,CArBD,eAoCC;AACC,IAAA,SAAS,EAAC,wCADX;AAEC,IAAA,IAAI,EAAC,MAFN;AAGC,IAAA,KAAK,EAAE4B,UAHR;AAIC,IAAA,QAAQ,EAAGgB,CAAD,IAAOf,aAAa,CAACe,CAAC,CAACO,MAAF,CAASC,KAAV,CAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApCD,eA0CC;AACC,IAAA,SAAS,EAAC,mFADX;AAEC,IAAA,IAAI,EAAC,QAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIC,oBAAC,eAAD;AAAiB,kBAAW,QAA5B;AAAqC,IAAA,IAAI,EAAEnD,QAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJD,CA1CD,eAgDC,oBAAC,OAAD;AACC,IAAA,MAAM,EAAEqC,YADT;AAEC,IAAA,qBAAqB,EAAEX,qBAFxB;AAGC,IAAA,qBAAqB,EAAED,eAAe,CAAC2B,MAHxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhDD,CALD,EA2DEnB,aAAa,iBACb,oBAAC,eAAD;AACC,IAAA,IAAI,EAAEnC,aADP;AAEC,IAAA,IAAI,EAAC,IAFN;AAGC,IAAA,SAAS,EAAC,mDAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5DF,eAkEC,oBAAC,oBAAD;AACC,IAAA,UAAU,EAAES,UADb;AAEC,IAAA,gBAAgB,EAAEC,gBAFnB;AAGC,IAAA,OAAO,EAAEC,OAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlED,CADD;AA0EA,CA7GD;;AA+GA,eAAea,MAAf","sourcesContent":["import React, {\n\tuseState,\n\tFormEvent,\n\tuseContext,\n\tuseEffect,\n\tuseCallback,\n} from \"react\";\nimport { Business } from \"../../shared/types\";\nimport Vote from \"./Vote\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n\tfaCircleNotch,\n\tfaInfoCircle,\n\tfaSearch,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport DisplayItem from \"./DisplayItem\";\nimport socket from \"./socket\";\nimport Filters from \"./Filters\";\nimport AddRestaurantButton from \"./AddRestaurantButton\";\nimport { UserContext } from \"./UserDataContext\";\nimport { SearchFormState } from \"./Templates/AppTemplate\";\n\nconst DisplaySearchResults: React.FC<{\n\tbusinesses: Business[];\n\tvoteOnRestaurant: Function;\n\tisAdded: { [id: string]: boolean };\n}> = ({ businesses, voteOnRestaurant, isAdded }) => {\n\tlet {\n\t\tsessionId,\n\t\tuserId,\n\t\tuserState,\n\t\tpreviousVotes,\n\t\tsetPreviousVotes,\n\t} = useContext(UserContext);\n\treturn (\n\t\t<ul className=\"divide-y divide-theme-extra-light-gray\">\n\t\t\t{businesses.map((b) => (\n\t\t\t\t<li key={b.id}>\n\t\t\t\t\t<DisplayItem\n\t\t\t\t\t\trestaurant={{ business: b, votes: [] }}\n\t\t\t\t\t\taddRestaurant={\n\t\t\t\t\t\t\t<AddRestaurantButton\n\t\t\t\t\t\t\t\tisRestaurantsAdded={isAdded[b.id]}\n\t\t\t\t\t\t\t\tuserState={userState}\n\t\t\t\t\t\t\t\tsessionId={sessionId}\n\t\t\t\t\t\t\t\tuserId={userId}\n\t\t\t\t\t\t\t\tbusinessId={b.id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvote={\n\t\t\t\t\t\t\tisAdded[b.id] ? (\n\t\t\t\t\t\t\t\t<Vote\n\t\t\t\t\t\t\t\t\tcurrentVote={previousVotes[b.id]}\n\t\t\t\t\t\t\t\t\taddVote={(v: number) => {\n\t\t\t\t\t\t\t\t\t\tvoteOnRestaurant(b.id, v);\n\t\t\t\t\t\t\t\t\t\tsetPreviousVotes(\n\t\t\t\t\t\t\t\t\t\t\t(old: { [restaurantId: string]: number }) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t...old,\n\t\t\t\t\t\t\t\t\t\t\t\t[b.id]: v,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t);\n};\n\nexport type FilterResults = {\n\topenHours: \"any\" | \"today\" | \"now\";\n\tpriceRange: string;\n\tservices: string;\n};\n\nconst Search: React.FC<{\n\tsessionId: string;\n\tlocation: string;\n\tcreatorName: string;\n\tvoteOnRestaurant: Function;\n\tisAdded: { [id: string]: boolean };\n\tsearchFormState: Partial<SearchFormState>;\n\tupdateSearchFormState: (s: Partial<SearchFormState>) => void;\n}> = ({\n\tsessionId,\n\tlocation,\n\tcreatorName,\n\tvoteOnRestaurant,\n\tisAdded,\n\tsearchFormState,\n\tupdateSearchFormState,\n}) => {\n\tlet [searchTerm, setSearchTerm] = useState(searchFormState.search || \"\");\n\tlet [businesses, setBusinesses] = useState(\n\t\tsearchFormState.results || new Array<Business>()\n\t);\n\tlet [loadingSearch, setLoadingSearch] = useState(false);\n\tlet [filterResults, setFilterResults] = useState<FilterResults>();\n\tconst updateFilter = useCallback(\n\t\t(r: FilterResults) => {\n\t\t\tconsole.log(`filter sent: ${JSON.stringify(r)}`);\n\t\t\tsetFilterResults(r);\n\t\t},\n\t\t[setFilterResults]\n\t);\n\n\tuseEffect(() => {\n\t\tupdateSearchFormState({ search: searchTerm, results: businesses });\n\t}, [searchTerm, businesses, updateSearchFormState]);\n\n\treturn (\n\t\t<div className=\"max-w-md w-full mx-auto\">\n\t\t\t<h2 className=\"max-w-md mx-auto text-2xl px-1 text-theme-dark-gray font-display leading-none mb-1\">\n\t\t\t\tSearch\n\t\t\t</h2>\n\t\t\t<hr className=\"border-theme-extra-light-gray\" />\n\t\t\t<form\n\t\t\t\tclassName=\"p-2 w-full\"\n\t\t\t\tonSubmit={(e: FormEvent) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsetLoadingSearch(true);\n\t\t\t\t\tsetBusinesses([]);\n\t\t\t\t\tsocket\n\t\t\t\t\t\t.search(\n\t\t\t\t\t\t\tsessionId,\n\t\t\t\t\t\t\tsearchTerm,\n\t\t\t\t\t\t\tfilterResults?.openHours || \"\",\n\t\t\t\t\t\t\tfilterResults?.priceRange || \"\",\n\t\t\t\t\t\t\tfilterResults?.services || \"\"\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then((b: Business[]) => {\n\t\t\t\t\t\t\tsetBusinesses(b);\n\t\t\t\t\t\t\tsetLoadingSearch(false);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((e) => console.log(`oopsies ${e}`));\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"text-theme-light-gray italic -mt-1\">\n\t\t\t\t\t{creatorName} set the location to{\" \"}\n\t\t\t\t\t<span className=\"uppercase text-sm font-bold\">\n\t\t\t\t\t\t{location}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\taria-label=\"Search results will not be strictly within this area; it serves as a starting point.\"\n\t\t\t\t\t\t\tdata-balloon-pos=\"down\"\n\t\t\t\t\t\t\tdata-balloon-length=\"medium\"\n\t\t\t\t\t\t\tclassName=\"btn-focus rounded-full\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FontAwesomeIcon icon={faInfoCircle} className=\"ml-1\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"rounded py-1 px-2 shadow m-1 btn-focus\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t\tonChange={(e) => setSearchTerm(e.target.value)}\n\t\t\t\t></input>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"shadow py-1 px-2 m-1 text-white bg-theme-blue rounded-full btn-focus rounded-full\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t>\n\t\t\t\t\t<FontAwesomeIcon aria-label=\"search\" icon={faSearch} />\n\t\t\t\t</button>\n\t\t\t\t<Filters\n\t\t\t\t\tupdate={updateFilter}\n\t\t\t\t\tupdateSearchFormState={updateSearchFormState}\n\t\t\t\t\tsearchFormFilterState={searchFormState.filter}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t\t{loadingSearch && (\n\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\ticon={faCircleNotch}\n\t\t\t\t\tsize=\"5x\"\n\t\t\t\t\tclassName=\"animate-spin text-theme-yellow mx-auto my-4 block\"\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<DisplaySearchResults\n\t\t\t\tbusinesses={businesses}\n\t\t\t\tvoteOnRestaurant={voteOnRestaurant}\n\t\t\t\tisAdded={isAdded}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}