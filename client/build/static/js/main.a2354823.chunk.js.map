{"version":3,"sources":["assets/powered_by_google_on_white.png","PlacesAutocomplete.tsx","config.ts","socket.ts","UserDataContext.tsx","useClickOutsideListenerRef.tsx","Login.tsx","FooterLinks.tsx","LoginFooter.tsx","Templates/LoginTemplate.tsx","VotingIcons.tsx","Vote.tsx","DisplayItem.tsx","Display.tsx","CopySessionUrl.tsx","AppFooter.tsx","ModalContainer.tsx","Filters.tsx","AddRestaurantButton.tsx","Search.tsx","ModalWelcomeHeader.tsx","ShareSessionModal.tsx","Toast.tsx","UserNameModal.tsx","Templates/AppTemplate.tsx","404.tsx","TOS.tsx","App.tsx","serviceWorker.ts","index.tsx","assets/chew_logo.svg","assets/corner.svg","assets/ice_cream_girl.svg","assets/triangles.svg","assets/waves.svg","assets/reading_girl.svg","assets/papers.svg"],"names":["module","exports","autoComplete","SERVER","socket","search","sessionId","searchTerm","openHours","priceRange","services","Promise","resolve","reject","axios","get","then","result","data","setUserName","userId","userName","post","catch","console","log","addVote","restaurantId","voteNum","addRestaurant","removeRestaurant","emit","callback","title","JSON","stringify","newSession","tryJoinSession","subscribeToVoteAdded","on","unSubscribeToVoteAdded","off","subscribeToRestaurantAdded","unSubscribeToRestaurantAdded","subscribeToRestaurantRemoved","unSubscribeToRestaurantRemoved","this","io","connect","UserContext","React","createContext","Provider","Consumer","UserContextProvider","children","useState","setSessionId","setUserId","userState","setUserState","location","setLocation","previousVotes","setPreviousVotes","creator","setCreator","userIdHash","setUserIdHash","history","useHistory","appLoc","useLocation","useEffect","sUserId","localStorage","getItem","setItem","md5","match","matchPath","pathname","path","params","value","createSession","e","loc","preventDefault","response","name","hashId","push","window","replaceState","fromLogin","useClickOutsideListenerRef","onClose","ref","useRef","escapeListener","useCallback","key","clickListener","current","contains","target","document","addEventListener","removeEventListener","PlacesAutocomplete","selectPlace","currentSearchTerm","currentSearchResults","setCurrentSearchResults","hoveredIdx","setHoveredIdx","scriptLoaded","selectedText","url","script","createElement","type","onload","head","appendChild","src","loadScript","google","maps","places","AutocompleteService","keyPressEvent","val","length","select","description","getPlacePredictions","input","types","status","selectedItem","poweredByGoogle","require","className","map","r","idx","id","onMouseOver","onClick","alt","Login","Logo","context","onSubmit","icon","faUser","onChange","required","faMapMarkerAlt","place","faInfoCircle","size","faPizzaSlice","IceCreamGirl","FooterLinks","faCopyright","href","rel","faStar","to","faFileSignature","LoginFooter","Triangles","LoginTemplate","icons","faGrinStars","color","borderColor","descText","faSmile","faMeh","faFrown","Vote","currentVote","useContext","i","aria-label","data-balloon-pos","Corner","HoursTable","hours","days","d","day","hourStr","Array","open","forEach","h","start","end","formatAsTime","join","time","slice","openMsg","padZeros","n","today","Date","dayOfWeek","getDay","timeString","getHours","getMinutes","diff","filter","t","undefined","currentDiff","DisplayItem","restaurant","vote","expanded","setExpanded","business","prev","faCircle","faChevronCircleUp","faChevronCircleDown","addedBy","faTrash","price","split","_","faDollarSign","categories","c","faClock","votes","v","faMapPin","display_address","line","transactions","faCheck","faExternalLinkAlt","Display","voteOnRestaurant","addedRestaurants","Object","keys","values","old","CopySessionUrl","inputThemes","buttonThemes","buttonShadowColor","copyTextRef","copied","setCopied","readOnly","style","boxShadow","execCommand","faClipboard","AppFooter","Waves","ModalContainer","shadow","formReducer","prevState","update","stateUpdates","newVal","openDate","openNow","prices","Filters","updateSearchFormState","searchFormFilterState","showFilters","setShowFilters","useReducer","pickup","delivery","restaurant_reservation","state","dispatch","Math","abs","fill","arr","min","entries","priceArray","a","b","repeat","faSlidersH","includes","stops","checked","faExclamationCircle","AddRestaurantButton","isRestaurantsAdded","businessId","adding","setAdding","faCircleNotch","faPlus","DisplaySearchResults","businesses","isAdded","Search","userHashId","searchFormState","setSearchTerm","results","setBusinesses","loadingSearch","setLoadingSearch","filterResults","setFilterResults","updateFilter","data-balloon-length","faSearch","ModalWelcomeHeader","escape","faTimes","ShareSessionModal","Toast","show","UserNameModal","currentUserName","setCurrentUserName","AppTemplate","setAddedRestaurants","setIsAdded","loaded","setLoaded","showVotingToast","setShowVotingToast","showShareSessionModal","setShowShareSessionModal","setSearchFormState","newRestaurant","clone","assign","s","display","newIsAdded","restId","success","previouslyAuthenticated","restaurants","faBinoculars","faDoorOpen","exact","activeClassName","faUtensils","query","render","FourOhFour","faHome","ReadingGirl","TOS","Papers","App","Boolean","hostname","ReactDOM","StrictMode","basename","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.a2354823.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, { useEffect, useRef, useState } from \"react\";\nimport { googleCloudApiKey } from \"./config\";\nimport { useClickOutsideListenerRef } from \"./useClickOutsideListenerRef\";\n\nlet autoComplete: google.maps.places.AutocompleteService;\n\nconst loadScript = (\n  url: string,\n  callback: (this: GlobalEventHandlers, ev: Event) => any\n) => {\n  let script = document.createElement(\"script\");\n  script.type = \"text/javascript\";\n  script.onload = callback;\n  document.head.appendChild(script);\n  script.src = url;\n};\n\nconst PlacesAutocomplete: React.FC<{\n  searchTerm: string;\n  selectPlace: (pl: string) => void;\n}> = ({ searchTerm, selectPlace }) => {\n  let currentSearchTerm = useRef(\"\");\n  let [currentSearchResults, setCurrentSearchResults] = useState<\n    google.maps.places.AutocompletePrediction[]\n  >([]);\n  let [hoveredIdx, setHoveredIdx] = useState(-1);\n  let scriptLoaded = useRef(false);\n  let selectedText = useRef<string>();\n  const ref = useClickOutsideListenerRef(() => setCurrentSearchResults([]));\n\n  const handleScriptLoad = () => {\n    autoComplete = new window.google.maps.places.AutocompleteService();\n    scriptLoaded.current = true;\n  };\n\n  useEffect(() => {\n    loadScript(\n      `https://maps.googleapis.com/maps/api/js?key=${googleCloudApiKey}&libraries=places`,\n      () => handleScriptLoad()\n    );\n  }, []);\n\n  const keyPressEvent = (e: KeyboardEvent) => {\n    switch (e.key) {\n      case \"ArrowDown\":\n        setHoveredIdx((val) => (val + 1) % currentSearchResults.length);\n        break;\n      case \"ArrowUp\":\n        setHoveredIdx(\n          (val) =>\n            (((val - 1) % currentSearchResults.length) +\n              currentSearchResults.length) %\n            currentSearchResults.length\n        );\n        break;\n      case \"Escape\":\n        setCurrentSearchResults([]);\n        setHoveredIdx(-1);\n        break;\n      case \"Enter\":\n        if (hoveredIdx > -1 && currentSearchResults.length > 0) {\n          e.preventDefault();\n          select(currentSearchResults[hoveredIdx].description);\n        setCurrentSearchResults([]);\n        setHoveredIdx(-1);\n        }\n        \n\n    }\n  };\n  useEffect(() => {\n    window.addEventListener(\"keydown\", keyPressEvent);\n\n    return () => window.removeEventListener(\"keydown\", keyPressEvent);\n  });\n\n  // if(Math.abs(searchTerm.length - currentSearchTerm.length)<2){\n  //     setCurrentSearchTerm(searchTerm);\n  // }\n\n  if (\n    scriptLoaded &&\n    searchTerm &&\n    searchTerm !== currentSearchTerm.current\n    // Math.abs(searchTerm.length - currentSearchTerm.current.length) > 1\n  ) {\n    currentSearchTerm.current = searchTerm;\n    autoComplete.getPlacePredictions(\n      { input: searchTerm, types: [\"(regions)\"] },\n      (result, status) => {\n        setCurrentSearchResults(result || []);\n      }\n    );\n  }\n\n  const select = (selectedItem: string) => {\n    selectedText.current = selectedItem;\n    selectPlace(selectedItem);\n    // setCurrentSearchResults([])\n  };\n\n  if (selectedText.current === searchTerm) {\n    return <ul ref={ref} />;\n  }\n\n  const poweredByGoogle = require(\"./assets/powered_by_google_on_white.png\");\n  return (\n    <ul\n      ref={ref}\n      className=\"absolute bg-white z-40 divide-y shadow text-sm rounded-b overflow:hidden\"\n    >\n      {currentSearchResults.map((r, idx) => (\n        <li\n          key={r.id}\n          onMouseOver={(e) => setHoveredIdx(idx)}\n          className={\n            \"px-2 py-1 cursor-pointer \" +\n            (hoveredIdx === idx ? \"bg-theme-blue-l-2 text-white\" : \"\")\n          }\n          onClick={() => select(r.description)}\n        >\n          {r.description}\n        </li>\n      ))}\n      {currentSearchResults.length > 0 && (\n        <div>\n        <img src={poweredByGoogle} alt=\"powered by Google\" className=\"float-right px-2 py-1 w-38\" />\n        </div>\n      )}\n    </ul>\n  );\n};\n\nexport default PlacesAutocomplete;\n","export const googleCloudApiKey = \"AIzaSyAwYvFJPPLX35upT8qE-c9GILuhkE0vAAc\";\nexport const SERVER = \"https://chewapp.herokuapp.com\"; //\"http://localhost:4000\"; //\n","import io from \"socket.io-client\";\nimport {\n\tNewSessionData,\n\tNewSessionCallback,\n\tTryJoinSessionData,\n\tTryJoinSessionCallback,\n\tBusiness,\n} from \"../../shared/types\";\nimport axios from \"axios\";\nimport { SERVER } from \"./config\";\n\nexport class Socket {\n\tsocket: SocketIOClient.Socket;\n\n\tconstructor() {\n\t\tthis.socket = io.connect(SERVER);\n\t}\n\n\tsearch = (\n\t\tsessionId: string,\n\t\tsearchTerm: string,\n\t\topenHours: string,\n\t\tpriceRange: string,\n\t\tservices: string\n\t): Promise<Business[]> =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\taxios\n\t\t\t\t.get(\n\t\t\t\t\t`${SERVER}/search/${sessionId}/${searchTerm}/${openHours}/${priceRange}/${services}`\n\t\t\t\t)\n\t\t\t\t.then((result) => resolve(result.data))\n\t\t);\n\n\tsetUserName = (\n\t\tsessionId: string,\n\t\tuserId: string,\n\t\tuserName: string\n\t): Promise<boolean> =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\taxios\n\t\t\t\t.post(`${SERVER}/setUserName/${sessionId}/${userId}/${userName}`)\n\t\t\t\t.then((result) => resolve(result.data))\n\t\t\t\t.catch(() => console.log(`error`))\n\t\t);\n\n\taddVote = (\n\t\tsessionId: string,\n\t\tuserId: string,\n\t\trestaurantId: string,\n\t\tvoteNum: number\n\t): Promise<boolean> =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\taxios\n\t\t\t\t.post(\n\t\t\t\t\t`${SERVER}/addVote/${sessionId}/${userId}/${restaurantId}/${voteNum}`\n\t\t\t\t)\n\t\t\t\t.then((result) => resolve(result.data))\n\t\t);\n\n\taddRestaurant = (\n\t\tsessionId: string,\n\t\tuserId: string,\n\t\trestaurantId: string\n\t): Promise<boolean> =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\taxios\n\t\t\t\t.post(`${SERVER}/addRestaurant/${sessionId}/${userId}/${restaurantId}`)\n\t\t\t\t.then((result) => resolve(result.data))\n\t\t);\n\n\tremoveRestaurant = (\n\t\tsessionId: string,\n\t\tuserId: string,\n\t\trestaurantId: string\n\t): Promise<boolean> =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\taxios\n\t\t\t\t.post(\n\t\t\t\t\t`${SERVER}/removeRestaurant/${sessionId}/${userId}/${restaurantId}`\n\t\t\t\t)\n\t\t\t\t.then((result) => resolve(result.data))\n\t\t);\n\n\temit = (data: any, callback: (p: any) => void, title: string) => {\n\t\tconsole.log(`socket emitting ${title} with data ${JSON.stringify(data)}`);\n\t\tthis.socket.emit(title, data, callback);\n\t};\n\n\tnewSession: (data: NewSessionData, callback: NewSessionCallback) => void = (\n\t\tdata,\n\t\tcallback\n\t) => {\n\t\tthis.emit(data, callback, \"newSession\");\n\t};\n\n\ttryJoinSession: (\n\t\tdata: TryJoinSessionData,\n\t\tcallback: TryJoinSessionCallback\n\t) => void = (data, callback) => {\n\t\tthis.emit(data, callback, \"tryJoinSession\");\n\t};\n\n\tsubscribeToVoteAdded = (callback: Function) => {\n\t\tthis.socket.on(\"addedVote\", callback);\n\t};\n\n\tunSubscribeToVoteAdded = () => {\n\t\tthis.socket.off(\"addedVote\");\n\t};\n\n\tsubscribeToRestaurantAdded = (callback: Function) => {\n\t\tthis.socket.on(\"addedRestaurant\", callback);\n\t};\n\n\tunSubscribeToRestaurantAdded = () => {\n\t\tthis.socket.off(\"addedRestaurant\");\n\t};\n\n\tsubscribeToRestaurantRemoved = (callback: Function) => {\n\t\tthis.socket.on(\"removedRestaurant\", callback);\n\t};\n\n\tunSubscribeToRestaurantRemoved = () => {\n\t\tthis.socket.off(\"removedRestaurant\");\n\t};\n}\n\nlet socket = new Socket();\nexport default socket;\n","import React, { FormEvent, useEffect, useState } from \"react\";\nimport { matchPath, useHistory, useLocation } from \"react-router-dom\";\nimport socket from \"./socket\";\nimport md5 from \"blueimp-md5\";\n\nexport const UserContext = React.createContext<any>({});\nconst { Provider, Consumer } = UserContext;\n\nexport const UserContextProvider: React.FC = ({ children }) => {\n\tlet [sessionId, setSessionId] = useState(\"\");\n\tlet [userId, setUserId] = useState<string>();\n\tlet [userState, setUserState] = useState(\"\");\n\tlet [location, setLocation] = useState(\"\");\n\tlet [previousVotes, setPreviousVotes] = useState<{\n\t\t[restaurantId: string]: number;\n\t}>({});\n\tlet [creator, setCreator] = useState<{ name: string; hashId: string }>();\n\tlet [userIdHash, setUserIdHash] = useState(\"\");\n\tlet history = useHistory();\n\n\tlet appLoc = useLocation();\n\n\tuseEffect(() => {\n\t\tconst sUserId = localStorage.getItem(\"chewUserId\");\n\t\tif (sUserId) {\n\t\t\tsetUserId(sUserId);\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (userId) {\n\t\t\tconsole.log(`setting localStorage`);\n\t\t\tlocalStorage.setItem(\"chewUserId\", userId);\n\t\t\tsetUserIdHash(md5(userId));\n\t\t}\n\t}, [userId]);\n\n\tuseEffect(() => {\n\t\tconst match = matchPath<{ sessionId: string }>(appLoc.pathname, {\n\t\t\tpath: \"/ID/:sessionId\",\n\t\t});\n\t\tif (match) {\n\t\t\tsetSessionId(match.params.sessionId);\n\t\t}\n\t}, [location, appLoc.pathname]);\n\n\tlet createSession = (e: FormEvent, userName: string, loc: string) => {\n\t\te.preventDefault();\n\t\tsetLocation(loc);\n\t\tsocket.newSession({ userName, location: loc, userId }, (response) => {\n\t\t\tsetSessionId(response.sessionId || \"\");\n\t\t\tsetCreator({ name: userName, hashId: md5(response.userId || \"\") });\n\t\t\tsetUserId(response.userId);\n\t\t\tsetUserState(\"canVote\");\n\t\t\thistory.push(`/ID/${response.sessionId}`);\n\t\t\t// history.\n\t\t\twindow.history.replaceState({ fromLogin: true }, \"\");\n\t\t\t// console.log(`window.history.state: ${JSON.stringify(window.history.state)}`)\n\t\t});\n\t\t// history.push(\"/home\");\n\t\t// setSessionId(sessId)\n\t};\n\treturn (\n\t\t<Provider\n\t\t\tvalue={{\n\t\t\t\tsessionId,\n\t\t\t\tsetSessionId,\n\t\t\t\tuserId,\n\t\t\t\tuserIdHash,\n\t\t\t\tsetUserId,\n\t\t\t\tuserState,\n\t\t\t\tsetUserState,\n\t\t\t\tcreateSession,\n\t\t\t\tlocation,\n\t\t\t\tsetLocation,\n\t\t\t\tcreator,\n\t\t\t\tsetCreator,\n\t\t\t\tpreviousVotes,\n\t\t\t\tsetPreviousVotes,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</Provider>\n\t);\n};\n\nexport { Consumer as UserContextConsumer };\n","import { useCallback, useEffect, useRef } from 'react'\n\nexport const useClickOutsideListenerRef = (onClose: () => void) => {\n  const ref = useRef(null)\n  const escapeListener = useCallback((e: KeyboardEvent) => {\n    if (e.key === 'Escape') {\n      onClose()\n    }\n  }, [onClose])\n  const clickListener = useCallback(\n    (e: MouseEvent) => {\n      if (!(ref.current! as any).contains(e.target)) {\n        onClose?.()\n      }\n    },\n    [onClose],\n  )\n  useEffect(() => {\n    document.addEventListener('click', clickListener)\n    document.addEventListener('keyup', escapeListener)\n    return () => {\n      document.removeEventListener('click', clickListener)\n      document.removeEventListener('keyup', escapeListener)\n    }\n  }, [clickListener, escapeListener])\n  return ref\n}","import React, { useState } from \"react\";\nimport IceCreamGirl from \"./assets/ice_cream_girl.svg\";\nimport Logo from \"./assets/chew_logo.svg\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n\tfaInfoCircle,\n\tfaMapMarkerAlt,\n\tfaPizzaSlice,\n\tfaUser,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { UserContextConsumer } from \"./UserDataContext\";\nimport PlacesAutocomplete from \"./PlacesAutocomplete\";\n\nconst Login: React.FC = () => {\n\tlet [userName, setUserName] = useState(\"\"),\n\t\t[location, setLocation] = useState(\"\");\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex-1 py-2 px-4 md:px-6 bg-theme-red text-gray-200 rounded-lg shadow-lg max-w-lg md:m-2 lg:mr-6\">\n\t\t\t\t<img className=\"w-40\" src={Logo} alt=\"chew logo\" />\n\t\t\t\t<p className=\"font-display text-lg leading-tight py-1\">\n\t\t\t\t\tChew is the easiest way to pick a restaurant with your friends and\n\t\t\t\t\tfamily. Simply create a session, share the link, and everyone can add\n\t\t\t\t\trestaurants that they're interested in and vote on each other's\n\t\t\t\t\tselections.\n\t\t\t\t</p>\n\t\t\t\t<UserContextConsumer>\n\t\t\t\t\t{(context) => (\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tonSubmit={(e) => context.createSession(e, userName, location)}\n\t\t\t\t\t\t\tclassName=\"p-3 bg-gray-100 text-gray-600 rounded my-4 mx-4 lg:mx-6 shadow\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h2 className=\"font-bold font-display text-xl text-gray-700 italic\">\n\t\t\t\t\t\t\t\tCreate a new session:\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<label className=\"block my-2 mx-3\">\n\t\t\t\t\t\t\t\t<span className=\"uppercase font-bold text-sm\">Your name:</span>\n\t\t\t\t\t\t\t\t<div className=\"py-1 px-2 rounded border border-gray-300 bg-white focus-within:border-theme-blue-l-2 w-max-content\">\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faUser} className=\"mr-2\" />\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclassName=\"px-2 focus:outline-none border-l\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={userName}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setUserName(e.target.value)}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label className=\"block my-2 mx-3\">\n\t\t\t\t\t\t\t\t<span className=\"uppercase font-bold text-sm\">Location:</span>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\"py-1 px-2 rounded border border-gray-300 bg-white focus-within:border-theme-blue-l-2 w-max-content \"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faMapMarkerAlt} className=\"mr-2\" />\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclassName=\"px-2 focus:outline-none border-l\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={location}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setLocation(e.target.value)}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<PlacesAutocomplete\n\t\t\t\t\t\t\t\t\tsearchTerm={location}\n\t\t\t\t\t\t\t\t\tselectPlace={(place) => setLocation(place)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"text-gray-500 italic text-sm leading-none my-2 ml-4 flex items-center\">\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faInfoCircle}\n\t\t\t\t\t\t\t\t\tclassName=\"pr-2 flex-none\"\n\t\t\t\t\t\t\t\t\tsize=\"2x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<p className=\"flex-initial\">\n\t\t\t\t\t\t\t\t\tResults returned will not be strictly within this area, it\n\t\t\t\t\t\t\t\t\tserves as a starting point for your search.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"relative overflow-hidden group text-white\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tclassName=\"block w-full p-2 uppercase font-bold tracking-wide bg-theme-yellow hover:bg-theme-dark-yellow rounded shadow btn-focus\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tcreate\n\t\t\t\t\t\t\t\t</button>{\" \"}\n\t\t\t\t\t\t\t\t{/* LEFT SIDE */}\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute left-0 top-0 group-hover:mt-10 group-hover:ml-12 -mt-16 ml-2 opacity-75 transition-spacing duration-500 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"4x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute left-0 top-0 group-hover:-mt-12 group-hover:ml-24 mt-12 ml-0 opacity-75 transition-spacing duration-300 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"3x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/* RIGHT SIDE */}\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute right-0 top-0 group-hover:mt-10 group-hover:mr-24 -mt-20 mr-16 opacity-75 transition-spacing duration-500 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"4x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute right-0 top-0 group-hover:-mt-12 group-hover:mr-2 mt-16 mr-12 opacity-75 transition-spacing duration-300 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"3x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute right-0 top-0 group-hover:-mt-12 group-hover:mr-20 mt-16 mr-0 opacity-75 transition-spacing duration-300 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"3x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t)}\n\t\t\t\t</UserContextConsumer>\n\t\t\t\t<div className=\"p-4 border-l-8 border-gray-200 bg-white bg-opacity-25 m-2 md:my-4 md:mx-8 rounded shadow leading-tight\">\n\t\t\t\t\tIf you are trying to join someone else's session, copy and paste the\n\t\t\t\t\tsession link to your browser.\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* <div> */}\n\t\t\t<img\n\t\t\t\tclassName=\"flex-1 hidden md:inline max-w-lg\"\n\t\t\t\tsrc={IceCreamGirl}\n\t\t\t\talt=\"girl holding a giant ice cream cone\"\n\t\t\t/>\n\t\t\t{/* </div> */}\n\t\t</>\n\t);\n};\n\nexport default Login;\n","import {\n  faCopyright,\n  faStar,\n  faFileSignature,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst FooterLinks: React.FC = () => (\n  <>\n    <p>\n      <FontAwesomeIcon icon={faCopyright} size=\"sm\" className=\"mr-2\" />\n      <a\n        href=\"http://lauraschultz.dev\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Laura Schultz\n      </a>{\" \"}\n      2020\n    </p>\n    <a\n      className=\"block\"\n      href=\"http://github.com/lauraschultz/chew\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      <FontAwesomeIcon icon={faStar} size=\"sm\" className=\"mr-2\" />\n      star on Github\n    </a>\n    <Link to=\"/TOS\">\n      <FontAwesomeIcon icon={faFileSignature} size=\"sm\" className=\"mr-2\" />\n      terms of use & privacy policy\n    </Link>\n  </>\n);\n\nexport default FooterLinks;","import React from \"react\";\nimport Triangles from \"./assets/triangles.svg\";\nimport FooterLinks from \"./FooterLinks\";\nimport Logo from \"./assets/chew_logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nconst LoginFooter: React.FC = () => (\n  <footer className=\"w-full\">\n    <img src={Triangles} alt=\"decorative footer border\"/>\n    <div className=\"bg-theme-dark-gray text-white p-2 md:px-8 md:py-4 lg:px-24 block sm:flex justify-around leading-tight items-center\">\n      <Link to=\"/getStarted\">\n        <img className=\"flex-initial w-32\" src={Logo} alt=\"chew logo\"/>\n      </Link>\n      <div className=\"flex-initial\">\n        <FooterLinks />\n      </div>\n    </div>\n  </footer>\n);\n\nexport default LoginFooter;\n","import React from \"react\";\nimport LoginFooter from \"../LoginFooter\";\n\nconst LoginTemplate: React.FC = ({ children }) => {\n  return (\n    <>\n      <main className=\"flex-grow flex justify-center w-screen items-center\">\n        {children}\n      </main>\n      <LoginFooter />\n    </>\n  );\n};\n\nexport default LoginTemplate;\n","import {\n  faSmile,\n  faMeh,\n  faFrown,\n  faGrinStars,\n} from \"@fortawesome/free-solid-svg-icons\";\nexport const icons = [\n  { icon: faGrinStars, color: \"text-theme-blue\", borderColor:\"border-theme-blue\", descText: \"I love it!\" },\n  { icon: faSmile, color: \"text-theme-blue-l-1\", borderColor:\"border-theme-blue-l-1\", descText: \"I like it\" },\n  { icon: faMeh, color: \"text-theme-blue-l-2\", borderColor:\"border-theme-blue-l-2\", descText: \"Meh.\" },\n  { icon: faFrown, color: \"text-theme-blue-l-3\", borderColor:\"border-theme-blue-l-3\", descText: \"I don't like it\" },\n];\n","import React, { useContext } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { icons } from \"./VotingIcons\";\nimport { UserContext } from \"./UserDataContext\";\nimport Corner from \"./assets/corner.svg\";\n\nconst Vote: React.FC<{\n  addVote: Function;\n  currentVote: number | undefined;\n}> = ({ addVote, currentVote }) => {\n  const { userState } = useContext(UserContext);\n  if (userState === \"canView\") {\n    return null;\n  }\n  return (\n    <form\n      className=\"flex items-center justify-center\"\n      onSubmit={(e) => e.preventDefault()}\n    >\n      <span className=\"text-theme-dark-gray tracking-wide font-bold italic uppercase mr-2\">\n        vote:\n      </span>\n      {icons.map((i, idx) => (\n        <button\n          key={idx}\n          className=\"p-xs m-xs btn-focus rounded-full\"\n          // className={\"fa-layers fa-fw fa-2x m-1\"}\n          onClick={() => addVote(idx)}\n          aria-label={i.descText}\n          data-balloon-pos=\"down\"\n        >\n          <div className=\"leading-none bg-white rounded-full\">\n            <FontAwesomeIcon className={i.color} icon={i.icon} size=\"2x\" />\n          </div>\n          <div className={currentVote === idx ? \"\" : \"hidden\"}>\n            <img src={Corner} className=\"absolute top-0 left-0\" alt=\"\" />\n            <img\n              src={Corner}\n              className=\"absolute top-0 right-0 transform rotate-90\"\n              alt=\"\"\n            />\n            <img\n              src={Corner}\n              className=\"absolute bottom-0 right-0 transform rotate-180\"\n              alt=\"\"\n            />\n            <img\n              src={Corner}\n              className=\"absolute bottom-0 left-0 transform -rotate-90\"\n              alt=\"\"\n            />\n          </div>\n\n          {/* <FontAwesomeIcon\n            className=\"text-white\"\n              icon={faCircle}\n              // size=\"2x\"\n            /> */}\n        </button>\n      ))}\n    </form>\n  );\n};\n\nexport default Vote;\n","import {\n\tfaCircle,\n\tfaChevronCircleUp,\n\tfaChevronCircleDown,\n\tfaDollarSign,\n\tfaClock,\n\tfaMapPin,\n\tfaCheck,\n\tfaExternalLinkAlt,\n\tfaTrash,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { ReactNode, useState } from \"react\";\nimport { icons } from \"./VotingIcons\";\nimport { BusinessWithVotes, Hours } from \"../../shared/types\";\nimport socket from \"./socket\";\n\nexport const DisplayItem: React.FC<{\n\trestaurant: BusinessWithVotes;\n\taddRestaurant?: ReactNode;\n\tvote?: ReactNode;\n\tuserIdHash?: string;\n\tuserId?: string;\n\tsessionId?: string;\n}> = ({ restaurant, addRestaurant, vote, userIdHash, userId, sessionId }) => {\n\tlet [expanded, setExpanded] = useState(false);\n\t// let {userState} = useContext(UserContext);\n\treturn (\n\t\t<div\n\t\t\tkey={restaurant.business.id}\n\t\t\tclassName=\"relative p-1 lg:p-2 my-1 max-w-md mx-auto flex\"\n\t\t>\n\t\t\t<button\n\t\t\t\tclassName=\"fa-layers fa-fw fa-2x absolute m-2 right-0 btn-focus rounded-full\"\n\t\t\t\tonClick={() => setExpanded((prev) => !prev)}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon className=\" text-white\" icon={faCircle} />\n\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\tclassName=\" text-theme-yellow\"\n\t\t\t\t\ticon={expanded ? faChevronCircleUp : faChevronCircleDown}\n\t\t\t\t/>\n\t\t\t</button>\n\n\t\t\t<div className=\"flex-initial\">{addRestaurant}</div>\n\n\t\t\t<div className=\"flex-1\">\n\t\t\t\t{restaurant.addedBy && (\n\t\t\t\t\t<div className=\"text-xs uppercase tracking-wide text-theme-med-gray mb-xs\">\n\t\t\t\t\t\tAdded by{\" \"}\n\t\t\t\t\t\t{userIdHash === restaurant.addedBy.hashId\n\t\t\t\t\t\t\t? \"You\"\n\t\t\t\t\t\t\t: restaurant.addedBy.name}\n\t\t\t\t\t\t{userIdHash === restaurant.addedBy.hashId && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tsocket.removeRestaurant(\n\t\t\t\t\t\t\t\t\t\tsessionId || \"\",\n\t\t\t\t\t\t\t\t\t\tuserId || \"\",\n\t\t\t\t\t\t\t\t\t\trestaurant.business.id\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"mx-1 px-2 border border-theme-extra-light-gray rounded hover:bg-theme-red hover:text-white hover:border-theme-red btn-focus\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTrash} className=\"mr-1\" />\n\t\t\t\t\t\t\t\tremove\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<h2 className=\"leading-tight font-display italic font-bold text-xl text-theme-dark-gray mr-8\">\n\t\t\t\t\t{restaurant.business.name}\n\t\t\t\t\t{restaurant.business.price && (\n\t\t\t\t\t\t<span className=\"ml-2 px-1 pt-1 rounded bg-theme-light-gray text-white text-sm whitespace-no-wrap\">\n\t\t\t\t\t\t\t{restaurant.business.price.split(\"\").map((_, i) => (\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faDollarSign} key={i} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</h2>\n\t\t\t\t<div className=\"pl-3\">\n\t\t\t\t\t<div className=\"text-theme-light-gray font-display leading-none mr-8\">\n\t\t\t\t\t\t{restaurant.business.categories.map((c) => c.title).join(\", \")}\n\t\t\t\t\t</div>\n\t\t\t\t\t{restaurant.business.hours && restaurant.business.hours[0] && (\n\t\t\t\t\t\t<div className=\"text-theme-light-gray uppercase font-bold tracking-wide text-sm leading-none\">\n\t\t\t\t\t\t\t<FontAwesomeIcon icon={faClock} className=\"mr-1\" />\n\t\t\t\t\t\t\t{openMsg(restaurant.business.hours[0])}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{restaurant.votes.length > 0 && (\n\t\t\t\t\t\t<div className=\"my-1\">\n\t\t\t\t\t\t\t{restaurant.votes.map((v, idx) =>\n\t\t\t\t\t\t\t\tv ? (\n\t\t\t\t\t\t\t\t\t<span className=\"m-1 border-theme-dark-gray rounded-sm border bg-white bg-opacity-50 shadow\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-theme-dark-gray text-white px-1\">\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={icons[idx].icon} />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"px-2 text-theme-dark-gray\">{v}</span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{!addRestaurant ? vote : null}\n\t\t\t\t\t{expanded && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{addRestaurant ? vote : null}\n\n\t\t\t\t\t\t\t<div className=\"flex justify-around mt-2\">\n\t\t\t\t\t\t\t\t<div className=\"flex-shrink-0\">\n\t\t\t\t\t\t\t\t\t<HoursTable hours={restaurant.business.hours} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex-initial\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\t\t\ticon={faMapPin}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-none mt-1 mr-2\"\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-initial\">\n\t\t\t\t\t\t\t\t\t\t\t{restaurant.business.location.display_address.map(\n\t\t\t\t\t\t\t\t\t\t\t\t(line) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{line}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{restaurant.business.transactions &&\n\t\t\t\t\t\t\t\t\t\trestaurant.business.transactions.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"uppercase tracking-wide font-bold text-theme-med-gray text-sm font-light\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tServices offered:\n\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\n\t\t\t\t\t\t\t\t\t\t\t\t{restaurant.business.transactions.map((t) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={faCheck}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2 text-green-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName=\"block text-center rounded w-full py-1 px-3 bg-theme-red text-white font-bold italic mt-3\"\n\t\t\t\t\t\t\t\t\t\thref={restaurant.business.url}\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tmore info\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\t\t\ticon={faExternalLinkAlt}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst HoursTable: React.FC<{ hours: [Hours] | undefined }> = ({ hours }) => {\n\tif (!hours || !hours[0]) {\n\t\treturn (\n\t\t\t<div className=\"text-theme-light-gray py-2 px-4 rounded my-3 border border-theme-light-gray italic text-sm\">\n\t\t\t\tNo hours available.\n\t\t\t</div>\n\t\t);\n\t}\n\tlet days = [\n\t\t\"Mon\",\n\t\t\"Tues\",\n\t\t\"Weds\",\n\t\t\"Thurs\",\n\t\t\"Fri\",\n\t\t\"Sat\",\n\t\t\"Sun\",\n\t].map((d: string) => ({ day: d, hourStr: new Array<string>() }));\n\tlet dateify = (start: string, end: string): string =>\n\t\t`${formatAsTime(start)} - ${formatAsTime(end)}`;\n\thours[0].open.forEach((h) =>\n\t\tdays[h.day].hourStr.push(dateify(h.start, h.end))\n\t);\n\treturn (\n\t\t<table>\n\t\t\t<tbody>\n\t\t\t\t{days.map((day) => (\n\t\t\t\t\t<tr key={day.day}>\n\t\t\t\t\t\t<th className=\"text-left py-0 align-top\">{day.day}</th>\n\t\t\t\t\t\t<td className=\"py-0 pl-3 whitespace-pre\">\n\t\t\t\t\t\t\t{day.hourStr.length > 0 ? (\n\t\t\t\t\t\t\t\tday.hourStr.join(\",\\n\")\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span className=\"italic text-theme-light-gray\">Closed</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t))}\n\t\t\t</tbody>\n\t\t</table>\n\t);\n};\n\nconst formatAsTime = (time: string): string =>\n\t`${time.slice(0, 2)}:${time.slice(2)}`;\n\nconst openMsg = (hours: Hours): string => {\n\tconst padZeros = (n: number) => (\"00\" + n).slice(-2);\n\tconst today = new Date();\n\tconst dayOfWeek = (((today.getDay() - 1) % 6) + 6) % 6;\n\tconst timeString = padZeros(today.getHours()) + padZeros(today.getMinutes());\n\tlet diff = 9999999;\n\tconst days = hours.open.filter((h) => h.day === dayOfWeek);\n\tif (days.length === 0) {\n\t\treturn \"Closed\";\n\t}\n\tlet t: string | undefined = undefined;\n\tfor (let h of days) {\n\t\tif (timeString < h.start) {\n\t\t\t// will open later\n\t\t\tconst currentDiff = +h.start - +timeString;\n\t\t\tif (currentDiff < diff) {\n\t\t\t\tt = formatAsTime(h.start);\n\t\t\t\tdiff = currentDiff;\n\t\t\t}\n\t\t} else if (timeString < h.end) {\n\t\t\t// open now\n\t\t\treturn \"Open now\";\n\t\t}\n\t}\n\tif (t) {\n\t\treturn `Opens at ${t}`;\n\t}\n\treturn \"Closed\";\n};\n\nexport default DisplayItem;\n","import React, { useContext } from \"react\";\nimport { BusinessWithVotes } from \"../../shared/types\";\nimport Vote from \"./Vote\";\nimport DisplayItem from \"./DisplayItem\";\nimport { UserContext } from \"./UserDataContext\";\n// import { matchPath, RouteComponentProps, useParams } from \"react-router-dom\";\n\nconst Display: React.FC<{\n\tvoteOnRestaurant: Function;\n\taddedRestaurants: { [id: string]: BusinessWithVotes };\n\t// previousVotes: {[restaurantId:string]: number}\n}> = ({ voteOnRestaurant, addedRestaurants }) => {\n\tlet {\n\t\tpreviousVotes,\n\t\tsetPreviousVotes,\n\t\tuserIdHash,\n\t\tuserId,\n\t\tsessionId,\n\t} = useContext(UserContext);\n\treturn (\n\t\t<div className=\"divide-y divide-theme-extra-light-gray\">\n\t\t\t<h2 className=\"max-w-md mx-auto text-2xl px-1 text-theme-dark-gray font-display leading-none\">\n\t\t\t\tRestaurants\n\t\t\t</h2>\n\t\t\t{Object.keys(addedRestaurants).length === 0 && (\n\t\t\t\t<div className=\"text-theme-light-gray py-2 px-4 rounded my-3 border border-theme-light-gray italic text-sm mx-auto max-w-md\">\n\t\t\t\t\tNo restaurants have been added\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{Object.values(addedRestaurants).map((r) => (\n\t\t\t\t<DisplayItem\n\t\t\t\t\tkey={r.business.id}\n\t\t\t\t\trestaurant={r}\n\t\t\t\t\tvote={\n\t\t\t\t\t\t<Vote\n\t\t\t\t\t\t\tcurrentVote={previousVotes[r.business.id]}\n\t\t\t\t\t\t\taddVote={(voteNum: number) => {\n\t\t\t\t\t\t\t\tvoteOnRestaurant(r.business.id, voteNum);\n\t\t\t\t\t\t\t\tsetPreviousVotes((old: { [restaurantId: string]: number }) => ({\n\t\t\t\t\t\t\t\t\t...old,\n\t\t\t\t\t\t\t\t\t[r.business.id]: voteNum,\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\tuserIdHash={userIdHash}\n\t\t\t\t\tuserId={userId}\n\t\t\t\t\tsessionId={sessionId}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default Display;\n","import { faClipboard } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useRef, useState } from \"react\";\n\nconst CopySessionUrl: React.FC<{\n\tinputThemes: string;\n\tbuttonThemes: string;\n\tbuttonShadowColor: string;\n}> = ({ inputThemes, buttonThemes, buttonShadowColor }) => {\n\tlet copyTextRef = useRef<HTMLInputElement>(null);\n\tlet [copied, setCopied] = useState(false);\n\n\treturn (\n\t\t<div className=\"w-max-content text-sm\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tref={copyTextRef}\n\t\t\t\treadOnly\n\t\t\t\tclassName={\n\t\t\t\t\t\"border rounded-l py-1 pl-2 w-32 overflow-hidden btn-focus \" +\n\t\t\t\t\tinputThemes\n\t\t\t\t}\n\t\t\t\tvalue={window.location.href}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\taria-label={copied ? \"Copied!\" : \"Copy to clipboard\"}\n\t\t\t\tdata-balloon-pos=\"up\"\n\t\t\t\tclassName={`rounded-r py-1 px-2 border btn-focus ${buttonThemes}`}\n\t\t\t\tstyle={{\n\t\t\t\t\tboxShadow: `${buttonShadowColor} -5px 0 8px`,\n\t\t\t\t}}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\tcopyTextRef.current?.select();\n\t\t\t\t\tdocument.execCommand(\"copy\");\n\t\t\t\t\tsetCopied(true);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon={faClipboard} />\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default CopySessionUrl;\n","import React from \"react\";\nimport CopySessionUrl from \"./CopySessionUrl\";\nimport Waves from \"./assets/waves.svg\";\nimport FooterLinks from \"./FooterLinks\";\n\nconst AppFooter: React.FC = () => (\n  <footer className=\"text-theme-red w-full\">\n    <img src={Waves} alt=\"decorative footer border\"/>\n    <div className=\"bg-theme-red text-white p-2 md:px-8 md:py-4 lg:px-24 block sm:flex justify-around leading-tight\">\n      <div className=\"flex-initial\">\n        <p className=\"mb-1\">Share this session with others:</p>\n        <CopySessionUrl\n          buttonThemes=\"bg-white text-theme-red border-white\"\n          buttonShadowColor=\"#e8505b\"\n          inputThemes=\"border-white bg-theme-red\"\n        />\n      </div>\n      <div className=\"flex-initial\">\n        <FooterLinks />\n      </div>\n\n      {/* <Link to=\"\">show restaurants</Link>\n          <Link to=\"\">show search</Link> */}\n    </div>\n  </footer>\n);\n\nexport default AppFooter;\n","import React from \"react\";\n\nconst ModalContainer: React.FC<{shadow: boolean}> = ({ shadow, children }) => {\n  return (\n      <div className=\"w-screen h-screen absolute bg-gray-800 bg-opacity-75 flex justify-center items-center z-40\">\n          <div className={\"rounded max-w-sm m-2 \" + (shadow ? \"shadow-2xl\" : \"\")}>\n              {children}\n          </div>\n      </div>\n    );\n  \n};\n\nexport default ModalContainer;\n","import {\n\tfaExclamationCircle,\n\tfaSlidersH,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect, useReducer, useState } from \"react\";\nimport { FilterResults } from \"./Search\";\nimport { FilterForm, SearchFormState } from \"./Templates/AppTemplate\";\n\nconst Filters: React.FC<{\n\tupdate: (newFilters: FilterResults) => void;\n\tupdateSearchFormState: (s: Partial<SearchFormState>) => void;\n\tsearchFormFilterState?: FilterForm;\n}> = ({ update, updateSearchFormState, searchFormFilterState }) => {\n\tconst initialForm: FilterForm = {\n\t\topenDate: \"any\",\n\t\topenNow: false,\n\t\tprices: [0, 3],\n\t\tservices: {\n\t\t\tpickup: true,\n\t\t\tdelivery: true,\n\t\t\trestaurant_reservation: true,\n\t\t},\n\t};\n\tlet [showFilters, setShowFilters] = useState(false);\n\t// let location = useLocation();\n\t// let history = useHistory()\n\tconst [state, dispatch] = useReducer(\n\t\tformReducer,\n\t\tsearchFormFilterState || initialForm\n\t);\n\t//   let [[price1, price2], setPrices] = useState<(number | undefined)[]>([0, 3]);\n\t// let onlyOnePriceSet: boolean;\n\n\tuseEffect(() => {\n\t\tupdateSearchFormState({ filter: state });\n\t}, [state, updateSearchFormState]);\n\n\t// useEffect(() => {\n\t//   onlyOnePriceSet = !(state.prices[0]! > -1 && state.prices[1]! > -1);\n\t// }, [state.prices]);\n\n\tconst min = (arr: (number | undefined)[]) => {\n\t\tlet min = 99;\n\t\tarr.forEach((n) => {\n\t\t\tif (typeof n === \"number\" && n < min) {\n\t\t\t\tmin = n;\n\t\t\t}\n\t\t});\n\t\treturn min;\n\t};\n\n\tuseEffect(() => {\n\t\tupdate({\n\t\t\topenHours:\n\t\t\t\tstate.openDate === \"any\" ? \"any\" : state.openNow ? \"now\" : \"today\",\n\t\t\tpriceRange: new Array(\n\t\t\t\tstate.prices[1] === undefined\n\t\t\t\t\t? 1\n\t\t\t\t\t: Math.abs(state.prices[0]! - state.prices[1]!) + 1\n\t\t\t)\n\t\t\t\t.fill(0)\n\t\t\t\t.map((_, idx) => min(state.prices) + 1 + idx)\n\t\t\t\t.join(\",\"),\n\t\t\tservices: Object.entries(state.services)\n\t\t\t\t.filter(([_, b]) => b)\n\t\t\t\t.map(([e, _]) => e)\n\t\t\t\t.join(\",\"),\n\t\t});\n\t}, [state, update]);\n\n\tconst isBetween = (n: number, stops: (number | undefined)[]) => {\n\t\tif (!(typeof stops[0] === \"number\" && typeof stops[1] === \"number\")) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (stops[0] < n && n < stops[1]) || (stops[1] < n && n < stops[0]);\n\t};\n\tconst priceArray = new Array(4).fill(\"\").map((a, b) => \"$\".repeat(b + 1));\n\n\treturn (\n\t\t<>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"m-1 px-2 py-1 text-theme-blue border border-theme-blue bg-white rounded shadow font-bold text-sm uppercase tracking-wide btn-focus\"\n\t\t\t\tonClick={() => setShowFilters(!showFilters)}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon={faSlidersH} className=\"mr-2\" />\n\t\t\t\t{showFilters ? \"hide\" : \"show\"} filters\n\t\t\t</button>\n\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\t\"px-2 pb-2 flex flex-wrap border-b border-theme-extra-light-gray \" +\n\t\t\t\t\t(showFilters ? \"\" : \"hidden\")\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div className=\"w-full sm:w-1/2\">\n\t\t\t\t\t<span className=\"text-sm font-bold uppercase tracking-wide text-theme-med-gray\">\n\t\t\t\t\t\tPrice Range\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<div className=\"group mt-1 ml-2 mb-3 text-sm\">\n\t\t\t\t\t\t{priceArray.map((d, idx) => (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\tonClick={() => dispatch({ key: \"price\", newVal: idx })}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\"relative px-2 btn-focus \" +\n\t\t\t\t\t\t\t\t\t(state.prices.includes(idx)\n\t\t\t\t\t\t\t\t\t\t? \"bg-theme-blue text-white px-1 py-2 rounded-full z-30 \"\n\t\t\t\t\t\t\t\t\t\t: \"\") +\n\t\t\t\t\t\t\t\t\t(isBetween(idx, state.prices)\n\t\t\t\t\t\t\t\t\t\t? \"bg-theme-blue-l-3 text-black py-1 px-4 -mx-2 z-20 \"\n\t\t\t\t\t\t\t\t\t\t: \"\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{d}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<span className=\"text-sm font-bold uppercase tracking-wide text-theme-med-gray\">\n\t\t\t\t\t\tOpen Hours\n\t\t\t\t\t</span>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus rounded-full\"\n\t\t\t\t\t\t\tchecked={state.openDate === \"any\"}\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"day\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ newVal: \"any\", key: \"openDate\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tAny time\n\t\t\t\t\t</label>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus rounded-full\"\n\t\t\t\t\t\t\tchecked={state.openDate === \"today\"}\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"day\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ newVal: \"today\", key: \"openDate\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tToday\n\t\t\t\t\t\t<label className=\"block px-4 -mt-1 mb-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\t\tchecked={state.openNow}\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"openNow\" })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\tOpen now\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"w-full sm:w-1/2\">\n\t\t\t\t\t<span className=\"text-sm font-bold uppercase tracking-wide text-theme-med-gray\">\n\t\t\t\t\t\tServices Offered\n\t\t\t\t\t</span>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\tchecked={state.services.pickup}\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"pickup\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tPickup\n\t\t\t\t\t</label>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\tchecked={state.services.delivery}\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"delivery\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tDelivery\n\t\t\t\t\t</label>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\tchecked={state.services.restaurant_reservation}\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"restaurant_reservation\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tRestaurant reservation\n\t\t\t\t\t</label>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\tstate.services.pickup ||\n\t\t\t\t\t\t\t\tstate.services.delivery ||\n\t\t\t\t\t\t\t\tstate.services.restaurant_reservation\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t? \"mx-6 my-1 bg-white bg-opacity-50 border-l-4 border-orange-500 px-2 py-1 rounded text-sm italic\"\n\t\t\t\t\t\t\t\t: \"hidden\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\ticon={faExclamationCircle}\n\t\t\t\t\t\t\tclassName=\"text-orange-500 mr-2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tPlease select at least one service.\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nfunction formReducer(\n\tprevState: FilterForm,\n\tupdate: { newVal?: any; key: string }\n): FilterForm {\n\tconst stateUpdates: Partial<FilterForm> = {};\n\tif (update.key === \"openDate\") {\n\t\tif (update.newVal === \"any\") {\n\t\t\tstateUpdates.openDate = \"any\";\n\t\t\tstateUpdates.openNow = false;\n\t\t} else {\n\t\t\tstateUpdates.openDate = \"today\";\n\t\t}\n\t} else if (update.key === \"openNow\") {\n\t\tstateUpdates.openNow = !prevState.openNow;\n\t\tif (stateUpdates.openNow) {\n\t\t\tstateUpdates.openDate = \"today\";\n\t\t}\n\t} else if (\n\t\tupdate.key === \"delivery\" ||\n\t\tupdate.key === \"pickup\" ||\n\t\tupdate.key === \"restaurant_reservation\"\n\t) {\n\t\tstateUpdates.services = {\n\t\t\t...prevState.services,\n\t\t\t[update.key]: !prevState.services[update.key],\n\t\t};\n\t} else if (update.key === \"price\") {\n\t\tif (\n\t\t\ttypeof prevState.prices[0] === \"number\" &&\n\t\t\ttypeof prevState.prices[1] === \"number\"\n\t\t) {\n\t\t\tstateUpdates.prices = [update.newVal, undefined];\n\t\t} else if (typeof prevState.prices[0] === \"number\") {\n\t\t\tstateUpdates.prices = [prevState.prices[0], update.newVal];\n\t\t}\n\t}\n\tconst newState = { ...prevState, ...stateUpdates };\n\n\t// window.history.replaceState({\n\t//   ...window.history.state,\n\t//   filter: JSON.stringify(newState)\n\t// }, \"\")\n\treturn newState;\n}\n\nexport default Filters;\n","import { faCheck, faCircleNotch, faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState } from \"react\"\nimport socket from \"./socket\";\n\nconst AddRestaurantButton:React.FC<{isRestaurantsAdded: boolean, userState:string, sessionId: string, userId: string, businessId:string}> = ({isRestaurantsAdded, userState, sessionId, userId, businessId}) => {\n    let [adding, setAdding] = useState(false);\n    return <button\n    // title={displayVoteComponent[b.id] ? \"you have already added\" : \"add this restaurant\"}\n    aria-label={\n      isRestaurantsAdded\n        ? \"restaurant has already been added\"\n        : userState === \"canVote\"\n        ? \"add restaurant\"\n        : \"you must join the session before adding a restaurant\"\n    }\n    data-balloon-pos=\"right\"\n    className=\"py-1 px-2 mr-2 text-theme-med-gray border-2 border-theme-light-gray rounded-full group btn-focus rounded-full\"\n    onClick={() => {\n      if (!isRestaurantsAdded && userState === \"canVote\") {\n          setAdding(true)\n        socket.addRestaurant(sessionId, userId, businessId).then(r => setAdding(false));\n      }\n    }}\n  >\n    <FontAwesomeIcon className={adding ? \"animate-spin\" : \"\"} icon={adding ? faCircleNotch : (isRestaurantsAdded ? faCheck : faPlus)} />\n    {/* <span className=\"hidden hover:block absolute\">\n    <Tooltip>{displayVoteComponent[b.id] ? <p>you have already added</p> : <p>add this restaurant</p>}</Tooltip>\n  </span> */}\n  </button>\n}\n\nexport default AddRestaurantButton;","import React, {\n\tuseState,\n\tFormEvent,\n\tuseContext,\n\tuseEffect,\n\tuseCallback,\n} from \"react\";\nimport { Business } from \"../../shared/types\";\nimport Vote from \"./Vote\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n\tfaCircleNotch,\n\tfaInfoCircle,\n\tfaSearch,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport DisplayItem from \"./DisplayItem\";\nimport socket from \"./socket\";\nimport Filters from \"./Filters\";\nimport AddRestaurantButton from \"./AddRestaurantButton\";\nimport { UserContext } from \"./UserDataContext\";\nimport { SearchFormState } from \"./Templates/AppTemplate\";\n\nconst DisplaySearchResults: React.FC<{\n\tbusinesses: Business[];\n\tvoteOnRestaurant: Function;\n\tisAdded: { [id: string]: boolean };\n}> = ({ businesses, voteOnRestaurant, isAdded }) => {\n\tlet {\n\t\tsessionId,\n\t\tuserId,\n\t\tuserState,\n\t\tpreviousVotes,\n\t\tsetPreviousVotes,\n\t} = useContext(UserContext);\n\treturn (\n\t\t<ul className=\"divide-y divide-theme-extra-light-gray\">\n\t\t\t{businesses.map((b) => (\n\t\t\t\t<li key={b.id}>\n\t\t\t\t\t<DisplayItem\n\t\t\t\t\t\trestaurant={{ business: b, votes: [] }}\n\t\t\t\t\t\taddRestaurant={\n\t\t\t\t\t\t\t<AddRestaurantButton\n\t\t\t\t\t\t\t\tisRestaurantsAdded={isAdded[b.id]}\n\t\t\t\t\t\t\t\tuserState={userState}\n\t\t\t\t\t\t\t\tsessionId={sessionId}\n\t\t\t\t\t\t\t\tuserId={userId}\n\t\t\t\t\t\t\t\tbusinessId={b.id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvote={\n\t\t\t\t\t\t\tisAdded[b.id] ? (\n\t\t\t\t\t\t\t\t<Vote\n\t\t\t\t\t\t\t\t\tcurrentVote={previousVotes[b.id]}\n\t\t\t\t\t\t\t\t\taddVote={(v: number) => {\n\t\t\t\t\t\t\t\t\t\tvoteOnRestaurant(b.id, v);\n\t\t\t\t\t\t\t\t\t\tsetPreviousVotes(\n\t\t\t\t\t\t\t\t\t\t\t(old: { [restaurantId: string]: number }) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t...old,\n\t\t\t\t\t\t\t\t\t\t\t\t[b.id]: v,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t);\n};\n\nexport type FilterResults = {\n\topenHours: \"any\" | \"today\" | \"now\";\n\tpriceRange: string;\n\tservices: string;\n};\n\nconst Search: React.FC<{\n\tsessionId: string;\n\tlocation: string;\n\tcreator: { name: string; hashId: string };\n\tuserIdHash: string;\n\tvoteOnRestaurant: Function;\n\tisAdded: { [id: string]: boolean };\n\tsearchFormState: Partial<SearchFormState>;\n\tupdateSearchFormState: (s: Partial<SearchFormState>) => void;\n}> = ({\n\tsessionId,\n\tlocation,\n\tcreator,\n\tuserIdHash: userHashId,\n\tvoteOnRestaurant,\n\tisAdded,\n\tsearchFormState,\n\tupdateSearchFormState,\n}) => {\n\tlet [searchTerm, setSearchTerm] = useState(searchFormState.search || \"\");\n\tlet [businesses, setBusinesses] = useState(\n\t\tsearchFormState.results || new Array<Business>()\n\t);\n\tlet [loadingSearch, setLoadingSearch] = useState(false);\n\tlet [filterResults, setFilterResults] = useState<FilterResults>();\n\tconst updateFilter = useCallback(\n\t\t(r: FilterResults) => {\n\t\t\tsetFilterResults(r);\n\t\t},\n\t\t[setFilterResults]\n\t);\n\n\tuseEffect(() => {\n\t\tupdateSearchFormState({ search: searchTerm, results: businesses });\n\t}, [searchTerm, businesses, updateSearchFormState]);\n\n\treturn (\n\t\t<div className=\"max-w-md w-full mx-auto\">\n\t\t\t<h2 className=\"max-w-md mx-auto text-2xl px-1 text-theme-dark-gray font-display leading-none mb-1\">\n\t\t\t\tSearch\n\t\t\t</h2>\n\t\t\t<hr className=\"border-theme-extra-light-gray\" />\n\t\t\t<form\n\t\t\t\tclassName=\"p-2 w-full\"\n\t\t\t\tonSubmit={(e: FormEvent) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsetLoadingSearch(true);\n\t\t\t\t\tsetBusinesses([]);\n\t\t\t\t\tsocket\n\t\t\t\t\t\t.search(\n\t\t\t\t\t\t\tsessionId,\n\t\t\t\t\t\t\tsearchTerm,\n\t\t\t\t\t\t\tfilterResults?.openHours || \"\",\n\t\t\t\t\t\t\tfilterResults?.priceRange || \"\",\n\t\t\t\t\t\t\tfilterResults?.services || \"\"\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then((b: Business[]) => {\n\t\t\t\t\t\t\tsetBusinesses(b);\n\t\t\t\t\t\t\tsetLoadingSearch(false);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((e) => console.log(`oopsies ${e}`));\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"text-theme-light-gray italic -mt-1\">\n\t\t\t\t\t{creator?.hashId === userHashId ? \"You\" : creator?.name} set the\n\t\t\t\t\tlocation to{\" \"}\n\t\t\t\t\t<span className=\"uppercase text-sm font-bold\">\n\t\t\t\t\t\t{location}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\taria-label=\"Search results will not be strictly within this area; it serves as a starting point.\"\n\t\t\t\t\t\t\tdata-balloon-pos=\"down\"\n\t\t\t\t\t\t\tdata-balloon-length=\"medium\"\n\t\t\t\t\t\t\tclassName=\"btn-focus rounded-full\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FontAwesomeIcon icon={faInfoCircle} className=\"ml-1\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"rounded py-1 px-2 shadow m-1 btn-focus\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t\tonChange={(e) => setSearchTerm(e.target.value)}\n\t\t\t\t></input>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"shadow py-1 px-2 m-1 text-white bg-theme-blue rounded-full btn-focus rounded-full\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t>\n\t\t\t\t\t<FontAwesomeIcon aria-label=\"search\" icon={faSearch} />\n\t\t\t\t</button>\n\t\t\t\t<Filters\n\t\t\t\t\tupdate={updateFilter}\n\t\t\t\t\tupdateSearchFormState={updateSearchFormState}\n\t\t\t\t\tsearchFormFilterState={searchFormState.filter}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t\t{loadingSearch && (\n\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\ticon={faCircleNotch}\n\t\t\t\t\tsize=\"5x\"\n\t\t\t\t\tclassName=\"animate-spin text-theme-yellow mx-auto my-4 block\"\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<DisplaySearchResults\n\t\t\t\tbusinesses={businesses}\n\t\t\t\tvoteOnRestaurant={voteOnRestaurant}\n\t\t\t\tisAdded={isAdded}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Search;\n","import { faTimes } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport React from \"react\"\nimport Logo from \"./assets/chew_logo.svg\";\n\nconst ModalWelcomeHeader:React.FC<{escape: () => void}> = ({escape}) => {\n    return <div className=\"p-2 text-white bg-gradient-to-r from-theme-red to-theme-dark-red rounded-t font-bold text-xl\">\n    <span className=\"\">Welcome to</span>\n    <img className=\"inline w-24 ml-1 mr-6\" src={Logo} alt=\"chew logo\" />\n    <button className=\"float-right leading-none btn-focus\" onClick={escape}>\n      <FontAwesomeIcon icon={faTimes} />\n    </button>\n  </div>\n}\n\nexport default ModalWelcomeHeader;","import React from \"react\";\nimport ModalWelcomeHeader from \"./ModalWelcomeHeader\";\nimport { useClickOutsideListenerRef } from \"./useClickOutsideListenerRef\";\nimport CopySessionUrl from \"./CopySessionUrl\";\n\nconst ShareSessionModal: React.FC<{ escape: () => void }> = ({ escape }) => {\n  let ref = useClickOutsideListenerRef(escape);\n\n  return (\n    <>\n      <ModalWelcomeHeader escape={escape} />\n      <div ref={ref} className=\"pt-1 pb-3 px-4 rounded-b bg-white text-gray-700\">\n        Share this url with others:\n        <div className=\"mt-1 mb-4 mx-auto w-max-content\">\n          <CopySessionUrl\n            buttonThemes=\"bg-green-500 border-green-500 text-white\"\n            buttonShadowColor=\"white\"\n            inputThemes=\"border-gray-400\"\n          />\n        </div>\n        <button\n          onClick={escape}\n          className=\"py-1 uppercase tracking-wide text-sm border border-gray-700 w-full mt-2 rounded shadow font-bold btn-focus\"\n        >\n          dismiss\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default ShareSessionModal;\n","import React from \"react\";\n\nconst Toast: React.FC<{ show: boolean }> = ({ show, children }) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={\n\t\t\t\t\"fixed z-50 right-0 bottom-0 mx-1 md:mx-3 shadow-xl transition-spacing duration-500 \" +\n\t\t\t\t(show ? \"my-1 md:my-3\" : \"-mb-24\")\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport default Toast;\n","import React, { useState, FormEvent } from \"react\";\nimport socket from \"./socket\";\n\nimport { UserContextConsumer } from \"./UserDataContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport ModalWelcomeHeader from \"./ModalWelcomeHeader\";\nimport { useClickOutsideListenerRef } from \"./useClickOutsideListenerRef\";\n\nexport const UserNameModal: React.FC<{ escape: () => void }> = ({ escape }) => {\n\tlet [currentUserName, setCurrentUserName] = useState(\"\");\n\tlet ref = useClickOutsideListenerRef(escape);\n\n\treturn (\n\t\t<>\n\t\t\t<ModalWelcomeHeader escape={escape} />\n\t\t\t<UserContextConsumer>\n\t\t\t\t{(context) => (\n\t\t\t\t\t<form\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tclassName=\"pb-3 px-4 rounded-b bg-white text-gray-700\"\n\t\t\t\t\t\tonSubmit={(e: FormEvent) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (context.userId) {\n\t\t\t\t\t\t\t\tsocket\n\t\t\t\t\t\t\t\t\t.setUserName(\n\t\t\t\t\t\t\t\t\t\tcontext.sessionId,\n\t\t\t\t\t\t\t\t\t\tcontext.userId,\n\t\t\t\t\t\t\t\t\t\tcurrentUserName\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(`result of setting name: ${response}`);\n\t\t\t\t\t\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\t\t\t\t\tcontext.setUserState(\"canVote\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"text-gray-600 text-sm py-1\">\n\t\t\t\t\t\t\tInvited to {context.creator.name}'s session\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<label className=\"block mx-3\">\n\t\t\t\t\t\t\t{/* <FontAwesomeIcon icon={faUser} /> */}\n\t\t\t\t\t\t\t<span className=\"uppercase font-bold text-sm\">Your name:</span>\n\t\t\t\t\t\t\t<div className=\"py-1 px-2 rounded border border-gray-300 bg-white focus-within:border-theme-blue-l-2 w-max-content\">\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faUser} className=\"mr-2\" />\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"px-2 focus:outline-none border-l\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={currentUserName}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setCurrentUserName(e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tclassName=\"py-1 uppercase tracking-wide text-sm text-white bg-theme-yellow hover:theme-dark-yellow w-full mt-4 rounded shadow font-bold btn-focus\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tjoin session\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t)}\n\t\t\t</UserContextConsumer>\n\t\t</>\n\t);\n};\n","import {\n\tfaBinoculars,\n\tfaCircleNotch,\n\tfaDoorOpen,\n\tfaSearch,\n\tfaUtensils,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, {\n\tReactFragment,\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n\tuseState,\n} from \"react\";\nimport Media from \"react-media\";\nimport {\n\tLink,\n\tNavLink,\n\tRedirect,\n\tRoute,\n\tSwitch,\n\tuseHistory,\n} from \"react-router-dom\";\nimport { Business, BusinessWithVotes } from \"../../../shared/types\";\nimport Logo from \"../assets/chew_logo.svg\";\nimport Display from \"../Display\";\nimport AppFooter from \"../AppFooter\";\nimport ModalContainer from \"../ModalContainer\";\nimport Search from \"../Search\";\nimport ShareSessionModal from \"../ShareSessionModal\";\nimport socket from \"../socket\";\nimport Toast from \"../Toast\";\nimport { UserContext, UserContextConsumer } from \"../UserDataContext\";\nimport { UserNameModal } from \"../UserNameModal\";\n\nexport interface SearchFormState {\n\tsearch: string;\n\tfilter: FilterForm;\n\tresults: Business[];\n}\n\nexport interface FilterForm {\n\topenDate: \"any\" | \"today\";\n\topenNow: boolean;\n\tprices: (number | undefined)[];\n\tservices: {\n\t\tpickup: boolean;\n\t\tdelivery: boolean;\n\t\trestaurant_reservation: boolean;\n\t};\n}\n\nconst AppTemplate: React.FC = () => {\n\tlet [addedRestaurants, setAddedRestaurants] = useState<{\n\t\t[id: string]: BusinessWithVotes;\n\t}>({});\n\tlet {\n\t\tsessionId,\n\t\tsetSessionId,\n\t\tuserId,\n\t\tuserIdHash,\n\t\tsetUserId,\n\t\tsetUserState,\n\t\tlocation,\n\t\tsetLocation,\n\t\tcreator,\n\t\tsetCreator,\n\t\tsetPreviousVotes,\n\t} = useContext(UserContext);\n\tlet [isAdded, setIsAdded] = useState<{ [id: string]: boolean }>({});\n\tlet [loaded, setLoaded] = useState(false);\n\tlet [showVotingToast, setShowVotingToast] = useState(false);\n\tlet [showShareSessionModal, setShowShareSessionModal] = useState(false);\n\tlet [searchFormState, setSearchFormState] = useState<\n\t\tPartial<SearchFormState>\n\t>({});\n\tlet history = useHistory();\n\n\tuseEffect(() => {\n\t\tsocket.subscribeToRestaurantAdded((newRestaurant: BusinessWithVotes) => {\n\t\t\tconsole.log(\"recieving an added restaurant.\");\n\t\t\tsetAddedRestaurants((r) => ({\n\t\t\t\t...r,\n\t\t\t\t[newRestaurant.business.id]: newRestaurant,\n\t\t\t}));\n\t\t});\n\n\t\tsocket.subscribeToRestaurantRemoved(\n\t\t\t(response: { restaurantId: string }) => {\n\t\t\t\tconsole.log(\"recieving an removed restaurant.\");\n\t\t\t\tsetAddedRestaurants((r) => {\n\t\t\t\t\tlet clone = Object.assign({}, r);\n\t\t\t\t\tdelete clone[response.restaurantId];\n\t\t\t\t\tconsole.log(`restId is ${response.restaurantId}`);\n\t\t\t\t\tconsole.log(`setting addedrestaurants to ${JSON.stringify(clone)}`);\n\t\t\t\t\treturn clone;\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\n\t\tsocket.subscribeToVoteAdded(\n\t\t\t(params: { restaurantId: string; votes: string[] }) => {\n\t\t\t\tsetAddedRestaurants((r) => ({\n\t\t\t\t\t...r,\n\t\t\t\t\t[params.restaurantId]: {\n\t\t\t\t\t\t...r[params.restaurantId],\n\t\t\t\t\t\tvotes: params.votes,\n\t\t\t\t\t},\n\t\t\t\t}));\n\t\t\t}\n\t\t);\n\t\treturn () => {\n\t\t\tsocket.unSubscribeToRestaurantAdded();\n\t\t\tsocket.unSubscribeToRestaurantRemoved();\n\t\t\tsocket.unSubscribeToVoteAdded();\n\t\t};\n\t}, []);\n\n\tconst voteOnRestaurant = (restaurantId: string, voteNum: number) =>\n\t\tsocket.addVote(sessionId, userId, restaurantId, voteNum);\n\n\tconst updateSearchFormState = useCallback(\n\t\t(s: Partial<SearchFormState>) =>\n\t\t\tsetSearchFormState((old) => ({ ...old, ...s })),\n\t\t[setSearchFormState]\n\t);\n\n\tlet search: ReactFragment = (\n\t\t<div className=\"flex-1 pt-4\">\n\t\t\t<Search\n\t\t\t\tvoteOnRestaurant={voteOnRestaurant}\n\t\t\t\tisAdded={isAdded}\n\t\t\t\tuserIdHash={userIdHash}\n\t\t\t\tsessionId={sessionId}\n\t\t\t\tlocation={location}\n\t\t\t\tcreator={creator}\n\t\t\t\tsearchFormState={searchFormState}\n\t\t\t\tupdateSearchFormState={updateSearchFormState}\n\t\t\t/>\n\t\t</div>\n\t);\n\n\tlet display: ReactFragment = (\n\t\t<div className=\"flex-1 pt-4\">\n\t\t\t<Display\n\t\t\t\tvoteOnRestaurant={voteOnRestaurant}\n\t\t\t\taddedRestaurants={addedRestaurants}\n\t\t\t/>\n\t\t</div>\n\t);\n\n\tuseEffect(() => {\n\t\tconst newIsAdded: { [id: string]: boolean } = {};\n\t\tObject.keys(addedRestaurants).forEach(\n\t\t\t(restId) => (newIsAdded[restId] = true)\n\t\t);\n\t\tsetIsAdded(newIsAdded);\n\t}, [addedRestaurants]);\n\n\tuseEffect(() => {\n\t\tif (window.history?.state?.fromLogin) {\n\t\t\tsetShowShareSessionModal(true);\n\t\t\tsetLoaded(true);\n\n\t\t\t// history.replace(history.location, {fromLogin:false})\n\t\t\t// appLoc.state = {fromLogin:false}\n\n\t\t\twindow.history.replaceState({ fromLogin: false }, \"\");\n\t\t} else if (sessionId !== \"\") {\n\t\t\tsocket.tryJoinSession({ sessionId, userId }, (response) => {\n\t\t\t\tconsole.log(\n\t\t\t\t\t`response from tryJoinSession is ${JSON.stringify(response)}`\n\t\t\t\t);\n\t\t\t\tif (response.success) {\n\t\t\t\t\tsetShowVotingToast(false);\n\t\t\t\t\tsetSessionId(sessionId);\n\t\t\t\t\tsetUserId(response.userId);\n\t\t\t\t\tsetUserState(\n\t\t\t\t\t\tresponse.previouslyAuthenticated ? \"canVote\" : \"canView\"\n\t\t\t\t\t);\n\t\t\t\t\tsetLocation(response.location);\n\t\t\t\t\tsetCreator(response.creator);\n\t\t\t\t\tsetPreviousVotes(response.previousVotes);\n\t\t\t\t\tsetAddedRestaurants(response.restaurants || {});\n\t\t\t\t\tsetLoaded(true);\n\t\t\t\t} else {\n\t\t\t\t\thistory.push(\"/404\");\n\t\t\t\t\tconsole.log(\"recieved failure from server\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, [\n\t\tsessionId,\n\t\thistory,\n\t\tsetCreator,\n\t\tsetLocation,\n\t\tsetPreviousVotes,\n\t\tsetSessionId,\n\t\tsetUserId,\n\t\tsetUserState,\n\t\tuserId,\n\t]); //sessionId\n\n\treturn (\n\t\t<>\n\t\t\t{showShareSessionModal && (\n\t\t\t\t<ModalContainer shadow={true}>\n\t\t\t\t\t<ShareSessionModal escape={() => setShowShareSessionModal(false)} />\n\t\t\t\t</ModalContainer>\n\t\t\t)}\n\t\t\t{!loaded && (\n\t\t\t\t<ModalContainer shadow={false}>\n\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\ticon={faCircleNotch}\n\t\t\t\t\t\tsize=\"5x\"\n\t\t\t\t\t\tclassName=\"animate-spin text-theme-yellow block\"\n\t\t\t\t\t/>\n\t\t\t\t</ModalContainer>\n\t\t\t)}\n\t\t\t<Toast show={showVotingToast}>\n\t\t\t\t<div className=\"p-2 pt-1 md:p-3 md:pt-2 bg-gray-100 flex items-center rounded-md border\">\n\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\ticon={faBinoculars}\n\t\t\t\t\t\tclassName=\"flex-initial text-gray-800 p-1 pb-0\"\n\t\t\t\t\t\tsize=\"3x\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"flex-1 pl-3\">\n\t\t\t\t\t\t<div className=\"text-md font-bold border-b border-gray-400 px-1\">\n\t\t\t\t\t\t\tCurrently in view-only mode.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"text-gray-700 leading-tight mt-1 px-1\">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"border-b-2 border-theme-blue hover:text-theme-blue cursor-pointer\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetShowVotingToast(false);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tJoin the session\n\t\t\t\t\t\t\t</span>{\" \"}\n\t\t\t\t\t\t\tto add restaurants and vote\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Toast>\n\t\t\t<UserContextConsumer>\n\t\t\t\t{(context) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{loaded && context.userState !== \"canVote\" && !showVotingToast && (\n\t\t\t\t\t\t\t<ModalContainer shadow={true}>\n\t\t\t\t\t\t\t\t<UserNameModal escape={() => setShowVotingToast(true)} />\n\t\t\t\t\t\t\t</ModalContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<header className=\"bg-theme-red text-white shadow \">\n\t\t\t\t\t\t\t<nav className=\"flex justify-between p-1 lg:py-2 lg:px-4\">\n\t\t\t\t\t\t\t\t<Link to=\"/getStarted\">\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tclassName=\"text-white inline-block w-32 lg:w-38 flex-initial\"\n\t\t\t\t\t\t\t\t\t\tsrc={Logo}\n\t\t\t\t\t\t\t\t\t\talt=\"chew logo\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto=\"/getStarted\"\n\t\t\t\t\t\t\t\t\tclassName=\"inline-block flex-initial self-center text-sm\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tleave this group <FontAwesomeIcon icon={faDoorOpen} />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t\t<div className=\"md:hidden uppercase font-bold tracking-wide py-1 text-sm bg-theme-dark-red\">\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\tto={`/ID/${context.sessionId}`}\n\t\t\t\t\t\t\t\t\texact={true}\n\t\t\t\t\t\t\t\t\tclassName=\"p-1 m-1\"\n\t\t\t\t\t\t\t\t\tactiveClassName=\"border-b-2 border-white\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\t\ticon={faUtensils}\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tview restaurants\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\tto={`/ID/${context.sessionId}/search`}\n\t\t\t\t\t\t\t\t\texact={true}\n\t\t\t\t\t\t\t\t\tclassName=\"p-1 m-1\"\n\t\t\t\t\t\t\t\t\tactiveClassName=\"border-b-2 border-white\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faSearch} size=\"sm\" className=\"mr-2\" />\n\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<main className=\"flex-grow\">\n\t\t\t\t\t\t\t{/* LARGE DISPLAYS */}\n\t\t\t\t\t\t\t<Media\n\t\t\t\t\t\t\t\tquery=\"(min-width: 768px)\"\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\tpath=\"/ID/:sessionId\"\n\t\t\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-around px-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{display} {search}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Redirect to={`/ID/${context.sessionId}`} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{/* SMALL DISPLAYS */}\n\t\t\t\t\t\t\t<Media\n\t\t\t\t\t\t\t\tquery=\"(max-width: 767px)\"\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\tpath=\"/ID/:sessionId\"\n\t\t\t\t\t\t\t\t\t\trender={({ location }) => (\n\t\t\t\t\t\t\t\t\t\t\t// <div className=\"w-screen overflow-x-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t//   <div\n\t\t\t\t\t\t\t\t\t\t\t//     className={\"whitespace-no-wrap transition-spacing \" + (location.pathname.search(\"search\") > -1 ? '-ml-screen': 'm-0')}\n\t\t\t\t\t\t\t\t\t\t\t//     // style={\n\t\t\t\t\t\t\t\t\t\t\t//     //   location.pathname.search(\"search\") > -1\n\t\t\t\t\t\t\t\t\t\t\t//     //     ? { marginLeft: \"-100vw\" }\n\t\t\t\t\t\t\t\t\t\t\t//     //     : { marginLeft: \"0\" }\n\t\t\t\t\t\t\t\t\t\t\t//     // }\n\t\t\t\t\t\t\t\t\t\t\t//   >\n\t\t\t\t\t\t\t\t\t\t\t//     <div className=\"w-screen inline-block\">{display}</div>\n\t\t\t\t\t\t\t\t\t\t\t//     <div className=\"w-screen inline-block\">{search}</div>\n\t\t\t\t\t\t\t\t\t\t\t//   </div>\n\t\t\t\t\t\t\t\t\t\t\t// </div>\n\n\t\t\t\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath=\"/ID/:sessionId\"\n\t\t\t\t\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\t\t\t\t\trender={() => display}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath=\"/ID/:sessionId/search\"\n\t\t\t\t\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\t\t\t\t\trender={() => search}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t\t<AppFooter />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</UserContextConsumer>\n\t\t</>\n\t);\n};\n\nexport default AppTemplate;\n","import React from \"react\"\nimport ReadingGirl from \"./assets/reading_girl.svg\";\nimport LoginTemplate from \"./Templates/LoginTemplate\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\n\nconst FourOhFour:React.FC = () => <LoginTemplate>\n      <div className=\"flex-1 py-2 px-4 md:py-4 md:px-6 bg-white text-theme-dark rounded-lg shadow-lg max-w-md m-2 lg:mr-6\">\n        <h2 className=\"text-xl font-display font-bold italic\">Page not found</h2>\n        <p className=\"leading-tight mt-1\">\n            If you are trying to join someone's session, please make sure you have entered the url correctly.\n        </p>\n        <Link to=\"/getStarted\" className=\"inline-block shadow rounded bg-theme-red py-1 px-2 text-sm text-white uppercase tracking-wide mt-3\">\n            <FontAwesomeIcon icon={faHome} className=\"mr-2\" />\n           Go home \n        </Link>\n    </div>\n    <img src={ReadingGirl} className=\"hidden md:inline flex-1 max-w-md\" alt=\"girl reading a book\"/>\n\n</LoginTemplate>\n\nexport default FourOhFour;","import React from \"react\";\nimport Papers from \"./assets/papers.svg\";\nimport LoginTemplate from \"./Templates/LoginTemplate\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\n\nconst TOS: React.FC = () => (\n  <LoginTemplate>\n    <img\n      src={Papers}\n      className=\"hidden md:inline flex-1 max-w-md\"\n      alt=\"girl reading a book\"\n    />\n    <div className=\"flex-1 py-2 px-4 md:py-4 md:px-6 bg-white text-theme-dark rounded-lg shadow-lg max-w-md m-2 lg:mr-6\">\n      <h2 className=\"text-xl font-display font-bold italic\">\n        Terms of Use and Privacy Policy\n      </h2>\n      <p className=\"leading-tight mt-1 px-2\">\n        By using Chew, you are bound by Google's{\" \"}\n        <a className=\"border-b border-theme-blue-l-2\" href=\"https://policies.google.com/terms?hl=en\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Terms of Service\n        </a>.\n      </p>\n      <p className=\"leading-tight mt-1 px-2\">\n        Chew uses the Google Places API on the <i>Get Started</i> page to provide location\n        suggestions and to autocomplete your searches. For information about\n        what data Google collects and how they use it, please read{\" \"}\n        <a className=\"border-b border-theme-blue-l-2\" href=\"https://policies.google.com/privacy\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Google's Privacy Policy\n        </a>\n        .\n      </p>\n      <Link\n        to=\"/getStarted\"\n        className=\"inline-block shadow rounded bg-theme-red py-1 px-2 text-sm text-white uppercase tracking-wide mt-3\"\n      >\n        <FontAwesomeIcon icon={faHome} className=\"mr-2\" />\n        Go home\n      </Link>\n    </div>\n  </LoginTemplate>\n);\n\nexport default TOS;\n","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport LoginTemplate from \"./Templates/LoginTemplate\";\nimport AppTemplate from \"./Templates/AppTemplate\";\nimport \"./comp.css\";\nimport { UserContextProvider } from \"./UserDataContext\";\nimport FourOhFour from \"./404\";\nimport TOS from \"./TOS\";\n\nconst App: React.FC = () => (\n  <UserContextProvider>\n    <Switch>\n      <Route path=\"/getStarted\" exact>\n        <LoginTemplate>\n          <Login />\n        </LoginTemplate>\n      </Route>\n      <Route path=\"/ID/:sessionId\" render={() => <AppTemplate />}></Route>\n      <Route path=\"/404\" exact>\n        <FourOhFour />\n      </Route>\n      <Route path=\"/TOS\" exact>\n        <TOS />\n      </Route>\n      <Route path=\"/\" exact>\n        <Redirect to=\"/getStarted\" />\n      </Route>\n      <Route path=\"/\">\n        <Redirect to=\"/404\" />\n      </Route>\n    </Switch>\n  </UserContextProvider>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/chew\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/chew_logo.7c4b5fba.svg\";","module.exports = __webpack_public_path__ + \"static/media/corner.fc300196.svg\";","module.exports = __webpack_public_path__ + \"static/media/ice_cream_girl.d04fc2e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/triangles.88d99b6d.svg\";","module.exports = __webpack_public_path__ + \"static/media/waves.f9254c6c.svg\";","module.exports = __webpack_public_path__ + \"static/media/reading_girl.12122138.svg\";","module.exports = __webpack_public_path__ + \"static/media/papers.35254578.svg\";"],"sourceRoot":""}