{"version":3,"sources":["assets/powered_by_google_on_white.png","config.ts","socket.ts","PlacesAutocomplete.tsx","UserDataContext.tsx","useClickOutsideListenerRef.tsx","Login.tsx","FooterLinks.tsx","LoginFooter.tsx","Templates/LoginTemplate.tsx","VotingIcons.tsx","Vote.tsx","DisplayItem.tsx","Display.tsx","CopySessionUrl.tsx","AppFooter.tsx","ModalContainer.tsx","Filters.tsx","AddRestaurantButton.tsx","Search.tsx","ModalWelcomeHeader.tsx","ShareSessionModal.tsx","Toast.tsx","UserNameModal.tsx","Templates/AppTemplate.tsx","404.tsx","TOS.tsx","App.tsx","serviceWorker.ts","index.tsx","assets/chew_logo.svg","assets/corner.svg","assets/ice_cream_girl.svg","assets/triangles.svg","assets/waves.svg","assets/reading_girl.svg","assets/papers.svg"],"names":["module","exports","SERVER","socket","search","sessionId","searchTerm","openHours","priceRange","services","Promise","resolve","reject","axios","get","then","result","data","setUserName","userId","userName","post","catch","console","log","addVote","restaurantId","voteNum","addRestaurant","emit","callback","title","JSON","stringify","newSession","tryJoinSession","subscribeToVoteAdded","on","unSubscribeToVoteAdded","off","subscribeToRestaurantAdded","unSubscribeToRestaurantAdded","this","io","connect","autoComplete","UserContext","React","createContext","Provider","Consumer","UserContextProvider","children","useState","setSessionId","setUserId","userState","setUserState","location","setLocation","previousVotes","setPreviousVotes","creatorName","setCreatorName","history","useHistory","appLoc","useLocation","useEffect","sUserId","localStorage","getItem","setItem","match","matchPath","pathname","path","params","value","createSession","e","loc","preventDefault","response","push","window","replaceState","fromLogin","useClickOutsideListenerRef","onClose","ref","useRef","escapeListener","useCallback","key","clickListener","current","contains","target","document","addEventListener","removeEventListener","PlacesAutocomplete","selectPlace","currentSearchTerm","currentSearchResults","setCurrentSearchResults","hoveredIdx","setHoveredIdx","scriptLoaded","selectedText","url","script","createElement","type","onload","head","appendChild","src","loadScript","google","maps","places","AutocompleteService","keyPressEvent","val","length","select","description","getPlacePredictions","input","types","status","selectedItem","poweredByGoogle","require","className","map","r","idx","id","onMouseOver","onClick","alt","Login","Logo","context","onSubmit","icon","faUser","onChange","faMapMarkerAlt","place","faInfoCircle","size","faPizzaSlice","IceCreamGirl","FooterLinks","faCopyright","href","rel","faStar","to","faFileSignature","LoginFooter","Triangles","LoginTemplate","icons","faGrinStars","color","borderColor","descText","faSmile","faMeh","faFrown","Vote","currentVote","useContext","i","aria-label","data-balloon-pos","Corner","HoursTable","hours","days","d","day","hourStr","Array","open","forEach","h","start","end","formatAsTime","join","time","slice","openMsg","padZeros","n","today","Date","dayOfWeek","getDay","timeString","getHours","getMinutes","diff","filter","t","undefined","currentDiff","DisplayItem","restaurant","vote","expanded","setExpanded","business","prev","faCircle","faChevronCircleUp","faChevronCircleDown","addedBy","name","price","split","_","faDollarSign","categories","c","faClock","votes","v","faMapPin","display_address","line","transactions","faCheck","faExternalLinkAlt","Display","voteOnRestaurant","addedRestaurants","Object","keys","values","old","CopySessionUrl","inputThemes","buttonThemes","buttonShadowColor","copyTextRef","copied","setCopied","readOnly","style","boxShadow","execCommand","faClipboard","AppFooter","Waves","ModalContainer","shadow","formReducer","prevState","update","stateUpdates","newVal","openDate","openNow","prices","Filters","updateSearchFormState","searchFormFilterState","showFilters","setShowFilters","useReducer","pickup","delivery","restaurant_reservation","state","dispatch","Math","abs","fill","arr","min","entries","priceArray","a","b","repeat","faSlidersH","includes","stops","checked","faExclamationCircle","AddRestaurantButton","isRestaurantsAdded","businessId","adding","setAdding","faCircleNotch","faPlus","DisplaySearchResults","businesses","isAdded","Search","searchFormState","setSearchTerm","results","setBusinesses","loadingSearch","setLoadingSearch","filterResults","setFilterResults","updateFilter","data-balloon-length","faSearch","ModalWelcomeHeader","escape","faTimes","ShareSessionModal","Toast","show","UserNameModal","currentUserName","setCurrentUserName","AppTemplate","setAddedRestaurants","setIsAdded","loaded","setLoaded","showVotingToast","setShowVotingToast","showShareSessionModal","setShowShareSessionModal","setSearchFormState","newRestaurant","s","display","newIsAdded","restId","success","previouslyAuthenticated","restaurants","faBinoculars","faDoorOpen","exact","activeClassName","faUtensils","query","render","FourOhFour","faHome","ReadingGirl","TOS","Papers","App","Boolean","hostname","ReactDOM","StrictMode","basename","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.487d37f8.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export const googleCloudApiKey = 'AIzaSyAwYvFJPPLX35upT8qE-c9GILuhkE0vAAc'\nexport const SERVER =  \"https://chewapp.herokuapp.com\";// 'http://localhost:4000';","import io from \"socket.io-client\";\nimport {\n  NewSessionData,\n  NewSessionCallback,\n  TryJoinSessionData,\n  TryJoinSessionCallback,\n  Business,\n} from \"../../shared/types\";\nimport axios from \"axios\";\nimport { SERVER } from \"./config\";\n\nexport class Socket {\n  socket: SocketIOClient.Socket;\n\n  constructor() {\n    console.log(`running socket constructor.`)\n    this.socket = io.connect(SERVER);\n  }\n\n  search = (sessionId: string, searchTerm: string, openHours:string, priceRange:string, services:string): Promise<Business[]> =>\n    new Promise((resolve, reject) =>\n      axios\n        .get(`${SERVER}/search/${sessionId}/${searchTerm}/${openHours}/${priceRange}/${services}`)\n        .then((result) => resolve(result.data))\n    );\n\n  setUserName = (\n    sessionId: string,\n    userId: string,\n    userName: string\n  ): Promise<boolean> =>\n    new Promise((resolve, reject) =>\n      axios\n        .post(`${SERVER}/setUserName/${sessionId}/${userId}/${userName}`)\n        .then((result) => resolve(result.data))\n        .catch(() => console.log(`error`))\n    );\n\n  addVote = (\n    sessionId: string,\n    userId: string,\n    restaurantId: string,\n    voteNum: number\n  ): Promise<boolean> =>\n    new Promise((resolve, reject) =>\n      axios\n        .post(\n          `${SERVER}/addVote/${sessionId}/${userId}/${restaurantId}/${voteNum}`\n        )\n        .then((result) => resolve(result.data))\n    );\n\n  addRestaurant = (\n    sessionId: string,\n    userId: string,\n    restaurantId: string\n  ): Promise<boolean> =>\n    new Promise((resolve, reject) =>\n      axios\n        .post(`${SERVER}/addRestaurant/${sessionId}/${userId}/${restaurantId}`)\n        .then((result) => resolve(result.data))\n    );\n\n  emit = (data: any, callback: (p: any) => void, title: string) => {\n    console.log(`socket emitting ${title} with data ${JSON.stringify(data)}`);\n    this.socket.emit(title, data, callback);\n  };\n\n  newSession: (data: NewSessionData, callback: NewSessionCallback) => void = (\n    data,\n    callback\n  ) => {\n    this.emit(data, callback, \"newSession\");\n  };\n\n  tryJoinSession: (\n    data: TryJoinSessionData,\n    callback: TryJoinSessionCallback\n  ) => void = (data, callback) => {\n    this.emit(data, callback, \"tryJoinSession\");\n  };\n\n  subscribeToVoteAdded = (callback: Function) => {\n    this.socket.on(\"addedVote\", callback);\n  };\n\n  unSubscribeToVoteAdded = () => {\n    this.socket.off(\"addedVote\")\n  }  \n\n  subscribeToRestaurantAdded = (callback: Function) => {\n    this.socket.on(\"addedRestaurant\", callback);\n  };\n\n  unSubscribeToRestaurantAdded = () => {\n    this.socket.off(\"addedRestaurant\")\n  }\n}\n\n\n\nlet socket = new Socket();\nconsole.log(\"here.\");\nexport default socket;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { googleCloudApiKey } from \"./config\";\nimport { useClickOutsideListenerRef } from \"./useClickOutsideListenerRef\";\n\nlet autoComplete: google.maps.places.AutocompleteService;\n\nconst loadScript = (\n  url: string,\n  callback: (this: GlobalEventHandlers, ev: Event) => any\n) => {\n  let script = document.createElement(\"script\");\n  script.type = \"text/javascript\";\n  script.onload = callback;\n  document.head.appendChild(script);\n  script.src = url;\n};\n\nconst PlacesAutocomplete: React.FC<{\n  searchTerm: string;\n  selectPlace: (pl: string) => void;\n}> = ({ searchTerm, selectPlace }) => {\n  let currentSearchTerm = useRef(\"\");\n  let [currentSearchResults, setCurrentSearchResults] = useState<\n    google.maps.places.AutocompletePrediction[]\n  >([]);\n  let [hoveredIdx, setHoveredIdx] = useState(-1);\n  let scriptLoaded = useRef(false);\n  let selectedText = useRef<string>();\n  const ref = useClickOutsideListenerRef(() => setCurrentSearchResults([]));\n\n  const handleScriptLoad = () => {\n    autoComplete = new window.google.maps.places.AutocompleteService();\n    scriptLoaded.current = true;\n  };\n\n  useEffect(() => {\n    loadScript(\n      `https://maps.googleapis.com/maps/api/js?key=${googleCloudApiKey}&libraries=places`,\n      () => handleScriptLoad()\n    );\n  }, []);\n\n  const keyPressEvent = (e: KeyboardEvent) => {\n    switch (e.key) {\n      case \"ArrowDown\":\n        setHoveredIdx((val) => (val + 1) % currentSearchResults.length);\n        break;\n      case \"ArrowUp\":\n        setHoveredIdx(\n          (val) =>\n            (((val - 1) % currentSearchResults.length) +\n              currentSearchResults.length) %\n            currentSearchResults.length\n        );\n        break;\n      case \"Escape\":\n        setCurrentSearchResults([]);\n        setHoveredIdx(-1);\n        break;\n      case \"Enter\":\n        if (hoveredIdx > -1 && currentSearchResults.length > 0) {\n          e.preventDefault();\n          select(currentSearchResults[hoveredIdx].description);\n        setCurrentSearchResults([]);\n        setHoveredIdx(-1);\n        }\n        \n\n    }\n  };\n  useEffect(() => {\n    window.addEventListener(\"keydown\", keyPressEvent);\n\n    return () => window.removeEventListener(\"keydown\", keyPressEvent);\n  });\n\n  // if(Math.abs(searchTerm.length - currentSearchTerm.length)<2){\n  //     setCurrentSearchTerm(searchTerm);\n  // }\n\n  if (\n    scriptLoaded &&\n    searchTerm &&\n    searchTerm !== currentSearchTerm.current\n    // Math.abs(searchTerm.length - currentSearchTerm.current.length) > 1\n  ) {\n    currentSearchTerm.current = searchTerm;\n    autoComplete.getPlacePredictions(\n      { input: searchTerm, types: [\"(regions)\"] },\n      (result, status) => {\n        setCurrentSearchResults(result || []);\n      }\n    );\n  }\n\n  const select = (selectedItem: string) => {\n    selectedText.current = selectedItem;\n    selectPlace(selectedItem);\n    // setCurrentSearchResults([])\n  };\n\n  if (selectedText.current === searchTerm) {\n    return <ul ref={ref} />;\n  }\n\n  const poweredByGoogle = require(\"./assets/powered_by_google_on_white.png\");\n  return (\n    <ul\n      ref={ref}\n      className=\"absolute bg-white z-40 divide-y shadow text-sm rounded-b overflow:hidden\"\n    >\n      {currentSearchResults.map((r, idx) => (\n        <li\n          key={r.id}\n          onMouseOver={(e) => setHoveredIdx(idx)}\n          className={\n            \"px-2 py-1 cursor-pointer \" +\n            (hoveredIdx === idx ? \"bg-theme-blue-l-2 text-white\" : \"\")\n          }\n          onClick={() => select(r.description)}\n        >\n          {r.description}\n        </li>\n      ))}\n      {currentSearchResults.length > 0 && (\n        <div>\n        <img src={poweredByGoogle} alt=\"powered by Google\" className=\"float-right px-2 py-1 w-38\" />\n        </div>\n      )}\n    </ul>\n  );\n};\n\nexport default PlacesAutocomplete;\n","import React, { FormEvent, useEffect, useState } from \"react\";\nimport { matchPath, useHistory, useLocation } from \"react-router-dom\";\nimport socket from \"./socket\";\n\nexport const UserContext = React.createContext<any>({});\nconst { Provider, Consumer } = UserContext;\n\nexport const UserContextProvider: React.FC = ({ children }) => {\n  let [sessionId, setSessionId] = useState(\"\");\n  let [userId, setUserId] = useState<string>();\n  let [userState, setUserState] = useState(\"\");\n  let [location, setLocation] = useState(\"\");\n  let [previousVotes, setPreviousVotes] = useState<{\n    [restaurantId: string]: number;\n  }>({});\n  let [creatorName, setCreatorName] = useState<string>();\n  let history = useHistory();\n\n  let appLoc = useLocation();\n\n  useEffect(() => {\n    console.log(`useeffect`);\n    const sUserId = localStorage.getItem(\"chewUserId\");\n    if (sUserId) {\n      setUserId(sUserId);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (userId) {\n      console.log(`setting localStorage`);\n      localStorage.setItem(\"chewUserId\", userId);\n    }\n  }, [userId]);\n\n  useEffect(() => {\n    console.log(`location useEffect`);\n    const match = matchPath<{ sessionId: string }>(appLoc.pathname, {\n      path: \"/ID/:sessionId\",\n    });\n    if (match) {\n      setSessionId(match.params.sessionId);\n    }\n  }, [location, appLoc.pathname]);\n\n  let createSession = (e: FormEvent, userName: string, loc: string) => {\n    e.preventDefault();\n    setLocation(loc);\n    socket.newSession({ userName, location: loc, userId }, (response) => {\n      console.log(`emitting newSession. data is ${userName} ${loc} ${userId}`);\n      setSessionId(response.sessionId || \"\");\n      setCreatorName(userName);\n      setUserId(response.userId);\n      setUserState(\"canVote\");\n      history.push(`/ID/${response.sessionId}`);\n      // history.\n      window.history.replaceState({ fromLogin: true }, \"\");\n      // console.log(`window.history.state: ${JSON.stringify(window.history.state)}`)\n    });\n    // history.push(\"/home\");\n    // setSessionId(sessId)\n  };\n  return (\n    <Provider\n      value={{\n        sessionId,\n        setSessionId,\n        userId,\n        setUserId,\n        userState,\n        setUserState,\n        createSession,\n        location,\n        setLocation,\n        creatorName,\n        setCreatorName,\n        previousVotes,\n        setPreviousVotes,\n      }}\n    >\n      {children}\n    </Provider>\n  );\n};\n\nexport { Consumer as UserContextConsumer };\n","import { useCallback, useEffect, useRef } from 'react'\n\nexport const useClickOutsideListenerRef = (onClose: () => void) => {\n  const ref = useRef(null)\n  const escapeListener = useCallback((e: KeyboardEvent) => {\n    if (e.key === 'Escape') {\n      onClose()\n    }\n  }, [onClose])\n  const clickListener = useCallback(\n    (e: MouseEvent) => {\n      if (!(ref.current! as any).contains(e.target)) {\n        onClose?.()\n      }\n    },\n    [onClose],\n  )\n  useEffect(() => {\n    document.addEventListener('click', clickListener)\n    document.addEventListener('keyup', escapeListener)\n    return () => {\n      document.removeEventListener('click', clickListener)\n      document.removeEventListener('keyup', escapeListener)\n    }\n  }, [clickListener, escapeListener])\n  return ref\n}","import React, { useState } from \"react\";\nimport IceCreamGirl from \"./assets/ice_cream_girl.svg\";\nimport Logo from \"./assets/chew_logo.svg\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n\tfaInfoCircle,\n\tfaMapMarkerAlt,\n\tfaPizzaSlice,\n\tfaUser,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { UserContextConsumer } from \"./UserDataContext\";\nimport PlacesAutocomplete from \"./PlacesAutocomplete\";\n\nconst Login: React.FC = () => {\n\tlet [userName, setUserName] = useState(\"\"),\n\t\t[location, setLocation] = useState(\"\");\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex-1 py-2 px-4 md:px-6 bg-theme-red text-gray-200 rounded-lg shadow-lg max-w-lg md:m-2 lg:mr-6\">\n\t\t\t\t<img className=\"w-40\" src={Logo} alt=\"chew logo\" />\n\t\t\t\t<p className=\"font-display text-lg leading-tight py-1\">\n\t\t\t\t\tChew is the easiest way to pick a restaurant with your friends and\n\t\t\t\t\tfamily. Simply create a session, share the link, and everyone can add\n\t\t\t\t\trestaurants that they're interested in and vote on each other's\n\t\t\t\t\tselections.\n\t\t\t\t</p>\n\t\t\t\t<UserContextConsumer>\n\t\t\t\t\t{(context) => (\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tonSubmit={(e) => context.createSession(e, userName, location)}\n\t\t\t\t\t\t\tclassName=\"p-3 bg-gray-100 text-gray-600 rounded my-4 mx-4 lg:mx-6 shadow\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h2 className=\"font-bold font-display text-xl text-gray-700 italic\">\n\t\t\t\t\t\t\t\tCreate a new session:\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<label className=\"block my-2 mx-3\">\n\t\t\t\t\t\t\t\t{/* <FontAwesomeIcon icon={faUser} /> */}\n\t\t\t\t\t\t\t\t<span className=\"uppercase font-bold text-sm\">Your name:</span>\n\t\t\t\t\t\t\t\t<div className=\"py-1 px-2 rounded border border-gray-300 bg-white focus-within:border-theme-blue-l-2 w-max-content\">\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faUser} className=\"mr-2\" />\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclassName=\"px-2 border-l \"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={userName}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setUserName(e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label className=\"block my-2 mx-3\">\n\t\t\t\t\t\t\t\t{/* <FontAwesomeIcon icon={faUser} /> */}\n\t\t\t\t\t\t\t\t<span className=\"uppercase font-bold text-sm\">Location:</span>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\"py-1 px-2 rounded border border-gray-300 bg-white focus-within:border-theme-blue-l-2 w-max-content \"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faMapMarkerAlt} className=\"mr-2\" />\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclassName=\"px-2 focus:outline-none border-l\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={location}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setLocation(e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<PlacesAutocomplete\n\t\t\t\t\t\t\t\t\tsearchTerm={location}\n\t\t\t\t\t\t\t\t\tselectPlace={(place) => setLocation(place)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"text-gray-500 italic text-sm leading-none my-2 ml-4 flex items-center\">\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faInfoCircle}\n\t\t\t\t\t\t\t\t\tclassName=\"pr-2 flex-none\"\n\t\t\t\t\t\t\t\t\tsize=\"2x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<p className=\"flex-initial\">\n\t\t\t\t\t\t\t\t\tResults returned will not be strictly within this area, it\n\t\t\t\t\t\t\t\t\tserves as a starting point for your search.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"relative overflow-hidden group text-white\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tclassName=\"block w-full p-2 uppercase font-bold tracking-wide bg-theme-yellow hover:bg-theme-dark-yellow rounded shadow btn-focus\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tcreate\n\t\t\t\t\t\t\t\t</button>{\" \"}\n\t\t\t\t\t\t\t\t{/* LEFT SIDE */}\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute left-0 top-0 group-hover:mt-10 group-hover:ml-12 -mt-16 ml-2 opacity-75 transition-spacing duration-500 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"4x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute left-0 top-0 group-hover:-mt-12 group-hover:ml-24 mt-12 ml-0 opacity-75 transition-spacing duration-300 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"3x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/* RIGHT SIDE */}\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute right-0 top-0 group-hover:mt-10 group-hover:mr-24 -mt-20 mr-16 opacity-75 transition-spacing duration-500 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"4x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute right-0 top-0 group-hover:-mt-12 group-hover:mr-2 mt-16 mr-12 opacity-75 transition-spacing duration-300 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"3x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute right-0 top-0 group-hover:-mt-12 group-hover:mr-20 mt-16 mr-0 opacity-75 transition-spacing duration-300 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"3x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t)}\n\t\t\t\t</UserContextConsumer>\n\t\t\t\t<div className=\"p-4 border-l-8 border-gray-200 bg-white bg-opacity-25 m-2 md:my-4 md:mx-8 rounded shadow leading-tight\">\n\t\t\t\t\tIf you are trying to join someone else's session, copy and paste the\n\t\t\t\t\tsession link to your browser.\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* <div> */}\n\t\t\t<img\n\t\t\t\tclassName=\"flex-1 hidden md:inline max-w-lg\"\n\t\t\t\tsrc={IceCreamGirl}\n\t\t\t\talt=\"girl holding a giant ice cream cone\"\n\t\t\t/>\n\t\t\t{/* </div> */}\n\t\t</>\n\t);\n};\n\nexport default Login;\n","import {\n  faCopyright,\n  faStar,\n  faFileSignature,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst FooterLinks: React.FC = () => (\n  <>\n    <p>\n      <FontAwesomeIcon icon={faCopyright} size=\"sm\" className=\"mr-2\" />\n      <a\n        href=\"http://lauraschultz.dev\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Laura Schultz\n      </a>{\" \"}\n      2020\n    </p>\n    <a\n      className=\"block\"\n      href=\"http://github.com/lauraschultz/chew\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      <FontAwesomeIcon icon={faStar} size=\"sm\" className=\"mr-2\" />\n      star on Github\n    </a>\n    <Link to=\"/TOS\">\n      <FontAwesomeIcon icon={faFileSignature} size=\"sm\" className=\"mr-2\" />\n      terms of use & privacy policy\n    </Link>\n  </>\n);\n\nexport default FooterLinks;","import React from \"react\";\nimport Triangles from \"./assets/triangles.svg\";\nimport FooterLinks from \"./FooterLinks\";\nimport Logo from \"./assets/chew_logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nconst LoginFooter: React.FC = () => (\n  <footer className=\"w-full\">\n    <img src={Triangles} alt=\"decorative footer border\"/>\n    <div className=\"bg-theme-dark-gray text-white p-2 md:px-8 md:py-4 lg:px-24 block sm:flex justify-around leading-tight items-center\">\n      <Link to=\"/getStarted\">\n        <img className=\"flex-initial w-32\" src={Logo} alt=\"chew logo\"/>\n      </Link>\n      <div className=\"flex-initial\">\n        <FooterLinks />\n      </div>\n    </div>\n  </footer>\n);\n\nexport default LoginFooter;\n","import React from \"react\";\nimport LoginFooter from \"../LoginFooter\";\n\nconst LoginTemplate: React.FC = ({ children }) => {\n  return (\n    <>\n      <main className=\"flex-grow flex justify-center w-screen items-center\">\n        {children}\n      </main>\n      <LoginFooter />\n    </>\n  );\n};\n\nexport default LoginTemplate;\n","import {\n  faSmile,\n  faMeh,\n  faFrown,\n  faGrinStars,\n} from \"@fortawesome/free-solid-svg-icons\";\nexport const icons = [\n  { icon: faGrinStars, color: \"text-theme-blue\", borderColor:\"border-theme-blue\", descText: \"I love it!\" },\n  { icon: faSmile, color: \"text-theme-blue-l-1\", borderColor:\"border-theme-blue-l-1\", descText: \"I like it\" },\n  { icon: faMeh, color: \"text-theme-blue-l-2\", borderColor:\"border-theme-blue-l-2\", descText: \"Meh.\" },\n  { icon: faFrown, color: \"text-theme-blue-l-3\", borderColor:\"border-theme-blue-l-3\", descText: \"I don't like it\" },\n];\n","import React, { useContext } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { icons } from \"./VotingIcons\";\nimport { UserContext } from \"./UserDataContext\";\nimport Corner from \"./assets/corner.svg\";\n\nconst Vote: React.FC<{\n  addVote: Function;\n  currentVote: number | undefined;\n}> = ({ addVote, currentVote }) => {\n  const { userState } = useContext(UserContext);\n  if (userState === \"canView\") {\n    return null;\n  }\n  return (\n    <form\n      className=\"flex items-center justify-center\"\n      onSubmit={(e) => e.preventDefault()}\n    >\n      <span className=\"text-theme-dark-gray tracking-wide font-bold italic uppercase mr-2\">\n        vote:\n      </span>\n      {icons.map((i, idx) => (\n        <button\n          key={idx}\n          className=\"p-xs m-xs btn-focus rounded-full\"\n          // className={\"fa-layers fa-fw fa-2x m-1\"}\n          onClick={() => addVote(idx)}\n          aria-label={i.descText}\n          data-balloon-pos=\"down\"\n        >\n          <div className=\"leading-none bg-white rounded-full\">\n            <FontAwesomeIcon className={i.color} icon={i.icon} size=\"2x\" />\n          </div>\n          <div className={currentVote === idx ? \"\" : \"hidden\"}>\n            <img src={Corner} className=\"absolute top-0 left-0\" alt=\"\" />\n            <img\n              src={Corner}\n              className=\"absolute top-0 right-0 transform rotate-90\"\n              alt=\"\"\n            />\n            <img\n              src={Corner}\n              className=\"absolute bottom-0 right-0 transform rotate-180\"\n              alt=\"\"\n            />\n            <img\n              src={Corner}\n              className=\"absolute bottom-0 left-0 transform -rotate-90\"\n              alt=\"\"\n            />\n          </div>\n\n          {/* <FontAwesomeIcon\n            className=\"text-white\"\n              icon={faCircle}\n              // size=\"2x\"\n            /> */}\n        </button>\n      ))}\n    </form>\n  );\n};\n\nexport default Vote;\n","import {\n  faCircle,\n  faChevronCircleUp,\n  faChevronCircleDown,\n  faDollarSign,\n  faClock,\n  faMapPin,\n  faCheck,\n  faExternalLinkAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { ReactNode, useState } from \"react\";\nimport { icons } from \"./VotingIcons\";\nimport { BusinessWithVotes, Hours } from \"../../shared/types\";\n\nexport const DisplayItem: React.FC<{\n  restaurant: BusinessWithVotes;\n  addRestaurant?: ReactNode;\n  vote?: ReactNode;\n}> = ({ restaurant, addRestaurant, vote }) => {\n  let [expanded, setExpanded] = useState(false);\n  // let {userState} = useContext(UserContext);\n  return (\n    <div\n      key={restaurant.business.id}\n      className=\"relative p-1 lg:p-2 my-1 max-w-md mx-auto flex\"\n    >\n      <button className=\"fa-layers fa-fw fa-2x absolute m-2 right-0 btn-focus rounded-full\"\n      onClick={() => setExpanded((prev) => !prev)}>\n        <FontAwesomeIcon\n          className=\" text-white\"\n          icon={faCircle}\n        />\n        <FontAwesomeIcon\n          className=\" text-theme-yellow\"\n          icon={expanded ? faChevronCircleUp : faChevronCircleDown}\n        />\n      </button>\n\n      <div className=\"flex-initial\">{addRestaurant}</div>\n\n      <div className=\"flex-1\">\n        {restaurant.addedBy && (\n          <div className=\"text-xs uppercase tracking-wide text-theme-med-gray\">\n            Added by {restaurant.addedBy}\n          </div>\n        )}\n        <h2 className=\"leading-tight font-display italic font-bold text-xl text-theme-dark-gray mr-6\">\n          {restaurant.business.name}\n          {restaurant.business.price && (\n            <span className=\"ml-2 px-1 pt-1 rounded bg-theme-light-gray text-white text-sm whitespace-no-wrap\">\n              {restaurant.business.price.split(\"\").map((_, i) => (\n                <FontAwesomeIcon icon={faDollarSign} key={i} />\n              ))}\n            </span>\n          )}\n        </h2>\n        <div className=\"pl-3\">\n          <div className=\"text-theme-light-gray font-display leading-none mr-6\">\n            {restaurant.business.categories.map((c) => c.title).join(\", \")}\n          </div>\n          {restaurant.business.hours && restaurant.business.hours[0] && (\n            <div className=\"text-theme-light-gray uppercase font-bold tracking-wide text-sm leading-none\">\n              <FontAwesomeIcon icon={faClock} className=\"mr-1\" />\n              {openMsg(restaurant.business.hours[0])}\n            </div>\n          )}\n\n          {restaurant.votes.length > 0 && (\n            <div className=\"my-1\">\n              {restaurant.votes.map((v, idx) =>\n                v ? (\n                  <span className=\"m-1 border-theme-dark-gray rounded-sm border bg-white bg-opacity-50 shadow\">\n                    <span className=\"bg-theme-dark-gray text-white px-1\">\n                      <FontAwesomeIcon icon={icons[idx].icon} />\n                    </span>\n                    <span className=\"px-2 text-theme-dark-gray\">{v}</span>\n                  </span>\n                ) : null\n              )}\n            </div>\n          )}\n          {!addRestaurant ? vote : null}\n          {expanded && (\n            <>\n              {addRestaurant ? vote : null}\n\n              <div className=\"flex justify-around mt-2\">\n                <div className=\"flex-shrink-0\">\n                  <HoursTable hours={restaurant.business.hours} />\n                </div>\n                <div className=\"flex-initial\">\n                  <div className=\"flex\">\n                    <FontAwesomeIcon\n                      icon={faMapPin}\n                      className=\"flex-none mt-1 mr-2\"\n                    />\n\n                    <div className=\"flex-initial\">\n                      {restaurant.business.location.display_address.map(\n                        (line) => (\n                          <p>{line}</p>\n                        )\n                      )}\n                    </div>\n                  </div>\n                  {restaurant.business.transactions &&\n                    restaurant.business.transactions.length > 0 && (\n                      <ul className=\"mt-3\">\n                        <h3 className=\"uppercase tracking-wide font-bold text-theme-med-gray text-sm font-light\">\n                          Services offered:\n                        </h3>\n\n                        {restaurant.business.transactions.map((t) => (\n                          <li>\n                            <FontAwesomeIcon\n                              icon={faCheck}\n                              className=\"mr-2 text-green-500\"\n                            />\n                            {t}\n                          </li>\n                        ))}\n                      </ul>\n                    )}\n\n                  <a\n                    className=\"block text-center rounded w-full py-1 px-3 bg-theme-red text-white font-bold italic mt-3\"\n                    href={restaurant.business.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    more info\n                    <FontAwesomeIcon\n                      icon={faExternalLinkAlt}\n                      className=\"ml-2\"\n                    />\n                  </a>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst HoursTable: React.FC<{ hours: [Hours] | undefined }> = ({ hours }) => {\n  if (!hours || !hours[0]) {\n    return (\n      <div className=\"text-theme-light-gray py-2 px-4 rounded my-3 border border-theme-light-gray italic text-sm\">\n        No hours available.\n      </div>\n    );\n  }\n  let days = [\n    \"Mon\",\n    \"Tues\",\n    \"Weds\",\n    \"Thurs\",\n    \"Fri\",\n    \"Sat\",\n    \"Sun\",\n  ].map((d: string) => ({ day: d, hourStr: new Array<string>() }));\n  let dateify = (start: string, end: string): string =>\n    `${formatAsTime(start)} - ${formatAsTime(end)}`;\n  hours[0].open.forEach((h) =>\n    days[h.day].hourStr.push(dateify(h.start, h.end))\n  );\n  return (\n    <table>\n      <tbody>\n        {days.map((day) => (\n          <tr key={day.day}>\n            <th className=\"text-left py-0 align-top\">{day.day}</th>\n            <td className=\"py-0 pl-3 whitespace-pre\">\n              {day.hourStr.length > 0 ? (\n                day.hourStr.join(\",\\n\")\n              ) : (\n                <span className=\"italic text-theme-light-gray\">Closed</span>\n              )}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nconst formatAsTime = (time: string): string =>\n  `${time.slice(0, 2)}:${time.slice(2)}`;\n\nconst openMsg = (hours: Hours): string => {\n  const padZeros = (n: number) => (\"00\" + n).slice(-2);\n  const today = new Date();\n  const dayOfWeek = (((today.getDay() - 1) % 6) + 6) % 6;\n  const timeString = padZeros(today.getHours()) + padZeros(today.getMinutes());\n  console.log(`day of week: ${dayOfWeek}, timeString: ${timeString}`);\n  let diff = 9999999;\n  const days = hours.open.filter((h) => h.day === dayOfWeek);\n  if (days.length === 0) {\n    return \"Closed\";\n  }\n  let t: string | undefined = undefined;\n  for (let h of days) {\n    if (timeString < h.start) {\n      // will open later\n      const currentDiff = +h.start - +timeString;\n      if (currentDiff < diff) {\n        t = formatAsTime(h.start);\n        diff = currentDiff;\n      }\n    } else if (timeString < h.end) {\n      // open now\n      return \"Open now\";\n    }\n  }\n  if (t) {\n    return `Opens at ${t}`;\n  }\n  return \"Closed\";\n};\n\nexport default DisplayItem;\n","import React, { useContext } from \"react\";\nimport { BusinessWithVotes } from \"../../shared/types\";\nimport Vote from \"./Vote\";\nimport DisplayItem from \"./DisplayItem\";\nimport { UserContext } from \"./UserDataContext\";\n// import { matchPath, RouteComponentProps, useParams } from \"react-router-dom\";\n\nconst Display: React.FC<{\n  voteOnRestaurant: Function;\n  addedRestaurants: { [id: string]: BusinessWithVotes };\n  // previousVotes: {[restaurantId:string]: number}\n}> = ({ voteOnRestaurant, addedRestaurants }) => {\n  let { previousVotes, setPreviousVotes } = useContext(UserContext);\n  return (\n    <div className=\"divide-y divide-theme-extra-light-gray\">\n      <h2 className=\"max-w-md mx-auto text-2xl px-1 text-theme-dark-gray font-display leading-none\">\n        Restaurants\n      </h2>\n      {Object.keys(addedRestaurants).length === 0 && (\n        <div className=\"text-theme-light-gray py-2 px-4 rounded my-3 border border-theme-light-gray italic text-sm mx-auto max-w-md\">\n          No restaurants have been added\n        </div>\n      )}\n      {Object.values(addedRestaurants).map((r) => (\n        <DisplayItem\n          key={r.business.id}\n          restaurant={r}\n          vote={\n            <Vote\n              currentVote={previousVotes[r.business.id]}\n              addVote={(voteNum: number) => {\n                voteOnRestaurant(r.business.id, voteNum);\n                setPreviousVotes((old: { [restaurantId: string]: number }) => ({\n                  ...old,\n                  [r.business.id]: voteNum,\n                }));\n              }}\n            />\n          }\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Display;\n","import { faClipboard } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useRef, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nconst CopySessionUrl: React.FC<{\n\tinputThemes: string;\n\tbuttonThemes: string;\n\tbuttonShadowColor: string;\n}> = ({ inputThemes, buttonThemes, buttonShadowColor }) => {\n\tlet appLoc = useLocation();\n\tlet copyTextRef = useRef<HTMLInputElement>(null);\n\tlet [copied, setCopied] = useState(false);\n\n\treturn (\n\t\t<div className=\"w-max-content text-sm\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tref={copyTextRef}\n\t\t\t\treadOnly\n\t\t\t\tclassName={\n\t\t\t\t\t\"border rounded-l py-1 pl-2 w-32 overflow-hidden btn-focus \" +\n\t\t\t\t\tinputThemes\n\t\t\t\t}\n\t\t\t\tvalue={window.location.href}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\taria-label={copied ? \"Copied!\" : \"Copy to clipboard\"}\n\t\t\t\tdata-balloon-pos=\"up\"\n\t\t\t\tclassName={`rounded-r py-1 px-2 border btn-focus ${buttonThemes}`}\n\t\t\t\tstyle={{\n\t\t\t\t\tboxShadow: `${buttonShadowColor} -5px 0 8px`,\n\t\t\t\t}}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\tcopyTextRef.current?.select();\n\t\t\t\t\tdocument.execCommand(\"copy\");\n\t\t\t\t\tsetCopied(true);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon={faClipboard} />\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default CopySessionUrl;\n","import React from \"react\";\nimport CopySessionUrl from \"./CopySessionUrl\";\nimport Waves from \"./assets/waves.svg\";\nimport FooterLinks from \"./FooterLinks\";\n\nconst AppFooter: React.FC = () => (\n  <footer className=\"text-theme-red w-full\">\n    <img src={Waves} alt=\"decorative footer border\"/>\n    <div className=\"bg-theme-red text-white p-2 md:px-8 md:py-4 lg:px-24 block sm:flex justify-around leading-tight\">\n      <div className=\"flex-initial\">\n        <p className=\"mb-1\">Share this session with others:</p>\n        <CopySessionUrl\n          buttonThemes=\"bg-white text-theme-red border-white\"\n          buttonShadowColor=\"#e8505b\"\n          inputThemes=\"border-white bg-theme-red\"\n        />\n      </div>\n      <div className=\"flex-initial\">\n        <FooterLinks />\n      </div>\n\n      {/* <Link to=\"\">show restaurants</Link>\n          <Link to=\"\">show search</Link> */}\n    </div>\n  </footer>\n);\n\nexport default AppFooter;\n","import React from \"react\";\n\nconst ModalContainer: React.FC<{shadow: boolean}> = ({ shadow, children }) => {\n  return (\n      <div className=\"w-screen h-screen absolute bg-gray-800 bg-opacity-75 flex justify-center items-center z-40\">\n          <div className={\"rounded max-w-sm m-2 \" + (shadow ? \"shadow-2xl\" : \"\")}>\n              {children}\n          </div>\n      </div>\n    );\n  \n};\n\nexport default ModalContainer;\n","import {\n\tfaExclamationCircle,\n\tfaSlidersH,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect, useReducer, useState } from \"react\";\nimport { FilterResults } from \"./Search\";\nimport { FilterForm, SearchFormState } from \"./Templates/AppTemplate\";\n\nconst Filters: React.FC<{\n\tupdate: (newFilters: FilterResults) => void;\n\tupdateSearchFormState: (s: Partial<SearchFormState>) => void;\n\tsearchFormFilterState?: FilterForm;\n}> = ({ update, updateSearchFormState, searchFormFilterState }) => {\n\tconst initialForm: FilterForm = {\n\t\topenDate: \"any\",\n\t\topenNow: false,\n\t\tprices: [0, 3],\n\t\tservices: {\n\t\t\tpickup: true,\n\t\t\tdelivery: true,\n\t\t\trestaurant_reservation: true,\n\t\t},\n\t};\n\tlet [showFilters, setShowFilters] = useState(false);\n\t// let location = useLocation();\n\t// let history = useHistory()\n\tconst [state, dispatch] = useReducer(\n\t\tformReducer,\n\t\tsearchFormFilterState || initialForm\n\t);\n\t//   let [[price1, price2], setPrices] = useState<(number | undefined)[]>([0, 3]);\n\t// let onlyOnePriceSet: boolean;\n\n\tuseEffect(() => {\n\t\tupdateSearchFormState({ filter: state });\n\t}, [state, updateSearchFormState]);\n\n\t// useEffect(() => {\n\t//   onlyOnePriceSet = !(state.prices[0]! > -1 && state.prices[1]! > -1);\n\t// }, [state.prices]);\n\n\tconst min = (arr: (number | undefined)[]) => {\n\t\tlet min = 99;\n\t\tarr.forEach((n) => {\n\t\t\tif (typeof n === \"number\" && n < min) {\n\t\t\t\tmin = n;\n\t\t\t}\n\t\t});\n\t\treturn min;\n\t};\n\n\tuseEffect(() => {\n\t\tupdate({\n\t\t\topenHours:\n\t\t\t\tstate.openDate === \"any\" ? \"any\" : state.openNow ? \"now\" : \"today\",\n\t\t\tpriceRange: new Array(\n\t\t\t\tstate.prices[1] === undefined\n\t\t\t\t\t? 1\n\t\t\t\t\t: Math.abs(state.prices[0]! - state.prices[1]!) + 1\n\t\t\t)\n\t\t\t\t.fill(0)\n\t\t\t\t.map((_, idx) => min(state.prices) + 1 + idx)\n\t\t\t\t.join(\",\"),\n\t\t\tservices: Object.entries(state.services)\n\t\t\t\t.filter(([_, b]) => b)\n\t\t\t\t.map(([e, _]) => e)\n\t\t\t\t.join(\",\"),\n\t\t});\n\t}, [state, update]);\n\n\tconst isBetween = (n: number, stops: (number | undefined)[]) => {\n\t\tif (!(typeof stops[0] === \"number\" && typeof stops[1] === \"number\")) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (stops[0] < n && n < stops[1]) || (stops[1] < n && n < stops[0]);\n\t};\n\tconst priceArray = new Array(4).fill(\"\").map((a, b) => \"$\".repeat(b + 1));\n\tconst selectedPriceStyles =\n\t\t\"bg-theme-blue text-white px-1 py-2 rounded-full z-30 \";\n\tconst intermediatePriceStyles =\n\t\t\"bg-theme-blue-l-3 text-black py-1 px-4 -mx-2 z-20 \";\n\n\treturn (\n\t\t<>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"m-1 px-2 py-1 text-theme-blue border border-theme-blue bg-white rounded shadow font-bold text-sm uppercase tracking-wide btn-focus\"\n\t\t\t\tonClick={() => setShowFilters(!showFilters)}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon={faSlidersH} className=\"mr-2\" />\n\t\t\t\t{showFilters ? \"hide\" : \"show\"} filters\n\t\t\t</button>\n\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\t\"px-2 pb-2 flex flex-wrap border-b border-theme-extra-light-gray \" +\n\t\t\t\t\t(showFilters ? \"\" : \"hidden\")\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div className=\"w-full sm:w-1/2\">\n\t\t\t\t\t<span className=\"text-sm font-bold uppercase tracking-wide text-theme-med-gray\">\n\t\t\t\t\t\tPrice Range\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<div className=\"group mt-1 ml-2 mb-3 text-sm\">\n\t\t\t\t\t\t{priceArray.map((d, idx) => (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\tonClick={() => dispatch({ key: \"price\", newVal: idx })}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\"relative px-2 btn-focus rounded-full\" +\n\t\t\t\t\t\t\t\t\t(state.prices.includes(idx) ? selectedPriceStyles : \"\") +\n\t\t\t\t\t\t\t\t\t(isBetween(idx, state.prices) ? intermediatePriceStyles : \"\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{d}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<span className=\"text-sm font-bold uppercase tracking-wide text-theme-med-gray\">\n\t\t\t\t\t\tOpen Hours\n\t\t\t\t\t</span>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus rounded-full\"\n\t\t\t\t\t\t\tchecked={state.openDate === \"any\"}\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"day\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ newVal: \"any\", key: \"openDate\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tAny time\n\t\t\t\t\t</label>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus rounded-full\"\n\t\t\t\t\t\t\tchecked={state.openDate === \"today\"}\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"day\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ newVal: \"today\", key: \"openDate\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tToday\n\t\t\t\t\t\t<label className=\"block px-4 -mt-1 mb-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\t\tchecked={state.openNow}\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"openNow\" })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\tOpen now\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"w-full sm:w-1/2\">\n\t\t\t\t\t<span className=\"text-sm font-bold uppercase tracking-wide text-theme-med-gray\">\n\t\t\t\t\t\tServices Offered\n\t\t\t\t\t</span>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\tchecked={state.services.pickup}\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"pickup\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tPickup\n\t\t\t\t\t</label>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\tchecked={state.services.delivery}\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"delivery\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tDelivery\n\t\t\t\t\t</label>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\tchecked={state.services.restaurant_reservation}\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"restaurant_reservation\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tRestaurant reservation\n\t\t\t\t\t</label>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\tstate.services.pickup ||\n\t\t\t\t\t\t\t\tstate.services.delivery ||\n\t\t\t\t\t\t\t\tstate.services.restaurant_reservation\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t? \"mx-6 my-1 bg-white bg-opacity-50 border-l-4 border-orange-500 px-2 py-1 rounded text-sm italic\"\n\t\t\t\t\t\t\t\t: \"hidden\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\ticon={faExclamationCircle}\n\t\t\t\t\t\t\tclassName=\"text-orange-500 mr-2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tPlease select at least one service.\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nfunction formReducer(\n\tprevState: FilterForm,\n\tupdate: { newVal?: any; key: string }\n): FilterForm {\n\tconst stateUpdates: Partial<FilterForm> = {};\n\tif (update.key === \"openDate\") {\n\t\tif (update.newVal === \"any\") {\n\t\t\tstateUpdates.openDate = \"any\";\n\t\t\tstateUpdates.openNow = false;\n\t\t} else {\n\t\t\tstateUpdates.openDate = \"today\";\n\t\t}\n\t} else if (update.key === \"openNow\") {\n\t\tstateUpdates.openNow = !prevState.openNow;\n\t\tif (stateUpdates.openNow) {\n\t\t\tstateUpdates.openDate = \"today\";\n\t\t}\n\t} else if (\n\t\tupdate.key === \"delivery\" ||\n\t\tupdate.key === \"pickup\" ||\n\t\tupdate.key === \"restaurant_reservation\"\n\t) {\n\t\tstateUpdates.services = {\n\t\t\t...prevState.services,\n\t\t\t[update.key]: !prevState.services[update.key],\n\t\t};\n\t} else if (update.key === \"price\") {\n\t\tif (\n\t\t\ttypeof prevState.prices[0] === \"number\" &&\n\t\t\ttypeof prevState.prices[1] === \"number\"\n\t\t) {\n\t\t\tstateUpdates.prices = [update.newVal, undefined];\n\t\t} else if (typeof prevState.prices[0] === \"number\") {\n\t\t\tstateUpdates.prices = [prevState.prices[0], update.newVal];\n\t\t}\n\t}\n\tconst newState = { ...prevState, ...stateUpdates };\n\n\t// window.history.replaceState({\n\t//   ...window.history.state,\n\t//   filter: JSON.stringify(newState)\n\t// }, \"\")\n\treturn newState;\n}\n\nexport default Filters;\n","import { faCheck, faCircleNotch, faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState } from \"react\"\nimport socket from \"./socket\";\n\nconst AddRestaurantButton:React.FC<{isRestaurantsAdded: boolean, userState:string, sessionId: string, userId: string, businessId:string}> = ({isRestaurantsAdded, userState, sessionId, userId, businessId}) => {\n    let [adding, setAdding] = useState(false);\n    return <button\n    // title={displayVoteComponent[b.id] ? \"you have already added\" : \"add this restaurant\"}\n    aria-label={\n      isRestaurantsAdded\n        ? \"restaurant has already been added\"\n        : userState === \"canVote\"\n        ? \"add restaurant\"\n        : \"you must join the session before adding a restaurant\"\n    }\n    data-balloon-pos=\"right\"\n    className=\"py-1 px-2 mr-2 text-theme-med-gray border-2 border-theme-light-gray rounded-full group btn-focus rounded-full\"\n    onClick={() => {\n      if (!isRestaurantsAdded && userState === \"canVote\") {\n          setAdding(true)\n        socket.addRestaurant(sessionId, userId, businessId).then(r => setAdding(false));\n      }\n    }}\n  >\n    <FontAwesomeIcon className={adding ? \"animate-spin\" : \"\"} icon={adding ? faCircleNotch : (isRestaurantsAdded ? faCheck : faPlus)} />\n    {/* <span className=\"hidden hover:block absolute\">\n    <Tooltip>{displayVoteComponent[b.id] ? <p>you have already added</p> : <p>add this restaurant</p>}</Tooltip>\n  </span> */}\n  </button>\n}\n\nexport default AddRestaurantButton;","import React, {\n\tuseState,\n\tFormEvent,\n\tuseContext,\n\tuseEffect,\n\tuseCallback,\n} from \"react\";\nimport { Business } from \"../../shared/types\";\nimport Vote from \"./Vote\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n\tfaCircleNotch,\n\tfaInfoCircle,\n\tfaSearch,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport DisplayItem from \"./DisplayItem\";\nimport socket from \"./socket\";\nimport Filters from \"./Filters\";\nimport AddRestaurantButton from \"./AddRestaurantButton\";\nimport { UserContext } from \"./UserDataContext\";\nimport { SearchFormState } from \"./Templates/AppTemplate\";\n\nconst DisplaySearchResults: React.FC<{\n\tbusinesses: Business[];\n\tvoteOnRestaurant: Function;\n\tisAdded: { [id: string]: boolean };\n}> = ({ businesses, voteOnRestaurant, isAdded }) => {\n\tlet {\n\t\tsessionId,\n\t\tuserId,\n\t\tuserState,\n\t\tpreviousVotes,\n\t\tsetPreviousVotes,\n\t} = useContext(UserContext);\n\treturn (\n\t\t<ul className=\"divide-y divide-theme-extra-light-gray\">\n\t\t\t{businesses.map((b) => (\n\t\t\t\t<li key={b.id}>\n\t\t\t\t\t<DisplayItem\n\t\t\t\t\t\trestaurant={{ business: b, votes: [] }}\n\t\t\t\t\t\taddRestaurant={\n\t\t\t\t\t\t\t<AddRestaurantButton\n\t\t\t\t\t\t\t\tisRestaurantsAdded={isAdded[b.id]}\n\t\t\t\t\t\t\t\tuserState={userState}\n\t\t\t\t\t\t\t\tsessionId={sessionId}\n\t\t\t\t\t\t\t\tuserId={userId}\n\t\t\t\t\t\t\t\tbusinessId={b.id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvote={\n\t\t\t\t\t\t\tisAdded[b.id] ? (\n\t\t\t\t\t\t\t\t<Vote\n\t\t\t\t\t\t\t\t\tcurrentVote={previousVotes[b.id]}\n\t\t\t\t\t\t\t\t\taddVote={(v: number) => {\n\t\t\t\t\t\t\t\t\t\tvoteOnRestaurant(b.id, v);\n\t\t\t\t\t\t\t\t\t\tsetPreviousVotes(\n\t\t\t\t\t\t\t\t\t\t\t(old: { [restaurantId: string]: number }) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t...old,\n\t\t\t\t\t\t\t\t\t\t\t\t[b.id]: v,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t);\n};\n\nexport type FilterResults = {\n\topenHours: \"any\" | \"today\" | \"now\";\n\tpriceRange: string;\n\tservices: string;\n};\n\nconst Search: React.FC<{\n\tsessionId: string;\n\tlocation: string;\n\tcreatorName: string;\n\tvoteOnRestaurant: Function;\n\tisAdded: { [id: string]: boolean };\n\tsearchFormState: Partial<SearchFormState>;\n\tupdateSearchFormState: (s: Partial<SearchFormState>) => void;\n}> = ({\n\tsessionId,\n\tlocation,\n\tcreatorName,\n\tvoteOnRestaurant,\n\tisAdded,\n\tsearchFormState,\n\tupdateSearchFormState,\n}) => {\n\tlet [searchTerm, setSearchTerm] = useState(searchFormState.search || \"\");\n\tlet [businesses, setBusinesses] = useState(\n\t\tsearchFormState.results || new Array<Business>()\n\t);\n\tlet [loadingSearch, setLoadingSearch] = useState(false);\n\tlet [filterResults, setFilterResults] = useState<FilterResults>();\n\tconst updateFilter = useCallback(\n\t\t(r: FilterResults) => {\n\t\t\tconsole.log(`filter sent: ${JSON.stringify(r)}`);\n\t\t\tsetFilterResults(r);\n\t\t},\n\t\t[setFilterResults]\n\t);\n\n\tuseEffect(() => {\n\t\tupdateSearchFormState({ search: searchTerm, results: businesses });\n\t}, [searchTerm, businesses, updateSearchFormState]);\n\n\treturn (\n\t\t<div className=\"max-w-md w-full mx-auto\">\n\t\t\t<h2 className=\"max-w-md mx-auto text-2xl px-1 text-theme-dark-gray font-display leading-none mb-1\">\n\t\t\t\tSearch\n\t\t\t</h2>\n\t\t\t<hr className=\"border-theme-extra-light-gray\" />\n\t\t\t<form\n\t\t\t\tclassName=\"p-2 w-full\"\n\t\t\t\tonSubmit={(e: FormEvent) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsetLoadingSearch(true);\n\t\t\t\t\tsetBusinesses([]);\n\t\t\t\t\tsocket\n\t\t\t\t\t\t.search(\n\t\t\t\t\t\t\tsessionId,\n\t\t\t\t\t\t\tsearchTerm,\n\t\t\t\t\t\t\tfilterResults?.openHours || \"\",\n\t\t\t\t\t\t\tfilterResults?.priceRange || \"\",\n\t\t\t\t\t\t\tfilterResults?.services || \"\"\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then((b: Business[]) => {\n\t\t\t\t\t\t\tsetBusinesses(b);\n\t\t\t\t\t\t\tsetLoadingSearch(false);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((e) => console.log(`oopsies ${e}`));\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"text-theme-light-gray italic -mt-1\">\n\t\t\t\t\t{creatorName} set the location to{\" \"}\n\t\t\t\t\t<span className=\"uppercase text-sm font-bold\">\n\t\t\t\t\t\t{location}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\taria-label=\"Search results will not be strictly within this area; it serves as a starting point.\"\n\t\t\t\t\t\t\tdata-balloon-pos=\"down\"\n\t\t\t\t\t\t\tdata-balloon-length=\"medium\"\n\t\t\t\t\t\t\tclassName=\"btn-focus rounded-full\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FontAwesomeIcon icon={faInfoCircle} className=\"ml-1\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"rounded py-1 px-2 shadow m-1 btn-focus\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t\tonChange={(e) => setSearchTerm(e.target.value)}\n\t\t\t\t></input>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"shadow py-1 px-2 m-1 text-white bg-theme-blue rounded-full btn-focus rounded-full\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t>\n\t\t\t\t\t<FontAwesomeIcon aria-label=\"search\" icon={faSearch} />\n\t\t\t\t</button>\n\t\t\t\t<Filters\n\t\t\t\t\tupdate={updateFilter}\n\t\t\t\t\tupdateSearchFormState={updateSearchFormState}\n\t\t\t\t\tsearchFormFilterState={searchFormState.filter}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t\t{loadingSearch && (\n\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\ticon={faCircleNotch}\n\t\t\t\t\tsize=\"5x\"\n\t\t\t\t\tclassName=\"animate-spin text-theme-yellow mx-auto my-4 block\"\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<DisplaySearchResults\n\t\t\t\tbusinesses={businesses}\n\t\t\t\tvoteOnRestaurant={voteOnRestaurant}\n\t\t\t\tisAdded={isAdded}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Search;\n","import { faTimes } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport React from \"react\"\nimport Logo from \"./assets/chew_logo.svg\";\n\nconst ModalWelcomeHeader:React.FC<{escape: () => void}> = ({escape}) => {\n    return <div className=\"p-2 text-white bg-gradient-to-r from-theme-red to-theme-dark-red rounded-t font-bold text-xl\">\n    <span className=\"\">Welcome to</span>\n    <img className=\"inline w-24 ml-1 mr-6\" src={Logo} alt=\"chew logo\" />\n    <button className=\"float-right leading-none btn-focus\" onClick={escape}>\n      <FontAwesomeIcon icon={faTimes} />\n    </button>\n  </div>\n}\n\nexport default ModalWelcomeHeader;","import React from \"react\";\nimport ModalWelcomeHeader from \"./ModalWelcomeHeader\";\nimport { useClickOutsideListenerRef } from \"./useClickOutsideListenerRef\";\nimport CopySessionUrl from \"./CopySessionUrl\";\n\nconst ShareSessionModal: React.FC<{ escape: () => void }> = ({ escape }) => {\n  let ref = useClickOutsideListenerRef(escape);\n\n  return (\n    <>\n      <ModalWelcomeHeader escape={escape} />\n      <div ref={ref} className=\"pt-1 pb-3 px-4 rounded-b bg-white text-gray-700\">\n        Share this url with others:\n        <div className=\"mt-1 mb-4 mx-auto w-max-content\">\n          <CopySessionUrl\n            buttonThemes=\"bg-green-500 border-green-500 text-white\"\n            buttonShadowColor=\"white\"\n            inputThemes=\"border-gray-400\"\n          />\n        </div>\n        <button\n          onClick={escape}\n          className=\"py-1 uppercase tracking-wide text-sm border border-gray-700 w-full mt-2 rounded shadow font-bold btn-focus\"\n        >\n          dismiss\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default ShareSessionModal;\n","import React from \"react\";\n\nconst Toast: React.FC<{ show: boolean }> = ({show, children}) => {\n  console.log(`Toast: show is ${show}`)\n  return (\n    <div\n      className={\n        \"fixed z-50 right-0 bottom-0 mx-1 md:mx-3 shadow-xl transition-spacing duration-500 \" +\n        (show\n          ? \"my-1 md:my-3\"\n          : \"-mb-24\")\n      }\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Toast;","import React, { useState, FormEvent } from \"react\";\nimport socket from \"./socket\";\n\nimport { UserContextConsumer } from \"./UserDataContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport ModalWelcomeHeader from \"./ModalWelcomeHeader\";\nimport { useClickOutsideListenerRef } from \"./useClickOutsideListenerRef\";\n\nexport const UserNameModal: React.FC<{ escape: () => void }> = ({ escape }) => {\n  let [currentUserName, setCurrentUserName] = useState(\"\");\n let ref = useClickOutsideListenerRef(escape);\n\n  return (\n    <>\n      <ModalWelcomeHeader escape={escape} />\n      <UserContextConsumer>\n        {(context) => (\n          <form\n          ref={ref}\n            className=\"pb-3 px-4 rounded-b bg-white text-gray-700\"\n            onSubmit={(e: FormEvent) => {\n              e.preventDefault();\n              if (context.userId) {\n                socket\n                  .setUserName(\n                    context.sessionId,\n                    context.userId,\n                    currentUserName\n                  )\n                  .then((response) => {\n                    console.log(`result of setting name: ${response}`);\n                    if (response) {\n                      context.setUserState(\"canVote\");\n                    }\n                  });\n              }\n            }}\n          >\n            <div className=\"text-gray-600 text-sm py-1\">\n              Invited to {context.creatorName}'s session\n            </div>\n            <label className=\"block mx-3\">\n                {/* <FontAwesomeIcon icon={faUser} /> */}\n                <span className=\"uppercase font-bold text-sm\">\n                 Your name: \n                </span>\n                <div className=\"py-1 px-2 rounded border border-gray-300 bg-white focus-within:border-theme-blue-l-2 w-max-content\">\n                  <FontAwesomeIcon icon={faUser} className=\"mr-2\"/>\n                  <input\n                  className=\"px-2 focus:outline-none border-l\"\n                  type=\"text\"\n                  value={currentUserName}\n                  onChange={(e) => setCurrentUserName(e.target.value)}\n                />\n                </div>\n                \n              </label>\n            <button\n              type=\"submit\"\n              className=\"py-1 uppercase tracking-wide text-sm text-white bg-theme-yellow hover:theme-dark-yellow w-full mt-4 rounded shadow font-bold btn-focus\"\n            >\n              join session\n            </button>\n          </form>\n        )}\n      </UserContextConsumer>\n    </>\n  );\n};\n","import {\n  faBinoculars,\n  faCircleNotch,\n  faDoorOpen,\n  faSearch,\n  faUtensils,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, {\n  ReactFragment,\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport Media from \"react-media\";\nimport {\n  Link,\n  NavLink,\n  Redirect,\n  Route,\n  Switch,\n  useHistory,\n} from \"react-router-dom\";\nimport { Business, BusinessWithVotes } from \"../../../shared/types\";\nimport Logo from \"../assets/chew_logo.svg\";\nimport Display from \"../Display\";\nimport AppFooter from \"../AppFooter\";\nimport ModalContainer from \"../ModalContainer\";\nimport Search from \"../Search\";\nimport ShareSessionModal from \"../ShareSessionModal\";\nimport socket from \"../socket\";\nimport Toast from \"../Toast\";\nimport { UserContext, UserContextConsumer } from \"../UserDataContext\";\nimport { UserNameModal } from \"../UserNameModal\";\n\nexport interface SearchFormState {\n  search: string;\n  filter: FilterForm;\n  results: Business[];\n}\n\nexport interface FilterForm {\n  openDate: \"any\" | \"today\";\n  openNow: boolean;\n  prices: (number | undefined)[];\n  services: {\n    pickup: boolean;\n    delivery: boolean;\n    restaurant_reservation: boolean;\n  };\n}\n\nconst AppTemplate: React.FC = () => {\n  let [addedRestaurants, setAddedRestaurants] = useState<{\n    [id: string]: BusinessWithVotes;\n  }>({});\n  let {\n    sessionId,\n    setSessionId,\n    userId,\n    setUserId,\n    setUserState,\n    location,\n    setLocation,\n    creatorName,\n    setCreatorName,\n    setPreviousVotes,\n  } = useContext(UserContext);\n  let [isAdded, setIsAdded] = useState<{ [id: string]: boolean }>({});\n  let [loaded, setLoaded] = useState(false);\n  let [showVotingToast, setShowVotingToast] = useState(false);\n  let [showShareSessionModal, setShowShareSessionModal] = useState(false);\n  let [searchFormState, setSearchFormState] = useState<\n    Partial<SearchFormState>\n  >({});\n  let history = useHistory();\n\n  useEffect(() => {\n    socket.subscribeToRestaurantAdded((newRestaurant: BusinessWithVotes) => {\n      console.log(\"recieving an added restaurant.\");\n      setAddedRestaurants((r) => ({\n        ...r,\n        [newRestaurant.business.id]: newRestaurant,\n      }));\n    });\n\n    socket.subscribeToVoteAdded(\n      (params: { restaurantId: string; votes: string[] }) => {\n        setAddedRestaurants((r) => ({\n          ...r,\n          [params.restaurantId]: {\n            ...r[params.restaurantId],\n            votes: params.votes,\n          },\n        }));\n      }\n    );\n    return () => {\n      socket.unSubscribeToRestaurantAdded();\n      socket.unSubscribeToVoteAdded();\n    };\n  }, []);\n\n  const voteOnRestaurant = (restaurantId: string, voteNum: number) =>\n    socket.addVote(sessionId, userId, restaurantId, voteNum);\n\n  const updateSearchFormState = useCallback(\n    (s: Partial<SearchFormState>) =>\n      setSearchFormState((old) => ({ ...old, ...s })),\n    [setSearchFormState]\n  );\n\n  let search: ReactFragment = (\n    <div className=\"flex-1 pt-4\">\n      <Search\n        voteOnRestaurant={voteOnRestaurant}\n        isAdded={isAdded}\n        sessionId={sessionId}\n        location={location}\n        creatorName={creatorName}\n        searchFormState={searchFormState}\n        updateSearchFormState={updateSearchFormState}\n      />\n    </div>\n  );\n\n  let display: ReactFragment = (\n    <div className=\"flex-1 pt-4\">\n      <Display\n        voteOnRestaurant={voteOnRestaurant}\n        addedRestaurants={addedRestaurants}\n      />\n    </div>\n  );\n\n  useEffect(() => {\n    const newIsAdded: { [id: string]: boolean } = {};\n    Object.keys(addedRestaurants).forEach(\n      (restId) => (newIsAdded[restId] = true)\n    );\n    setIsAdded(newIsAdded);\n  }, [addedRestaurants]);\n\n  useEffect(() => {\n    if (window.history?.state?.fromLogin) {\n      console.log(`REDIRECTED FROM LOGIN`);\n      setShowShareSessionModal(true);\n      setLoaded(true);\n\n      // history.replace(history.location, {fromLogin:false})\n      // appLoc.state = {fromLogin:false}\n\n      window.history.replaceState({ fromLogin: false }, \"\");\n    } else if (sessionId !== \"\") {\n      socket.tryJoinSession({ sessionId, userId }, (response) => {\n        console.log(\n          `response from tryJoinSession is ${JSON.stringify(response)}`\n        );\n        if (response.success) {\n          setShowVotingToast(false);\n          setSessionId(sessionId);\n          setUserId(response.userId);\n          setUserState(\n            response.previouslyAuthenticated ? \"canVote\" : \"canView\"\n          );\n          setLocation(response.location);\n          setCreatorName(response.creatorName);\n          setPreviousVotes(response.previousVotes);\n          setAddedRestaurants(response.restaurants || {});\n          setLoaded(true);\n        } else {\n          history.push(\"/404\");\n          console.log(\"recieved failure from server\");\n        }\n      });\n    }\n  }, [sessionId, history, setCreatorName, setLocation, setPreviousVotes, setSessionId, setUserId, setUserState, userId]); //sessionId\n\n  return (\n    <>\n      {showShareSessionModal && (\n        <ModalContainer shadow={true}>\n          <ShareSessionModal escape={() => setShowShareSessionModal(false)} />\n        </ModalContainer>\n      )}\n      {!loaded && (\n        <ModalContainer shadow={false}>\n          <FontAwesomeIcon\n            icon={faCircleNotch}\n            size=\"5x\"\n            className=\"animate-spin text-theme-yellow block\"\n          />\n        </ModalContainer>\n      )}\n      <Toast show={showVotingToast}>\n        <div className=\"p-2 pt-1 md:p-3 md:pt-2 bg-gray-100 flex items-center rounded-md border\">\n          <FontAwesomeIcon\n            icon={faBinoculars}\n            className=\"flex-initial text-gray-800 p-1 pb-0\"\n            size=\"3x\"\n          />\n          <div className=\"flex-1 pl-3\">\n            <div className=\"text-md font-bold border-b border-gray-400 px-1\">\n              Currently in view-only mode.\n            </div>\n            <div className=\"text-gray-700 leading-tight mt-1 px-1\">\n              <span\n                className=\"border-b-2 border-theme-blue hover:text-theme-blue cursor-pointer\"\n                onClick={() => {\n                  setShowVotingToast(false);\n                }}\n              >\n                Join the session\n              </span>{\" \"}\n              to add restaurants and vote\n            </div>\n          </div>\n        </div>\n      </Toast>\n      <UserContextConsumer>\n        {(context) => (\n          <>\n            {loaded && context.userState !== \"canVote\" && !showVotingToast && (\n              <ModalContainer shadow={true}>\n                <UserNameModal escape={() => setShowVotingToast(true)} />\n              </ModalContainer>\n            )}\n            <header className=\"bg-theme-red text-white shadow \">\n              <nav className=\"flex justify-between p-1 lg:py-2 lg:px-4\">\n                <Link to=\"/getStarted\">\n                  <img\n                    className=\"text-white inline-block w-32 lg:w-38 flex-initial\"\n                    src={Logo}\n                    alt=\"chew logo\"\n                  />\n                </Link>\n                <Link\n                  to=\"/getStarted\"\n                  className=\"inline-block flex-initial self-center text-sm\"\n                >\n                  leave this group <FontAwesomeIcon icon={faDoorOpen} />\n                </Link>\n              </nav>\n              <div className=\"md:hidden uppercase font-bold tracking-wide py-1 text-sm bg-theme-dark-red\">\n                <NavLink\n                  to={`/ID/${context.sessionId}`}\n                  exact={true}\n                  className=\"p-1 m-1\"\n                  activeClassName=\"border-b-2 border-white\"\n                >\n                  <FontAwesomeIcon\n                    icon={faUtensils}\n                    size=\"sm\"\n                    className=\"mr-2\"\n                  />\n                  view restaurants\n                </NavLink>\n                <NavLink\n                  to={`/ID/${context.sessionId}/search`}\n                  exact={true}\n                  className=\"p-1 m-1\"\n                  activeClassName=\"border-b-2 border-white\"\n                >\n                  <FontAwesomeIcon icon={faSearch} size=\"sm\" className=\"mr-2\" />\n                  search\n                </NavLink>\n              </div>\n            </header>\n            <main className=\"flex-grow\">\n              {/* LARGE DISPLAYS */}\n              <Media\n                query=\"(min-width: 768px)\"\n                render={() => (\n                  <Switch>\n                    <Route\n                      path=\"/ID/:sessionId\"\n                      exact\n                      render={() => (\n                        <div className=\"flex justify-around px-1\">\n                          {display} {search}\n                        </div>\n                      )}\n                    />\n                    <Route\n                      path=\"/\"\n                      render={() => (\n                        <Redirect to={`/ID/${context.sessionId}`} />\n                      )}\n                    />\n                  </Switch>\n                )}\n              />\n\n              {/* SMALL DISPLAYS */}\n              <Media\n                query=\"(max-width: 767px)\"\n                render={() => (\n                  <Route\n                    path=\"/ID/:sessionId\"\n                    render={({ location }) => (\n                      // <div className=\"w-screen overflow-x-hidden\">\n                      //   <div\n                      //     className={\"whitespace-no-wrap transition-spacing \" + (location.pathname.search(\"search\") > -1 ? '-ml-screen': 'm-0')}\n                      //     // style={\n                      //     //   location.pathname.search(\"search\") > -1\n                      //     //     ? { marginLeft: \"-100vw\" }\n                      //     //     : { marginLeft: \"0\" }\n                      //     // }\n                      //   >\n                      //     <div className=\"w-screen inline-block\">{display}</div>\n                      //     <div className=\"w-screen inline-block\">{search}</div>\n                      //   </div>\n                      // </div>\n\n                      <Switch>\n                        <Route\n                          path=\"/ID/:sessionId\"\n                          exact\n                          render={() => display}\n                        />\n                        <Route\n                          path=\"/ID/:sessionId/search\"\n                          exact\n                          render={() => search}\n                        />\n                      </Switch>\n                    )}\n                  />\n                )}\n              />\n            </main>\n            <AppFooter />\n          </>\n        )}\n      </UserContextConsumer>\n    </>\n  );\n};\n\nexport default AppTemplate;\n","import React from \"react\"\nimport ReadingGirl from \"./assets/reading_girl.svg\";\nimport LoginTemplate from \"./Templates/LoginTemplate\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\n\nconst FourOhFour:React.FC = () => <LoginTemplate>\n      <div className=\"flex-1 py-2 px-4 md:py-4 md:px-6 bg-white text-theme-dark rounded-lg shadow-lg max-w-md m-2 lg:mr-6\">\n        <h2 className=\"text-xl font-display font-bold italic\">Page not found</h2>\n        <p className=\"leading-tight mt-1\">\n            If you are trying to join someone's session, please make sure you have entered the url correctly.\n        </p>\n        <Link to=\"/getStarted\" className=\"inline-block shadow rounded bg-theme-red py-1 px-2 text-sm text-white uppercase tracking-wide mt-3\">\n            <FontAwesomeIcon icon={faHome} className=\"mr-2\" />\n           Go home \n        </Link>\n    </div>\n    <img src={ReadingGirl} className=\"hidden md:inline flex-1 max-w-md\" alt=\"girl reading a book\"/>\n\n</LoginTemplate>\n\nexport default FourOhFour;","import React from \"react\";\nimport Papers from \"./assets/papers.svg\";\nimport LoginTemplate from \"./Templates/LoginTemplate\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\n\nconst TOS: React.FC = () => (\n  <LoginTemplate>\n    <img\n      src={Papers}\n      className=\"hidden md:inline flex-1 max-w-md\"\n      alt=\"girl reading a book\"\n    />\n    <div className=\"flex-1 py-2 px-4 md:py-4 md:px-6 bg-white text-theme-dark rounded-lg shadow-lg max-w-md m-2 lg:mr-6\">\n      <h2 className=\"text-xl font-display font-bold italic\">\n        Terms of Use and Privacy Policy\n      </h2>\n      <p className=\"leading-tight mt-1 px-2\">\n        By using Chew, you are bound by Google's{\" \"}\n        <a className=\"border-b border-theme-blue-l-2\" href=\"https://policies.google.com/terms?hl=en\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Terms of Service\n        </a>.\n      </p>\n      <p className=\"leading-tight mt-1 px-2\">\n        Chew uses the Google Places API on the <i>Get Started</i> page to provide location\n        suggestions and to autocomplete your searches. For information about\n        what data Google collects and how they use it, please read{\" \"}\n        <a className=\"border-b border-theme-blue-l-2\" href=\"https://policies.google.com/privacy\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Google's Privacy Policy\n        </a>\n        .\n      </p>\n      <Link\n        to=\"/getStarted\"\n        className=\"inline-block shadow rounded bg-theme-red py-1 px-2 text-sm text-white uppercase tracking-wide mt-3\"\n      >\n        <FontAwesomeIcon icon={faHome} className=\"mr-2\" />\n        Go home\n      </Link>\n    </div>\n  </LoginTemplate>\n);\n\nexport default TOS;\n","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport LoginTemplate from \"./Templates/LoginTemplate\";\nimport AppTemplate from \"./Templates/AppTemplate\";\nimport \"./comp.css\";\nimport { UserContextProvider } from \"./UserDataContext\";\nimport FourOhFour from \"./404\";\nimport TOS from \"./TOS\";\n\nconst App: React.FC = () => (\n  <UserContextProvider>\n    <Switch>\n      <Route path=\"/getStarted\" exact>\n        <LoginTemplate>\n          <Login />\n        </LoginTemplate>\n      </Route>\n      <Route path=\"/ID/:sessionId\" render={() => <AppTemplate />}></Route>\n      <Route path=\"/404\" exact>\n        <FourOhFour />\n      </Route>\n      <Route path=\"/TOS\" exact>\n        <TOS />\n      </Route>\n      <Route path=\"/\" exact>\n        <Redirect to=\"/getStarted\" />\n      </Route>\n      <Route path=\"/\">\n        <Redirect to=\"/404\" />\n      </Route>\n    </Switch>\n  </UserContextProvider>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/chew\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/chew_logo.7c4b5fba.svg\";","module.exports = __webpack_public_path__ + \"static/media/corner.fc300196.svg\";","module.exports = __webpack_public_path__ + \"static/media/ice_cream_girl.d04fc2e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/triangles.88d99b6d.svg\";","module.exports = __webpack_public_path__ + \"static/media/waves.f9254c6c.svg\";","module.exports = __webpack_public_path__ + \"static/media/reading_girl.12122138.svg\";","module.exports = __webpack_public_path__ + \"static/media/papers.35254578.svg\";"],"sourceRoot":""}