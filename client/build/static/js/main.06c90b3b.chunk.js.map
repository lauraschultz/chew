{"version":3,"sources":["assets/powered_by_google_on_white.png","PlacesAutocomplete.tsx","assets/ice_cream_girl.svg","assets/chew_logo.svg","config.ts","socket.ts","UserDataContext.tsx","useClickOutsideListenerRef.tsx","ListDropdown.tsx","Login.tsx","assets/triangles.svg","FooterLinks.tsx","LoginFooter.tsx","Templates/LoginTemplate.tsx","VotingIcons.tsx","assets/corner.svg","Vote.tsx","DisplayItem.tsx","Display.tsx","CopySessionUrl.tsx","assets/waves.svg","AppFooter.tsx","ModalContainer.tsx","Filters.tsx","AddRestaurantButton.tsx","SearchAutocomplete.tsx","Search.tsx","ModalWelcomeHeader.tsx","ShareSessionModal.tsx","Toast.tsx","UserNameModal.tsx","Templates/AppTemplate.tsx","assets/reading_girl.svg","404.tsx","assets/papers.svg","TOS.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["autoComplete","SERVER","socket","search","sessionId","searchTerm","openHours","priceRange","services","Promise","resolve","reject","axios","get","then","result","data","setUserName","userId","userName","post","catch","console","log","addVote","restaurantId","voteNum","addRestaurant","removeRestaurant","autocomplete","emit","callback","title","JSON","stringify","newSession","tryJoinSession","subscribeToVoteAdded","on","unSubscribeToVoteAdded","off","subscribeToRestaurantAdded","unSubscribeToRestaurantAdded","subscribeToRestaurantRemoved","unSubscribeToRestaurantRemoved","this","io","connect","UserContext","React","createContext","Provider","Consumer","UserContextProvider","children","useState","setSessionId","setUserId","userState","setUserState","location","setLocation","previousVotes","setPreviousVotes","creator","setCreator","userIdHash","setUserIdHash","history","useHistory","appLoc","useLocation","useEffect","sUserId","localStorage","getItem","setItem","md5","match","matchPath","pathname","path","params","value","createSession","e","loc","preventDefault","response","name","hashId","push","window","replaceState","fromLogin","useClickOutsideListenerRef","onClose","ref","useRef","escapeListener","useCallback","key","clickListener","current","contains","target","document","addEventListener","removeEventListener","ListDropdown","items","updateSelection","last","show","setShow","hoveredIdx","setHoveredIdx","keyPressEvent","val","length","className","map","i","idx","onMouseOver","onClick","PlacesAutocomplete","selectPlace","currentSearchTerm","currentSearchResults","setCurrentSearchResults","scriptLoaded","selectedText","url","script","createElement","type","onload","head","appendChild","src","loadScript","google","maps","places","AutocompleteService","getPlacePredictions","input","types","status","r","description","poweredByGoogle","require","alt","Login","Logo","context","onSubmit","icon","faUser","onChange","required","faMapMarkerAlt","place","faInfoCircle","size","faPizzaSlice","IceCreamGirl","FooterLinks","faCopyright","href","rel","faStar","to","faFileSignature","LoginFooter","Triangles","LoginTemplate","icons","faGrinStars","color","borderColor","descText","faSmile","faMeh","faFrown","Vote","currentVote","useContext","aria-label","data-balloon-pos","Corner","HoursTable","hours","days","d","day","hourStr","Array","open","forEach","h","start","end","formatAsTime","join","time","slice","openMsg","padZeros","n","today","Date","dayOfWeek","getDay","timeString","getHours","getMinutes","diff","filter","t","undefined","currentDiff","DisplayItem","restaurant","vote","expanded","setExpanded","business","id","prev","faCircle","faChevronCircleUp","faChevronCircleDown","addedBy","faTrash","price","split","_","faDollarSign","categories","c","faClock","votes","v","faMapPin","display_address","line","transactions","faCheck","faExternalLinkAlt","Display","voteOnRestaurant","addedRestaurants","Object","keys","values","old","CopySessionUrl","inputThemes","buttonThemes","buttonShadowColor","copyTextRef","copied","setCopied","readOnly","style","boxShadow","select","execCommand","faClipboard","AppFooter","Waves","ModalContainer","shadow","formReducer","prevState","update","stateUpdates","newVal","openDate","openNow","prices","Filters","updateSearchFormState","searchFormFilterState","showFilters","setShowFilters","useReducer","pickup","delivery","restaurant_reservation","state","dispatch","Math","abs","fill","arr","min","entries","priceArray","a","b","repeat","faSlidersH","includes","stops","checked","faExclamationCircle","AddRestaurantButton","isRestaurantsAdded","businessId","adding","setAdding","faCircleNotch","faPlus","SearchAutocomplete","searchInput","selectItem","searchResults","setSearchResults","currentSearch","results","selectedItem","DisplaySearchResults","businesses","isAdded","Search","userHashId","searchFormState","setSearchTerm","setBusinesses","loadingSearch","setLoadingSearch","filterResults","setFilterResults","updateFilter","data-balloon-length","faSearch","ModalWelcomeHeader","escape","faTimes","ShareSessionModal","Toast","UserNameModal","currentUserName","setCurrentUserName","AppTemplate","setAddedRestaurants","loaded","setLoaded","showVotingToast","setShowVotingToast","showShareSessionModal","setShowShareSessionModal","setSearchFormState","newRestaurant","clone","assign","updatedRestaurants","s","display","success","previouslyAuthenticated","restaurants","faBinoculars","faDoorOpen","exact","activeClassName","faUtensils","query","render","FourOhFour","faHome","ReadingGirl","TOS","Papers","App","Boolean","hostname","ReactDOM","StrictMode","basename","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.06c90b3b.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { googleCloudApiKey } from \"./config\";\nimport ListDropdown from \"./ListDropdown\";\n\nlet autoComplete: google.maps.places.AutocompleteService;\n\nconst loadScript = (\n\turl: string,\n\tcallback: (this: GlobalEventHandlers, ev: Event) => any\n) => {\n\tlet script = document.createElement(\"script\");\n\tscript.type = \"text/javascript\";\n\tscript.onload = callback;\n\tdocument.head.appendChild(script);\n\tscript.src = url;\n};\n\nconst PlacesAutocomplete: React.FC<{\n\tsearchTerm: string;\n\tselectPlace: (pl: string) => void;\n}> = ({ searchTerm, selectPlace }) => {\n\tlet currentSearchTerm = useRef(\"\");\n\tlet [currentSearchResults, setCurrentSearchResults] = useState<string[]>([]);\n\tlet scriptLoaded = useRef(false);\n\tlet selectedText = useRef<string>();\n\n\tconst handleScriptLoad = () => {\n\t\tautoComplete = new window.google.maps.places.AutocompleteService();\n\t\tscriptLoaded.current = true;\n\t};\n\n\tuseEffect(() => {\n\t\tloadScript(\n\t\t\t`https://maps.googleapis.com/maps/api/js?key=${googleCloudApiKey}&libraries=places`,\n\t\t\t() => handleScriptLoad()\n\t\t);\n\t}, []);\n\n\t// if(Math.abs(searchTerm.length - currentSearchTerm.length)<2){\n\t//     setCurrentSearchTerm(searchTerm);\n\t// }\n\n\tuseEffect(() => {\n\t\tif (\n\t\t\tscriptLoaded &&\n\t\t\tsearchTerm &&\n\t\t\tsearchTerm !== currentSearchTerm.current\n\t\t\t// Math.abs(searchTerm.length - currentSearchTerm.current.length) > 1\n\t\t) {\n\t\t\tcurrentSearchTerm.current = searchTerm;\n\t\t\tautoComplete.getPlacePredictions(\n\t\t\t\t{ input: searchTerm, types: [\"(regions)\"] },\n\t\t\t\t(result, status) => {\n\t\t\t\t\tconsole.log(\"search results\");\n\t\t\t\t\tsetCurrentSearchResults(result.map((r) => r.description) || []);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\t// selectedText.current = undefined;\n\t}, [searchTerm]);\n\n\t// const select = (selectedItem: string) => {\n\t// \tselectedText.current = selectedItem;\n\t// \tselectPlace(selectedItem);\n\t// \t// setCurrentSearchResults([])\n\t// };\n\n\t// if (selectedText.current === searchTerm) {\n\t// \treturn <ul ref={ref} />;\n\t// }\n\n\tconst updateSelection = useCallback(\n\t\t(search: string) => {\n\t\t\tselectPlace(search);\n\t\t\tselectedText.current = search;\n\t\t\tconsole.log(`selectedText.current is ${selectedText.current}`);\n\t\t},\n\t\t[selectPlace]\n\t);\n\n\tconst poweredByGoogle = require(\"./assets/powered_by_google_on_white.png\");\n\tif (selectedText.current === searchTerm) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<ListDropdown\n\t\t\titems={currentSearchResults}\n\t\t\tupdateSelection={updateSelection}\n\t\t\tlast={\n\t\t\t\t<img\n\t\t\t\t\tsrc={poweredByGoogle}\n\t\t\t\t\talt=\"powered by Google\"\n\t\t\t\t\tclassName=\"float-right px-2 py-1 w-38\"\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default PlacesAutocomplete;\n","export default __webpack_public_path__ + \"static/media/ice_cream_girl.d05f0f17.svg\";","export default __webpack_public_path__ + \"static/media/chew_logo.b2611f50.svg\";","export const googleCloudApiKey = \"AIzaSyAwYvFJPPLX35upT8qE-c9GILuhkE0vAAc\";\nexport const SERVER = \"https://chewapp.herokuapp.com\"; //\"http://localhost:4000\"; //\n","import io from \"socket.io-client\";\nimport {\n\tNewSessionData,\n\tNewSessionCallback,\n\tTryJoinSessionData,\n\tTryJoinSessionCallback,\n\tBusiness,\n} from \"../../shared/types\";\nimport axios from \"axios\";\nimport { SERVER } from \"./config\";\n\nexport class Socket {\n\tsocket: SocketIOClient.Socket;\n\n\tconstructor() {\n\t\tthis.socket = io.connect(SERVER);\n\t}\n\n\tsearch = (\n\t\tsessionId: string,\n\t\tsearchTerm: string,\n\t\topenHours: string,\n\t\tpriceRange: string,\n\t\tservices: string\n\t): Promise<Business[]> =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\taxios\n\t\t\t\t.get(\n\t\t\t\t\t`${SERVER}/search/${sessionId}/${searchTerm}/${openHours}/${priceRange}/${services}`\n\t\t\t\t)\n\t\t\t\t.then((result) => resolve(result.data))\n\t\t);\n\n\tsetUserName = (\n\t\tsessionId: string,\n\t\tuserId: string,\n\t\tuserName: string\n\t): Promise<boolean> =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\taxios\n\t\t\t\t.post(`${SERVER}/setUserName/${sessionId}/${userId}/${userName}`)\n\t\t\t\t.then((result) => resolve(result.data))\n\t\t\t\t.catch(() => console.log(`error`))\n\t\t);\n\n\taddVote = (\n\t\tsessionId: string,\n\t\tuserId: string,\n\t\trestaurantId: string,\n\t\tvoteNum: number\n\t): Promise<boolean> =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\taxios\n\t\t\t\t.post(\n\t\t\t\t\t`${SERVER}/addVote/${sessionId}/${userId}/${restaurantId}/${voteNum}`\n\t\t\t\t)\n\t\t\t\t.then((result) => resolve(result.data))\n\t\t);\n\n\taddRestaurant = (\n\t\tsessionId: string,\n\t\tuserId: string,\n\t\trestaurantId: string\n\t): Promise<boolean> =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\taxios\n\t\t\t\t.post(`${SERVER}/addRestaurant/${sessionId}/${userId}/${restaurantId}`)\n\t\t\t\t.then((result) => resolve(result.data))\n\t\t);\n\n\tremoveRestaurant = (\n\t\tsessionId: string,\n\t\tuserId: string,\n\t\trestaurantId: string\n\t): Promise<boolean> =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\taxios\n\t\t\t\t.post(\n\t\t\t\t\t`${SERVER}/removeRestaurant/${sessionId}/${userId}/${restaurantId}`\n\t\t\t\t)\n\t\t\t\t.then((result) => resolve(result.data))\n\t\t);\n\n\tautocomplete = (sessionId: string, searchTerm: string): Promise<string[]> => {\n\t\treturn new Promise((resolve, reject) =>\n\t\t\taxios\n\t\t\t\t.get(`${SERVER}/autocomplete/${sessionId}/${searchTerm}`)\n\t\t\t\t.then((result) => resolve(result.data))\n\t\t);\n\t};\n\n\temit = (data: any, callback: (p: any) => void, title: string) => {\n\t\tconsole.log(`socket emitting ${title} with data ${JSON.stringify(data)}`);\n\t\tthis.socket.emit(title, data, callback);\n\t};\n\n\tnewSession: (data: NewSessionData, callback: NewSessionCallback) => void = (\n\t\tdata,\n\t\tcallback\n\t) => {\n\t\tthis.emit(data, callback, \"newSession\");\n\t};\n\n\ttryJoinSession: (\n\t\tdata: TryJoinSessionData,\n\t\tcallback: TryJoinSessionCallback\n\t) => void = (data, callback) => {\n\t\tthis.emit(data, callback, \"tryJoinSession\");\n\t};\n\n\tsubscribeToVoteAdded = (callback: Function) => {\n\t\tthis.socket.on(\"addedVote\", callback);\n\t};\n\n\tunSubscribeToVoteAdded = () => {\n\t\tthis.socket.off(\"addedVote\");\n\t};\n\n\tsubscribeToRestaurantAdded = (callback: Function) => {\n\t\tthis.socket.on(\"addedRestaurant\", callback);\n\t};\n\n\tunSubscribeToRestaurantAdded = () => {\n\t\tthis.socket.off(\"addedRestaurant\");\n\t};\n\n\tsubscribeToRestaurantRemoved = (callback: Function) => {\n\t\tthis.socket.on(\"removedRestaurant\", callback);\n\t};\n\n\tunSubscribeToRestaurantRemoved = () => {\n\t\tthis.socket.off(\"removedRestaurant\");\n\t};\n}\n\nlet socket = new Socket();\nexport default socket;\n","import React, { FormEvent, useEffect, useState } from \"react\";\nimport { matchPath, useHistory, useLocation } from \"react-router-dom\";\nimport socket from \"./socket\";\nimport md5 from \"blueimp-md5\";\n\nexport const UserContext = React.createContext<any>({});\nconst { Provider, Consumer } = UserContext;\n\nexport const UserContextProvider: React.FC = ({ children }) => {\n\tlet [sessionId, setSessionId] = useState(\"\");\n\tlet [userId, setUserId] = useState<string>();\n\tlet [userState, setUserState] = useState(\"\");\n\tlet [location, setLocation] = useState(\"\");\n\tlet [previousVotes, setPreviousVotes] = useState<{\n\t\t[restaurantId: string]: number;\n\t}>({});\n\tlet [creator, setCreator] = useState<{ name: string; hashId: string }>();\n\tlet [userIdHash, setUserIdHash] = useState(\"\");\n\tlet history = useHistory();\n\n\tlet appLoc = useLocation();\n\n\tuseEffect(() => {\n\t\tconst sUserId = localStorage.getItem(\"chewUserId\");\n\t\tif (sUserId) {\n\t\t\tsetUserId(sUserId);\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (userId) {\n\t\t\tconsole.log(`setting localStorage`);\n\t\t\tlocalStorage.setItem(\"chewUserId\", userId);\n\t\t\tsetUserIdHash(md5(userId));\n\t\t}\n\t}, [userId]);\n\n\tuseEffect(() => {\n\t\tconst match = matchPath<{ sessionId: string }>(appLoc.pathname, {\n\t\t\tpath: \"/ID/:sessionId\",\n\t\t});\n\t\tif (match) {\n\t\t\tsetSessionId(match.params.sessionId);\n\t\t}\n\t}, [location, appLoc.pathname]);\n\n\tlet createSession = (e: FormEvent, userName: string, loc: string) => {\n\t\te.preventDefault();\n\t\tsetLocation(loc);\n\t\tsocket.newSession({ userName, location: loc, userId }, (response) => {\n\t\t\tsetSessionId(response.sessionId || \"\");\n\t\t\tsetCreator({ name: userName, hashId: md5(response.userId || \"\") });\n\t\t\tsetUserId(response.userId);\n\t\t\tsetUserState(\"canVote\");\n\t\t\thistory.push(`/ID/${response.sessionId}`);\n\t\t\t// history.\n\t\t\twindow.history.replaceState({ fromLogin: true }, \"\");\n\t\t\t// console.log(`window.history.state: ${JSON.stringify(window.history.state)}`)\n\t\t});\n\t\t// history.push(\"/home\");\n\t\t// setSessionId(sessId)\n\t};\n\treturn (\n\t\t<Provider\n\t\t\tvalue={{\n\t\t\t\tsessionId,\n\t\t\t\tsetSessionId,\n\t\t\t\tuserId,\n\t\t\t\tuserIdHash,\n\t\t\t\tsetUserId,\n\t\t\t\tuserState,\n\t\t\t\tsetUserState,\n\t\t\t\tcreateSession,\n\t\t\t\tlocation,\n\t\t\t\tsetLocation,\n\t\t\t\tcreator,\n\t\t\t\tsetCreator,\n\t\t\t\tpreviousVotes,\n\t\t\t\tsetPreviousVotes,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</Provider>\n\t);\n};\n\nexport { Consumer as UserContextConsumer };\n","import { useCallback, useEffect, useRef } from 'react'\n\nexport const useClickOutsideListenerRef = (onClose: () => void) => {\n  const ref = useRef(null)\n  const escapeListener = useCallback((e: KeyboardEvent) => {\n    if (e.key === 'Escape') {\n      onClose()\n    }\n  }, [onClose])\n  const clickListener = useCallback(\n    (e: MouseEvent) => {\n      if (!(ref.current! as any).contains(e.target)) {\n        onClose?.()\n      }\n    },\n    [onClose],\n  )\n  useEffect(() => {\n    document.addEventListener('click', clickListener)\n    document.addEventListener('keyup', escapeListener)\n    return () => {\n      document.removeEventListener('click', clickListener)\n      document.removeEventListener('keyup', escapeListener)\n    }\n  }, [clickListener, escapeListener])\n  return ref\n}","import React, { ReactFragment, useEffect, useState } from \"react\";\nimport { useClickOutsideListenerRef } from \"./useClickOutsideListenerRef\";\n\nconst ListDropdown: React.FC<{\n\titems: string[];\n\tupdateSelection: (s: string) => void;\n\tlast?: ReactFragment;\n}> = ({ items, updateSelection, last }) => {\n\tlet [show, setShow] = useState(true);\n\tlet [hoveredIdx, setHoveredIdx] = useState(-1);\n\tlet ref = useClickOutsideListenerRef(() => setShow(false));\n\n\tuseEffect(() => setShow(true), [items]);\n\tconst keyPressEvent = (e: KeyboardEvent) => {\n\t\tswitch (e.key) {\n\t\t\tcase \"ArrowDown\":\n\t\t\t\tsetHoveredIdx((val) => (val + 1) % items.length);\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowUp\":\n\t\t\t\tsetHoveredIdx(\n\t\t\t\t\t(val) => (((val - 1) % items.length) + items.length) % items.length\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase \"Escape\":\n\t\t\t\tsetHoveredIdx(-1);\n\t\t\t\tbreak;\n\t\t\tcase \"Enter\":\n\t\t\t\tif (hoveredIdx > -1 && items.length > 0) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tupdateSelection(items[hoveredIdx]);\n\t\t\t\t\tsetShow(false);\n\t\t\t\t\tsetHoveredIdx(-1);\n\t\t\t\t}\n\t\t}\n\t};\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"keydown\", keyPressEvent);\n\n\t\treturn () => window.removeEventListener(\"keydown\", keyPressEvent);\n\t});\n\n\tif (show) {\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tref={ref}\n\t\t\t\tclassName=\"absolute bg-white z-40 divide-y shadow text-sm rounded-b overflow-hidden\"\n\t\t\t>\n\t\t\t\t{items.map((i, idx) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\tonMouseOver={(e) => setHoveredIdx(idx)}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\"px-2 py-1 cursor-pointer \" +\n\t\t\t\t\t\t\t(hoveredIdx === idx ? \"bg-theme-blue-l-2 text-white\" : \"\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tupdateSelection(i);\n\t\t\t\t\t\t\tsetShow(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i}\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t\t{items.length > 0 && last && <li>{last}</li>}\n\t\t\t</ul>\n\t\t);\n\t}\n\treturn <ul ref={ref} className=\"hidden\" />;\n};\nexport default ListDropdown;\n","import React, { useState } from \"react\";\nimport IceCreamGirl from \"./assets/ice_cream_girl.svg\";\nimport Logo from \"./assets/chew_logo.svg\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n\tfaInfoCircle,\n\tfaMapMarkerAlt,\n\tfaPizzaSlice,\n\tfaUser,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { UserContextConsumer } from \"./UserDataContext\";\nimport PlacesAutocomplete from \"./PlacesAutocomplete\";\n\nconst Login: React.FC = () => {\n\tlet [userName, setUserName] = useState(\"\"),\n\t\t[location, setLocation] = useState(\"\");\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex-1 py-2 px-4 md:px-6 bg-theme-red text-gray-200 sm:rounded-lg sm:shadow-lg sm:max-w-lg md:m-2 lg:mr-6\">\n\t\t\t\t<img className=\"w-40\" src={Logo} alt=\"chew logo\" />\n\t\t\t\t<p className=\"font-display sm:text-lg leading-tight py-1\">\n\t\t\t\t\tChew is the easiest way to pick a restaurant with your friends and\n\t\t\t\t\tfamily. Simply create a session, share the link, and everyone can add\n\t\t\t\t\trestaurants that they're interested in and vote on each other's\n\t\t\t\t\tselections.\n\t\t\t\t</p>\n\t\t\t\t<UserContextConsumer>\n\t\t\t\t\t{(context) => (\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tonSubmit={(e) => context.createSession(e, userName, location)}\n\t\t\t\t\t\t\tclassName=\"p-3 bg-gray-100 text-gray-600 rounded my-4 mx-1 sm:mx-4 lg:mx-6 shadow\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h2 className=\"font-bold font-display text-xl text-gray-700 italic\">\n\t\t\t\t\t\t\t\tCreate a new session:\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<label className=\"block my-2 mx-3\">\n\t\t\t\t\t\t\t\t<span className=\"uppercase font-bold text-sm\">Your name:</span>\n\t\t\t\t\t\t\t\t<div className=\"py-1 px-2 rounded border border-gray-300 bg-white focus-within:border-theme-blue-l-2 w-max-content\">\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faUser} className=\"mr-2\" />\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclassName=\"px-2 focus:outline-none border-l\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={userName}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setUserName(e.target.value)}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label className=\"block my-2 mx-3\">\n\t\t\t\t\t\t\t\t<span className=\"uppercase font-bold text-sm\">Location:</span>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\"py-1 px-2 rounded border border-gray-300 bg-white focus-within:border-theme-blue-l-2 w-max-content \"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faMapMarkerAlt} className=\"mr-2\" />\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclassName=\"px-2 focus:outline-none border-l\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={location}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setLocation(e.target.value)}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<PlacesAutocomplete\n\t\t\t\t\t\t\t\t\tsearchTerm={location}\n\t\t\t\t\t\t\t\t\tselectPlace={(place) => setLocation(place)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"text-gray-500 italic text-sm leading-none my-2 ml-4 flex items-center\">\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faInfoCircle}\n\t\t\t\t\t\t\t\t\tclassName=\"pr-2 flex-none\"\n\t\t\t\t\t\t\t\t\tsize=\"2x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<p className=\"flex-initial\">\n\t\t\t\t\t\t\t\t\tResults returned will not be strictly within this area, it\n\t\t\t\t\t\t\t\t\tserves as a starting point for your search.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"relative overflow-hidden group text-white\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tclassName=\"block w-full p-2 uppercase font-bold tracking-wide bg-theme-yellow hover:bg-theme-dark-yellow rounded shadow btn-focus\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tcreate\n\t\t\t\t\t\t\t\t</button>{\" \"}\n\t\t\t\t\t\t\t\t{/* LEFT SIDE */}\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute left-0 top-0 group-hover:mt-10 group-hover:ml-12 -mt-16 ml-2 opacity-75 transition-spacing duration-500 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"4x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute left-0 top-0 group-hover:-mt-12 group-hover:ml-24 mt-12 ml-0 opacity-75 transition-spacing duration-300 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"3x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/* RIGHT SIDE */}\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute right-0 top-0 group-hover:mt-10 group-hover:mr-24 -mt-20 mr-16 opacity-75 transition-spacing duration-500 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"4x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute right-0 top-0 group-hover:-mt-12 group-hover:mr-2 mt-16 mr-12 opacity-75 transition-spacing duration-300 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"3x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faPizzaSlice}\n\t\t\t\t\t\t\t\t\tclassName=\"absolute right-0 top-0 group-hover:-mt-12 group-hover:mr-20 mt-16 mr-0 opacity-75 transition-spacing duration-300 ease-linear pointer-events-none\"\n\t\t\t\t\t\t\t\t\tsize=\"3x\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t)}\n\t\t\t\t</UserContextConsumer>\n\t\t\t\t<div className=\"p-4 border-l-8 border-gray-200 bg-white bg-opacity-25 m-2 md:my-4 md:mx-8 rounded shadow leading-tight\">\n\t\t\t\t\tIf you are trying to join someone else's session, copy and paste the\n\t\t\t\t\tsession link to your browser.\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* <div> */}\n\t\t\t<img\n\t\t\t\tclassName=\"flex-1 hidden md:inline max-w-lg\"\n\t\t\t\tsrc={IceCreamGirl}\n\t\t\t\talt=\"girl holding a giant ice cream cone\"\n\t\t\t/>\n\t\t\t{/* </div> */}\n\t\t</>\n\t);\n};\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/triangles.de4adca4.svg\";","import {\n  faCopyright,\n  faStar,\n  faFileSignature,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst FooterLinks: React.FC = () => (\n  <>\n    <p>\n      <FontAwesomeIcon icon={faCopyright} size=\"sm\" className=\"mr-2\" />\n      <a\n        href=\"http://lauraschultz.dev\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Laura Schultz\n      </a>{\" \"}\n      2020\n    </p>\n    <a\n      className=\"block\"\n      href=\"http://github.com/lauraschultz/chew\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      <FontAwesomeIcon icon={faStar} size=\"sm\" className=\"mr-2\" />\n      star on Github\n    </a>\n    <Link to=\"/TOS\">\n      <FontAwesomeIcon icon={faFileSignature} size=\"sm\" className=\"mr-2\" />\n      terms of use & privacy policy\n    </Link>\n  </>\n);\n\nexport default FooterLinks;","import React from \"react\";\nimport Triangles from \"./assets/triangles.svg\";\nimport FooterLinks from \"./FooterLinks\";\nimport Logo from \"./assets/chew_logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nconst LoginFooter: React.FC = () => (\n\t<footer className=\"w-full\">\n\t\t<img\n\t\t\tsrc={Triangles}\n\t\t\talt=\"decorative footer border\"\n\t\t\tclassName=\"hidden sm:block\"\n\t\t/>\n\t\t<div className=\"bg-theme-dark-gray text-white p-2 md:px-8 md:py-4 lg:px-24 block sm:flex justify-around leading-tight items-center\">\n\t\t\t<Link to=\"/getStarted\">\n\t\t\t\t<img\n\t\t\t\t\tclassName=\"hidden sm:block flex-initial w-32\"\n\t\t\t\t\tsrc={Logo}\n\t\t\t\t\talt=\"chew logo\"\n\t\t\t\t/>\n\t\t\t</Link>\n\t\t\t<div className=\"flex-initial\">\n\t\t\t\t<FooterLinks />\n\t\t\t</div>\n\t\t</div>\n\t</footer>\n);\n\nexport default LoginFooter;\n","import React from \"react\";\nimport LoginFooter from \"../LoginFooter\";\n\nconst LoginTemplate: React.FC = ({ children }) => {\n\treturn (\n\t\t<>\n\t\t\t<main className=\"flex-grow flex justify-center w-screen items-stretch sm:items-center\">\n\t\t\t\t{children}\n\t\t\t</main>\n\t\t\t<LoginFooter />\n\t\t</>\n\t);\n};\n\nexport default LoginTemplate;\n","import {\n  faSmile,\n  faMeh,\n  faFrown,\n  faGrinStars,\n} from \"@fortawesome/free-solid-svg-icons\";\nexport const icons = [\n  { icon: faGrinStars, color: \"text-theme-blue\", borderColor:\"border-theme-blue\", descText: \"I love it!\" },\n  { icon: faSmile, color: \"text-theme-blue-l-1\", borderColor:\"border-theme-blue-l-1\", descText: \"I like it\" },\n  { icon: faMeh, color: \"text-theme-blue-l-2\", borderColor:\"border-theme-blue-l-2\", descText: \"Meh.\" },\n  { icon: faFrown, color: \"text-theme-blue-l-3\", borderColor:\"border-theme-blue-l-3\", descText: \"I don't like it\" },\n];\n","export default __webpack_public_path__ + \"static/media/corner.50f00bff.svg\";","import React, { useContext } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { icons } from \"./VotingIcons\";\nimport { UserContext } from \"./UserDataContext\";\nimport Corner from \"./assets/corner.svg\";\n\nconst Vote: React.FC<{\n  addVote: Function;\n  currentVote: number | undefined;\n}> = ({ addVote, currentVote }) => {\n  const { userState } = useContext(UserContext);\n  if (userState === \"canView\") {\n    return null;\n  }\n  return (\n    <form\n      className=\"flex items-center justify-center\"\n      onSubmit={(e) => e.preventDefault()}\n    >\n      <span className=\"text-theme-dark-gray tracking-wide font-bold italic uppercase mr-2\">\n        vote:\n      </span>\n      {icons.map((i, idx) => (\n        <button\n          key={idx}\n          className=\"p-xs m-xs btn-focus rounded-full\"\n          // className={\"fa-layers fa-fw fa-2x m-1\"}\n          onClick={() => addVote(idx)}\n          aria-label={i.descText}\n          data-balloon-pos=\"down\"\n        >\n          <div className=\"leading-none bg-white rounded-full\">\n            <FontAwesomeIcon className={i.color} icon={i.icon} size=\"2x\" />\n          </div>\n          <div className={currentVote === idx ? \"\" : \"hidden\"}>\n            <img src={Corner} className=\"absolute top-0 left-0\" alt=\"\" />\n            <img\n              src={Corner}\n              className=\"absolute top-0 right-0 transform rotate-90\"\n              alt=\"\"\n            />\n            <img\n              src={Corner}\n              className=\"absolute bottom-0 right-0 transform rotate-180\"\n              alt=\"\"\n            />\n            <img\n              src={Corner}\n              className=\"absolute bottom-0 left-0 transform -rotate-90\"\n              alt=\"\"\n            />\n          </div>\n\n          {/* <FontAwesomeIcon\n            className=\"text-white\"\n              icon={faCircle}\n              // size=\"2x\"\n            /> */}\n        </button>\n      ))}\n    </form>\n  );\n};\n\nexport default Vote;\n","import {\n\tfaCircle,\n\tfaChevronCircleUp,\n\tfaChevronCircleDown,\n\tfaDollarSign,\n\tfaClock,\n\tfaMapPin,\n\tfaCheck,\n\tfaExternalLinkAlt,\n\tfaTrash,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { ReactNode, useState } from \"react\";\nimport { icons } from \"./VotingIcons\";\nimport { BusinessWithVotes, Hours } from \"../../shared/types\";\nimport socket from \"./socket\";\n\nexport const DisplayItem: React.FC<{\n\trestaurant: BusinessWithVotes;\n\taddRestaurant?: ReactNode;\n\tvote?: ReactNode;\n\tuserIdHash?: string;\n\tuserId?: string;\n\tsessionId?: string;\n}> = ({ restaurant, addRestaurant, vote, userIdHash, userId, sessionId }) => {\n\tlet [expanded, setExpanded] = useState(false);\n\t// let {userState} = useContext(UserContext);\n\treturn (\n\t\t<div\n\t\t\tkey={restaurant.business.id}\n\t\t\tclassName=\"relative p-1 lg:p-2 my-1 max-w-md mx-auto flex\"\n\t\t>\n\t\t\t<button\n\t\t\t\tclassName=\"fa-layers fa-fw fa-2x absolute m-2 right-0 btn-focus rounded-full\"\n\t\t\t\tonClick={() => setExpanded((prev) => !prev)}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon className=\" text-white\" icon={faCircle} />\n\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\tclassName=\" text-theme-yellow\"\n\t\t\t\t\ticon={expanded ? faChevronCircleUp : faChevronCircleDown}\n\t\t\t\t/>\n\t\t\t</button>\n\n\t\t\t<div className=\"flex-initial\">{addRestaurant}</div>\n\n\t\t\t<div className=\"flex-1\">\n\t\t\t\t{restaurant.addedBy && (\n\t\t\t\t\t<div className=\"text-xs uppercase tracking-wide text-theme-med-gray mb-xs\">\n\t\t\t\t\t\tAdded by{\" \"}\n\t\t\t\t\t\t{userIdHash === restaurant.addedBy.hashId\n\t\t\t\t\t\t\t? \"You\"\n\t\t\t\t\t\t\t: restaurant.addedBy.name}\n\t\t\t\t\t\t{userIdHash === restaurant.addedBy.hashId && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tsocket.removeRestaurant(\n\t\t\t\t\t\t\t\t\t\tsessionId || \"\",\n\t\t\t\t\t\t\t\t\t\tuserId || \"\",\n\t\t\t\t\t\t\t\t\t\trestaurant.business.id\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"mx-1 px-2 border border-theme-extra-light-gray rounded hover:bg-theme-red hover:text-white hover:border-theme-red hover:shadow btn-focus transition-all duration-200\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTrash} className=\"mr-1\" />\n\t\t\t\t\t\t\t\tremove\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<h2 className=\"leading-tight font-display italic font-bold text-xl text-theme-dark-gray mr-8\">\n\t\t\t\t\t{restaurant.business.name}\n\t\t\t\t\t{restaurant.business.price && (\n\t\t\t\t\t\t<span className=\"ml-2 px-1 pt-1 rounded bg-theme-light-gray text-white text-sm whitespace-no-wrap\">\n\t\t\t\t\t\t\t{restaurant.business.price.split(\"\").map((_, i) => (\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faDollarSign} key={i} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</h2>\n\t\t\t\t<div className=\"pl-3\">\n\t\t\t\t\t<div className=\"text-theme-light-gray font-display leading-none mr-8\">\n\t\t\t\t\t\t{restaurant.business.categories.map((c) => c.title).join(\", \")}\n\t\t\t\t\t</div>\n\t\t\t\t\t{restaurant.business.hours && restaurant.business.hours[0] && (\n\t\t\t\t\t\t<div className=\"text-theme-light-gray uppercase font-bold tracking-wide text-sm leading-none\">\n\t\t\t\t\t\t\t<FontAwesomeIcon icon={faClock} className=\"mr-1\" />\n\t\t\t\t\t\t\t{openMsg(restaurant.business.hours[0])}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{restaurant.votes.length > 0 && (\n\t\t\t\t\t\t<div className=\"my-1\">\n\t\t\t\t\t\t\t{restaurant.votes.map((v, idx) =>\n\t\t\t\t\t\t\t\tv ? (\n\t\t\t\t\t\t\t\t\t<span className=\"m-1 border-theme-dark-gray rounded-sm border bg-white bg-opacity-50 shadow\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-theme-dark-gray text-white px-1\">\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={icons[idx].icon} />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"px-2 text-theme-dark-gray\">{v}</span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{!addRestaurant ? vote : null}\n\t\t\t\t\t{expanded && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{addRestaurant ? vote : null}\n\n\t\t\t\t\t\t\t<div className=\"flex justify-around mt-2\">\n\t\t\t\t\t\t\t\t<div className=\"flex-shrink-0\">\n\t\t\t\t\t\t\t\t\t<HoursTable hours={restaurant.business.hours} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex-initial\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\t\t\ticon={faMapPin}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-none mt-1 mr-2\"\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-initial\">\n\t\t\t\t\t\t\t\t\t\t\t{restaurant.business.location.display_address.map(\n\t\t\t\t\t\t\t\t\t\t\t\t(line) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{line}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{restaurant.business.transactions &&\n\t\t\t\t\t\t\t\t\t\trestaurant.business.transactions.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"uppercase tracking-wide font-bold text-theme-med-gray text-sm font-light\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tServices offered:\n\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\n\t\t\t\t\t\t\t\t\t\t\t\t{restaurant.business.transactions.map((t) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={faCheck}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2 text-green-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName=\"block text-center rounded w-full py-1 px-3 bg-theme-red text-white font-bold italic mt-3\"\n\t\t\t\t\t\t\t\t\t\thref={restaurant.business.url}\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tmore info\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\t\t\ticon={faExternalLinkAlt}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst HoursTable: React.FC<{ hours: [Hours] | undefined }> = ({ hours }) => {\n\tif (!hours || !hours[0]) {\n\t\treturn (\n\t\t\t<div className=\"text-theme-light-gray py-2 px-4 rounded my-3 border border-theme-light-gray italic text-sm\">\n\t\t\t\tNo hours available.\n\t\t\t</div>\n\t\t);\n\t}\n\tlet days = [\n\t\t\"Mon\",\n\t\t\"Tues\",\n\t\t\"Weds\",\n\t\t\"Thurs\",\n\t\t\"Fri\",\n\t\t\"Sat\",\n\t\t\"Sun\",\n\t].map((d: string) => ({ day: d, hourStr: new Array<string>() }));\n\tlet dateify = (start: string, end: string): string =>\n\t\t`${formatAsTime(start)} - ${formatAsTime(end)}`;\n\thours[0].open.forEach((h) =>\n\t\tdays[h.day].hourStr.push(dateify(h.start, h.end))\n\t);\n\treturn (\n\t\t<table>\n\t\t\t<tbody>\n\t\t\t\t{days.map((day) => (\n\t\t\t\t\t<tr key={day.day}>\n\t\t\t\t\t\t<th className=\"text-left py-0 align-top\">{day.day}</th>\n\t\t\t\t\t\t<td className=\"py-0 pl-3 whitespace-pre\">\n\t\t\t\t\t\t\t{day.hourStr.length > 0 ? (\n\t\t\t\t\t\t\t\tday.hourStr.join(\",\\n\")\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span className=\"italic text-theme-light-gray\">Closed</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t))}\n\t\t\t</tbody>\n\t\t</table>\n\t);\n};\n\nconst formatAsTime = (time: string): string =>\n\t`${time.slice(0, 2)}:${time.slice(2)}`;\n\nconst openMsg = (hours: Hours): string => {\n\tconst padZeros = (n: number) => (\"00\" + n).slice(-2);\n\tconst today = new Date();\n\tconst dayOfWeek = (((today.getDay() - 1) % 6) + 6) % 6;\n\tconst timeString = padZeros(today.getHours()) + padZeros(today.getMinutes());\n\tlet diff = 9999999;\n\tconst days = hours.open.filter((h) => h.day === dayOfWeek);\n\tif (days.length === 0) {\n\t\treturn \"Closed\";\n\t}\n\tlet t: string | undefined = undefined;\n\tfor (let h of days) {\n\t\tif (timeString < h.start) {\n\t\t\t// will open later\n\t\t\tconst currentDiff = +h.start - +timeString;\n\t\t\tif (currentDiff < diff) {\n\t\t\t\tt = formatAsTime(h.start);\n\t\t\t\tdiff = currentDiff;\n\t\t\t}\n\t\t} else if (timeString < h.end) {\n\t\t\t// open now\n\t\t\treturn \"Open now\";\n\t\t}\n\t}\n\tif (t) {\n\t\treturn `Opens at ${t}`;\n\t}\n\treturn \"Closed\";\n};\n\nexport default DisplayItem;\n","import React, { useContext } from \"react\";\nimport { BusinessWithVotes } from \"../../shared/types\";\nimport Vote from \"./Vote\";\nimport DisplayItem from \"./DisplayItem\";\nimport { UserContext } from \"./UserDataContext\";\n// import { matchPath, RouteComponentProps, useParams } from \"react-router-dom\";\n\nconst Display: React.FC<{\n\tvoteOnRestaurant: Function;\n\taddedRestaurants: { [id: string]: BusinessWithVotes };\n\t// previousVotes: {[restaurantId:string]: number}\n}> = ({ voteOnRestaurant, addedRestaurants }) => {\n\tlet {\n\t\tpreviousVotes,\n\t\tsetPreviousVotes,\n\t\tuserIdHash,\n\t\tuserId,\n\t\tsessionId,\n\t} = useContext(UserContext);\n\treturn (\n\t\t<div className=\"divide-y divide-theme-extra-light-gray\">\n\t\t\t<h2 className=\"max-w-md mx-auto text-2xl px-1 text-theme-dark-gray font-display leading-none\">\n\t\t\t\tRestaurants\n\t\t\t</h2>\n\t\t\t{Object.keys(addedRestaurants).length === 0 && (\n\t\t\t\t<div className=\"text-theme-light-gray py-2 px-4 rounded my-3 border border-theme-light-gray italic text-sm mx-auto max-w-md\">\n\t\t\t\t\tNo restaurants have been added\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{Object.values(addedRestaurants).map((r) => (\n\t\t\t\t<DisplayItem\n\t\t\t\t\tkey={r.business.id}\n\t\t\t\t\trestaurant={r}\n\t\t\t\t\tvote={\n\t\t\t\t\t\t<Vote\n\t\t\t\t\t\t\tcurrentVote={previousVotes[r.business.id]}\n\t\t\t\t\t\t\taddVote={(voteNum: number) => {\n\t\t\t\t\t\t\t\tvoteOnRestaurant(r.business.id, voteNum);\n\t\t\t\t\t\t\t\tsetPreviousVotes((old: { [restaurantId: string]: number }) => ({\n\t\t\t\t\t\t\t\t\t...old,\n\t\t\t\t\t\t\t\t\t[r.business.id]: voteNum,\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\tuserIdHash={userIdHash}\n\t\t\t\t\tuserId={userId}\n\t\t\t\t\tsessionId={sessionId}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default Display;\n","import { faClipboard } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useRef, useState } from \"react\";\n\nconst CopySessionUrl: React.FC<{\n\tinputThemes: string;\n\tbuttonThemes: string;\n\tbuttonShadowColor: string;\n}> = ({ inputThemes, buttonThemes, buttonShadowColor }) => {\n\tlet copyTextRef = useRef<HTMLInputElement>(null);\n\tlet [copied, setCopied] = useState(false);\n\n\treturn (\n\t\t<div className=\"w-max-content text-sm\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tref={copyTextRef}\n\t\t\t\treadOnly\n\t\t\t\tclassName={\n\t\t\t\t\t\"border rounded-l py-1 pl-2 w-32 overflow-hidden btn-focus \" +\n\t\t\t\t\tinputThemes\n\t\t\t\t}\n\t\t\t\tvalue={window.location.href}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\taria-label={copied ? \"Copied!\" : \"Copy to clipboard\"}\n\t\t\t\tdata-balloon-pos=\"up\"\n\t\t\t\tclassName={`rounded-r py-1 px-2 border btn-focus ${buttonThemes}`}\n\t\t\t\tstyle={{\n\t\t\t\t\tboxShadow: `${buttonShadowColor} -5px 0 8px`,\n\t\t\t\t}}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\tcopyTextRef.current?.select();\n\t\t\t\t\tdocument.execCommand(\"copy\");\n\t\t\t\t\tsetCopied(true);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon={faClipboard} />\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default CopySessionUrl;\n","export default __webpack_public_path__ + \"static/media/waves.fbbb5cf9.svg\";","import React from \"react\";\nimport CopySessionUrl from \"./CopySessionUrl\";\nimport Waves from \"./assets/waves.svg\";\nimport FooterLinks from \"./FooterLinks\";\n\nconst AppFooter: React.FC = () => (\n  <footer className=\"text-theme-red w-full\">\n    <img src={Waves} alt=\"decorative footer border\"/>\n    <div className=\"bg-theme-red text-white p-2 md:px-8 md:py-4 lg:px-24 block sm:flex justify-around leading-tight\">\n      <div className=\"flex-initial\">\n        <p className=\"mb-1\">Share this session with others:</p>\n        <CopySessionUrl\n          buttonThemes=\"bg-white text-theme-red border-white\"\n          buttonShadowColor=\"#e8505b\"\n          inputThemes=\"border-white bg-theme-red\"\n        />\n      </div>\n      <div className=\"flex-initial\">\n        <FooterLinks />\n      </div>\n\n      {/* <Link to=\"\">show restaurants</Link>\n          <Link to=\"\">show search</Link> */}\n    </div>\n  </footer>\n);\n\nexport default AppFooter;\n","import React from \"react\";\n\nconst ModalContainer: React.FC<{ shadow: boolean }> = ({\n\tshadow,\n\tchildren,\n}) => {\n\treturn (\n\t\t<div className=\"w-screen h-screen fixed bg-gray-800 bg-opacity-75 flex justify-center items-center z-40\">\n\t\t\t<div className={\"rounded max-w-sm m-2 \" + (shadow ? \"shadow-2xl\" : \"\")}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ModalContainer;\n","import {\n\tfaExclamationCircle,\n\tfaSlidersH,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect, useReducer, useState } from \"react\";\nimport { FilterResults } from \"./Search\";\nimport { FilterForm, SearchFormState } from \"./Templates/AppTemplate\";\n\nconst Filters: React.FC<{\n\tupdate: (newFilters: FilterResults) => void;\n\tupdateSearchFormState: (s: Partial<SearchFormState>) => void;\n\tsearchFormFilterState?: FilterForm;\n}> = ({ update, updateSearchFormState, searchFormFilterState }) => {\n\tconst initialForm: FilterForm = {\n\t\topenDate: \"any\",\n\t\topenNow: false,\n\t\tprices: [0, 3],\n\t\tservices: {\n\t\t\tpickup: true,\n\t\t\tdelivery: true,\n\t\t\trestaurant_reservation: true,\n\t\t},\n\t};\n\tlet [showFilters, setShowFilters] = useState(false);\n\t// let location = useLocation();\n\t// let history = useHistory()\n\tconst [state, dispatch] = useReducer(\n\t\tformReducer,\n\t\tsearchFormFilterState || initialForm\n\t);\n\t//   let [[price1, price2], setPrices] = useState<(number | undefined)[]>([0, 3]);\n\t// let onlyOnePriceSet: boolean;\n\n\tuseEffect(() => {\n\t\tupdateSearchFormState({ filter: state });\n\t}, [state, updateSearchFormState]);\n\n\t// useEffect(() => {\n\t//   onlyOnePriceSet = !(state.prices[0]! > -1 && state.prices[1]! > -1);\n\t// }, [state.prices]);\n\n\tconst min = (arr: (number | undefined)[]) => {\n\t\tlet min = 99;\n\t\tarr.forEach((n) => {\n\t\t\tif (typeof n === \"number\" && n < min) {\n\t\t\t\tmin = n;\n\t\t\t}\n\t\t});\n\t\treturn min;\n\t};\n\n\tuseEffect(() => {\n\t\tupdate({\n\t\t\topenHours:\n\t\t\t\tstate.openDate === \"any\" ? \"any\" : state.openNow ? \"now\" : \"today\",\n\t\t\tpriceRange: new Array(\n\t\t\t\tstate.prices[1] === undefined\n\t\t\t\t\t? 1\n\t\t\t\t\t: Math.abs(state.prices[0]! - state.prices[1]!) + 1\n\t\t\t)\n\t\t\t\t.fill(0)\n\t\t\t\t.map((_, idx) => min(state.prices) + 1 + idx)\n\t\t\t\t.join(\",\"),\n\t\t\tservices: Object.entries(state.services)\n\t\t\t\t.filter(([_, b]) => b)\n\t\t\t\t.map(([e, _]) => e)\n\t\t\t\t.join(\",\"),\n\t\t});\n\t}, [state, update]);\n\n\tconst isBetween = (n: number, stops: (number | undefined)[]) => {\n\t\tif (!(typeof stops[0] === \"number\" && typeof stops[1] === \"number\")) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (stops[0] < n && n < stops[1]) || (stops[1] < n && n < stops[0]);\n\t};\n\tconst priceArray = new Array(4).fill(\"\").map((a, b) => \"$\".repeat(b + 1));\n\n\treturn (\n\t\t<>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"m-1 px-2 py-1 text-theme-blue border border-theme-blue bg-white rounded shadow font-bold text-sm uppercase tracking-wide btn-focus\"\n\t\t\t\tonClick={() => setShowFilters(!showFilters)}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon={faSlidersH} className=\"mr-2\" />\n\t\t\t\t{showFilters ? \"hide\" : \"show\"} filters\n\t\t\t</button>\n\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\t\"px-2 pb-2 flex flex-wrap border-b border-theme-extra-light-gray \" +\n\t\t\t\t\t(showFilters ? \"\" : \"hidden\")\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div className=\"w-full sm:w-1/2\">\n\t\t\t\t\t<span className=\"text-sm font-bold uppercase tracking-wide text-theme-med-gray\">\n\t\t\t\t\t\tPrice Range\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<div className=\"group mt-1 ml-2 mb-3 text-sm\">\n\t\t\t\t\t\t{priceArray.map((d, idx) => (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\tonClick={() => dispatch({ key: \"price\", newVal: idx })}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\"relative px-2 btn-focus \" +\n\t\t\t\t\t\t\t\t\t(state.prices.includes(idx)\n\t\t\t\t\t\t\t\t\t\t? \"bg-theme-blue text-white px-1 py-2 rounded-full z-30 \"\n\t\t\t\t\t\t\t\t\t\t: \"\") +\n\t\t\t\t\t\t\t\t\t(isBetween(idx, state.prices)\n\t\t\t\t\t\t\t\t\t\t? \"bg-theme-blue-l-3 text-black py-1 px-4 -mx-2 z-20 \"\n\t\t\t\t\t\t\t\t\t\t: \"\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{d}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<span className=\"text-sm font-bold uppercase tracking-wide text-theme-med-gray\">\n\t\t\t\t\t\tOpen Hours\n\t\t\t\t\t</span>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus rounded-full\"\n\t\t\t\t\t\t\tchecked={state.openDate === \"any\"}\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"day\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ newVal: \"any\", key: \"openDate\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tAny time\n\t\t\t\t\t</label>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus rounded-full\"\n\t\t\t\t\t\t\tchecked={state.openDate === \"today\"}\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"day\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ newVal: \"today\", key: \"openDate\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tToday\n\t\t\t\t\t\t<label className=\"block px-4 -mt-1 mb-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\t\tchecked={state.openNow}\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"openNow\" })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\tOpen now\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"w-full sm:w-1/2\">\n\t\t\t\t\t<span className=\"text-sm font-bold uppercase tracking-wide text-theme-med-gray\">\n\t\t\t\t\t\tServices Offered\n\t\t\t\t\t</span>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\tchecked={state.services.pickup}\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"pickup\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tPickup\n\t\t\t\t\t</label>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\tchecked={state.services.delivery}\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"delivery\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tDelivery\n\t\t\t\t\t</label>\n\t\t\t\t\t<label className=\"block px-2\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"mr-1 btn-focus\"\n\t\t\t\t\t\t\tchecked={state.services.restaurant_reservation}\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={() => dispatch({ key: \"restaurant_reservation\" })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tRestaurant reservation\n\t\t\t\t\t</label>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\tstate.services.pickup ||\n\t\t\t\t\t\t\t\tstate.services.delivery ||\n\t\t\t\t\t\t\t\tstate.services.restaurant_reservation\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t? \"mx-6 my-1 bg-white bg-opacity-50 border-l-4 border-orange-500 px-2 py-1 rounded text-sm italic\"\n\t\t\t\t\t\t\t\t: \"hidden\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\ticon={faExclamationCircle}\n\t\t\t\t\t\t\tclassName=\"text-orange-500 mr-2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tPlease select at least one service.\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nfunction formReducer(\n\tprevState: FilterForm,\n\tupdate: { newVal?: any; key: string }\n): FilterForm {\n\tconst stateUpdates: Partial<FilterForm> = {};\n\tif (update.key === \"openDate\") {\n\t\tif (update.newVal === \"any\") {\n\t\t\tstateUpdates.openDate = \"any\";\n\t\t\tstateUpdates.openNow = false;\n\t\t} else {\n\t\t\tstateUpdates.openDate = \"today\";\n\t\t}\n\t} else if (update.key === \"openNow\") {\n\t\tstateUpdates.openNow = !prevState.openNow;\n\t\tif (stateUpdates.openNow) {\n\t\t\tstateUpdates.openDate = \"today\";\n\t\t}\n\t} else if (\n\t\tupdate.key === \"delivery\" ||\n\t\tupdate.key === \"pickup\" ||\n\t\tupdate.key === \"restaurant_reservation\"\n\t) {\n\t\tstateUpdates.services = {\n\t\t\t...prevState.services,\n\t\t\t[update.key]: !prevState.services[update.key],\n\t\t};\n\t} else if (update.key === \"price\") {\n\t\tif (\n\t\t\ttypeof prevState.prices[0] === \"number\" &&\n\t\t\ttypeof prevState.prices[1] === \"number\"\n\t\t) {\n\t\t\tstateUpdates.prices = [update.newVal, undefined];\n\t\t} else if (typeof prevState.prices[0] === \"number\") {\n\t\t\tstateUpdates.prices = [prevState.prices[0], update.newVal];\n\t\t}\n\t}\n\tconst newState = { ...prevState, ...stateUpdates };\n\n\t// window.history.replaceState({\n\t//   ...window.history.state,\n\t//   filter: JSON.stringify(newState)\n\t// }, \"\")\n\treturn newState;\n}\n\nexport default Filters;\n","import { faCheck, faCircleNotch, faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState } from \"react\"\nimport socket from \"./socket\";\n\nconst AddRestaurantButton:React.FC<{isRestaurantsAdded: boolean, userState:string, sessionId: string, userId: string, businessId:string}> = ({isRestaurantsAdded, userState, sessionId, userId, businessId}) => {\n    let [adding, setAdding] = useState(false);\n    return <button\n    // title={displayVoteComponent[b.id] ? \"you have already added\" : \"add this restaurant\"}\n    aria-label={\n      isRestaurantsAdded\n        ? \"restaurant has already been added\"\n        : userState === \"canVote\"\n        ? \"add restaurant\"\n        : \"you must join the session before adding a restaurant\"\n    }\n    data-balloon-pos=\"right\"\n    className=\"py-1 px-2 mr-2 text-theme-med-gray border-2 border-theme-light-gray rounded-full group btn-focus rounded-full\"\n    onClick={() => {\n      if (!isRestaurantsAdded && userState === \"canVote\") {\n          setAdding(true)\n        socket.addRestaurant(sessionId, userId, businessId).then(r => setAdding(false));\n      }\n    }}\n  >\n    <FontAwesomeIcon className={adding ? \"animate-spin\" : \"\"} icon={adding ? faCircleNotch : (isRestaurantsAdded ? faCheck : faPlus)} />\n    {/* <span className=\"hidden hover:block absolute\">\n    <Tooltip>{displayVoteComponent[b.id] ? <p>you have already added</p> : <p>add this restaurant</p>}</Tooltip>\n  </span> */}\n  </button>\n}\n\nexport default AddRestaurantButton;","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport ListDropdown from \"./ListDropdown\";\nimport socket from \"./socket\";\n\nconst SearchAutocomplete: React.FC<{\n\tsessionId: string;\n\tsearchInput: string;\n\tselectItem: (i: string) => void;\n}> = ({ sessionId, searchInput, selectItem }) => {\n\tlet [searchResults, setSearchResults] = useState<string[]>([]);\n\tlet currentSearch = useRef<string>();\n\tlet selectedText = useRef<string>();\n\n\tuseEffect(() => {\n\t\tif (searchInput && currentSearch.current !== searchInput) {\n\t\t\tsocket.autocomplete(sessionId, searchInput).then((results) => {\n\t\t\t\tcurrentSearch.current = searchInput;\n\t\t\t\tsetSearchResults(results);\n\t\t\t});\n\t\t}\n\t}, [searchInput, sessionId]);\n\n\tconst updateSelection = useCallback(\n\t\t(selectedItem: string) => {\n\t\t\tselectedText.current = selectedItem;\n\t\t\tselectItem(selectedItem);\n\t\t},\n\t\t[selectItem]\n\t);\n\n\tif (selectedText.current === searchInput) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<ListDropdown items={searchResults} updateSelection={updateSelection} />\n\t);\n};\n\nexport default SearchAutocomplete;\n","import React, {\n\tuseState,\n\tFormEvent,\n\tuseContext,\n\tuseEffect,\n\tuseCallback,\n} from \"react\";\nimport { Business, BusinessWithVotes } from \"../../shared/types\";\nimport Vote from \"./Vote\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n\tfaCircleNotch,\n\tfaInfoCircle,\n\tfaSearch,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport DisplayItem from \"./DisplayItem\";\nimport socket from \"./socket\";\nimport Filters from \"./Filters\";\nimport AddRestaurantButton from \"./AddRestaurantButton\";\nimport { UserContext } from \"./UserDataContext\";\nimport { SearchFormState } from \"./Templates/AppTemplate\";\nimport SearchAutocomplete from \"./SearchAutocomplete\";\n\nconst DisplaySearchResults: React.FC<{\n\tbusinesses?: Business[];\n\tvoteOnRestaurant: Function;\n\tisAdded: { [id: string]: BusinessWithVotes };\n}> = ({ businesses, voteOnRestaurant, isAdded }) => {\n\tlet {\n\t\tsessionId,\n\t\tuserId,\n\t\tuserState,\n\t\tpreviousVotes,\n\t\tsetPreviousVotes,\n\t} = useContext(UserContext);\n\tif (businesses?.length === 0) {\n\t\treturn (\n\t\t\t<div className=\"uppercase font-bold tracking-wide text-sm text-theme-light-gray px-6 py-2\">\n\t\t\t\tNo results.\n\t\t\t</div>\n\t\t);\n\t}\n\treturn (\n\t\t<ul className=\"divide-y divide-theme-extra-light-gray\">\n\t\t\t{businesses?.map((b) => (\n\t\t\t\t<li key={b.id}>\n\t\t\t\t\t<DisplayItem\n\t\t\t\t\t\trestaurant={{ business: b, votes: [] }}\n\t\t\t\t\t\taddRestaurant={\n\t\t\t\t\t\t\t<AddRestaurantButton\n\t\t\t\t\t\t\t\tisRestaurantsAdded={!!isAdded[b.id]}\n\t\t\t\t\t\t\t\tuserState={userState}\n\t\t\t\t\t\t\t\tsessionId={sessionId}\n\t\t\t\t\t\t\t\tuserId={userId}\n\t\t\t\t\t\t\t\tbusinessId={b.id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvote={\n\t\t\t\t\t\t\tisAdded[b.id] ? (\n\t\t\t\t\t\t\t\t<Vote\n\t\t\t\t\t\t\t\t\tcurrentVote={previousVotes[b.id]}\n\t\t\t\t\t\t\t\t\taddVote={(v: number) => {\n\t\t\t\t\t\t\t\t\t\tvoteOnRestaurant(b.id, v);\n\t\t\t\t\t\t\t\t\t\tsetPreviousVotes(\n\t\t\t\t\t\t\t\t\t\t\t(old: { [restaurantId: string]: number }) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t...old,\n\t\t\t\t\t\t\t\t\t\t\t\t[b.id]: v,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t);\n};\n\nexport type FilterResults = {\n\topenHours: \"any\" | \"today\" | \"now\";\n\tpriceRange: string;\n\tservices: string;\n};\n\nconst Search: React.FC<{\n\tsessionId: string;\n\tlocation: string;\n\tcreator: { name: string; hashId: string };\n\tuserIdHash: string;\n\tvoteOnRestaurant: Function;\n\tisAdded: { [id: string]: BusinessWithVotes };\n\tsearchFormState: Partial<SearchFormState>;\n\tupdateSearchFormState: (s: Partial<SearchFormState>) => void;\n}> = ({\n\tsessionId,\n\tlocation,\n\tcreator,\n\tuserIdHash: userHashId,\n\tvoteOnRestaurant,\n\tisAdded,\n\tsearchFormState,\n\tupdateSearchFormState,\n}) => {\n\tlet [searchTerm, setSearchTerm] = useState(searchFormState.search || \"\");\n\tlet [businesses, setBusinesses] = useState(searchFormState.results);\n\tlet [loadingSearch, setLoadingSearch] = useState(false);\n\tlet [filterResults, setFilterResults] = useState<FilterResults>();\n\tconst updateFilter = useCallback(\n\t\t(r: FilterResults) => {\n\t\t\tsetFilterResults(r);\n\t\t},\n\t\t[setFilterResults]\n\t);\n\n\tuseEffect(() => {\n\t\tupdateSearchFormState({ search: searchTerm, results: businesses });\n\t}, [searchTerm, businesses, updateSearchFormState]);\n\n\treturn (\n\t\t<div className=\"max-w-md w-full mx-auto\">\n\t\t\t<h2 className=\"max-w-md mx-auto text-2xl px-1 text-theme-dark-gray font-display leading-none mb-1\">\n\t\t\t\tSearch\n\t\t\t</h2>\n\t\t\t<hr className=\"border-theme-extra-light-gray\" />\n\t\t\t<form\n\t\t\t\tclassName=\"p-2 w-full\"\n\t\t\t\tonSubmit={(e: FormEvent) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsetLoadingSearch(true);\n\t\t\t\t\tsetBusinesses(undefined);\n\t\t\t\t\tsocket\n\t\t\t\t\t\t.search(\n\t\t\t\t\t\t\tsessionId,\n\t\t\t\t\t\t\tsearchTerm,\n\t\t\t\t\t\t\tfilterResults?.openHours || \"\",\n\t\t\t\t\t\t\tfilterResults?.priceRange || \"\",\n\t\t\t\t\t\t\tfilterResults?.services || \"\"\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then((b: Business[]) => {\n\t\t\t\t\t\t\tsetBusinesses(b);\n\t\t\t\t\t\t\tsetLoadingSearch(false);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((e) => console.log(`oopsies ${e}`));\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"text-theme-light-gray italic -mt-1\">\n\t\t\t\t\t{creator?.hashId === userHashId ? \"You\" : creator?.name} set the\n\t\t\t\t\tlocation to{\" \"}\n\t\t\t\t\t<span className=\"uppercase text-sm font-bold\">\n\t\t\t\t\t\t{location}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\taria-label=\"Search results will not be strictly within this area; it serves as a starting point.\"\n\t\t\t\t\t\t\tdata-balloon-pos=\"down\"\n\t\t\t\t\t\t\tdata-balloon-length=\"medium\"\n\t\t\t\t\t\t\tclassName=\"btn-focus rounded-full\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FontAwesomeIcon icon={faInfoCircle} className=\"ml-1\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"m-1 inline-block\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"rounded py-1 px-2 shadow btn-focus\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t\t\tonChange={(e) => setSearchTerm(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<SearchAutocomplete\n\t\t\t\t\t\tsessionId={sessionId}\n\t\t\t\t\t\tsearchInput={searchTerm}\n\t\t\t\t\t\tselectItem={setSearchTerm}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"shadow py-1 px-2 m-1 text-white bg-theme-blue rounded-full btn-focus rounded-full\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t>\n\t\t\t\t\t<FontAwesomeIcon aria-label=\"search\" icon={faSearch} />\n\t\t\t\t</button>\n\t\t\t\t<Filters\n\t\t\t\t\tupdate={updateFilter}\n\t\t\t\t\tupdateSearchFormState={updateSearchFormState}\n\t\t\t\t\tsearchFormFilterState={searchFormState.filter}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t\t{loadingSearch && (\n\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\ticon={faCircleNotch}\n\t\t\t\t\tsize=\"5x\"\n\t\t\t\t\tclassName=\"animate-spin text-theme-yellow mx-auto my-4 block\"\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<DisplaySearchResults\n\t\t\t\tbusinesses={businesses}\n\t\t\t\tvoteOnRestaurant={voteOnRestaurant}\n\t\t\t\tisAdded={isAdded}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Search;\n","import { faTimes } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport React from \"react\"\nimport Logo from \"./assets/chew_logo.svg\";\n\nconst ModalWelcomeHeader:React.FC<{escape: () => void}> = ({escape}) => {\n    return <div className=\"p-2 text-white bg-gradient-to-r from-theme-red to-theme-dark-red rounded-t font-bold text-xl\">\n    <span className=\"\">Welcome to</span>\n    <img className=\"inline w-24 ml-1 mr-6\" src={Logo} alt=\"chew logo\" />\n    <button className=\"float-right leading-none btn-focus\" onClick={escape}>\n      <FontAwesomeIcon icon={faTimes} />\n    </button>\n  </div>\n}\n\nexport default ModalWelcomeHeader;","import React from \"react\";\nimport ModalWelcomeHeader from \"./ModalWelcomeHeader\";\nimport { useClickOutsideListenerRef } from \"./useClickOutsideListenerRef\";\nimport CopySessionUrl from \"./CopySessionUrl\";\n\nconst ShareSessionModal: React.FC<{ escape: () => void }> = ({ escape }) => {\n  let ref = useClickOutsideListenerRef(escape);\n\n  return (\n    <>\n      <ModalWelcomeHeader escape={escape} />\n      <div ref={ref} className=\"pt-1 pb-3 px-4 rounded-b bg-white text-gray-700\">\n        Share this url with others:\n        <div className=\"mt-1 mb-4 mx-auto w-max-content\">\n          <CopySessionUrl\n            buttonThemes=\"bg-green-500 border-green-500 text-white\"\n            buttonShadowColor=\"white\"\n            inputThemes=\"border-gray-400\"\n          />\n        </div>\n        <button\n          onClick={escape}\n          className=\"py-1 uppercase tracking-wide text-sm border border-gray-700 w-full mt-2 rounded shadow font-bold btn-focus\"\n        >\n          dismiss\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default ShareSessionModal;\n","import React from \"react\";\n\nconst Toast: React.FC<{ show: boolean }> = ({ show, children }) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={\n\t\t\t\t\"fixed z-50 right-0 bottom-0 mx-1 md:mx-3 shadow-xl transition-spacing duration-500 \" +\n\t\t\t\t(show ? \"my-1 md:my-3\" : \"-mb-24\")\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport default Toast;\n","import React, { useState, FormEvent } from \"react\";\nimport socket from \"./socket\";\n\nimport { UserContextConsumer } from \"./UserDataContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport ModalWelcomeHeader from \"./ModalWelcomeHeader\";\nimport { useClickOutsideListenerRef } from \"./useClickOutsideListenerRef\";\n\nexport const UserNameModal: React.FC<{ escape: () => void }> = ({ escape }) => {\n\tlet [currentUserName, setCurrentUserName] = useState(\"\");\n\tlet ref = useClickOutsideListenerRef(escape);\n\n\treturn (\n\t\t<>\n\t\t\t<ModalWelcomeHeader escape={escape} />\n\t\t\t<UserContextConsumer>\n\t\t\t\t{(context) => (\n\t\t\t\t\t<form\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tclassName=\"pb-3 px-4 rounded-b bg-white text-gray-700\"\n\t\t\t\t\t\tonSubmit={(e: FormEvent) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (context.userId) {\n\t\t\t\t\t\t\t\tsocket\n\t\t\t\t\t\t\t\t\t.setUserName(\n\t\t\t\t\t\t\t\t\t\tcontext.sessionId,\n\t\t\t\t\t\t\t\t\t\tcontext.userId,\n\t\t\t\t\t\t\t\t\t\tcurrentUserName\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(`result of setting name: ${response}`);\n\t\t\t\t\t\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\t\t\t\t\tcontext.setUserState(\"canVote\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"text-gray-600 text-sm py-1\">\n\t\t\t\t\t\t\tInvited to {context.creator.name}'s session\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<label className=\"block mx-3\">\n\t\t\t\t\t\t\t{/* <FontAwesomeIcon icon={faUser} /> */}\n\t\t\t\t\t\t\t<span className=\"uppercase font-bold text-sm\">Your name:</span>\n\t\t\t\t\t\t\t<div className=\"py-1 px-2 rounded border border-gray-300 bg-white focus-within:border-theme-blue-l-2 w-max-content\">\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faUser} className=\"mr-2\" />\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"px-2 focus:outline-none border-l\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={currentUserName}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setCurrentUserName(e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tclassName=\"py-1 uppercase tracking-wide text-sm text-white bg-theme-yellow hover:theme-dark-yellow w-full mt-4 rounded shadow font-bold btn-focus\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tjoin session\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t)}\n\t\t\t</UserContextConsumer>\n\t\t</>\n\t);\n};\n","import {\n\tfaBinoculars,\n\tfaCircleNotch,\n\tfaDoorOpen,\n\tfaSearch,\n\tfaUtensils,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, {\n\tReactFragment,\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n\tuseState,\n} from \"react\";\nimport Media from \"react-media\";\nimport {\n\tLink,\n\tNavLink,\n\tRedirect,\n\tRoute,\n\tSwitch,\n\tuseHistory,\n} from \"react-router-dom\";\nimport { Business, BusinessWithVotes } from \"../../../shared/types\";\nimport Logo from \"../assets/chew_logo.svg\";\nimport Display from \"../Display\";\nimport AppFooter from \"../AppFooter\";\nimport ModalContainer from \"../ModalContainer\";\nimport Search from \"../Search\";\nimport ShareSessionModal from \"../ShareSessionModal\";\nimport socket from \"../socket\";\nimport Toast from \"../Toast\";\nimport { UserContext, UserContextConsumer } from \"../UserDataContext\";\nimport { UserNameModal } from \"../UserNameModal\";\n\nexport interface SearchFormState {\n\tsearch: string;\n\tfilter: FilterForm;\n\tresults: Business[];\n}\n\nexport interface FilterForm {\n\topenDate: \"any\" | \"today\";\n\topenNow: boolean;\n\tprices: (number | undefined)[];\n\tservices: {\n\t\tpickup: boolean;\n\t\tdelivery: boolean;\n\t\trestaurant_reservation: boolean;\n\t};\n}\n\nconst AppTemplate: React.FC = () => {\n\tlet [addedRestaurants, setAddedRestaurants] = useState<{\n\t\t[id: string]: BusinessWithVotes;\n\t}>({});\n\tlet {\n\t\tsessionId,\n\t\tsetSessionId,\n\t\tuserId,\n\t\tuserIdHash,\n\t\tsetUserId,\n\t\tsetUserState,\n\t\tlocation,\n\t\tsetLocation,\n\t\tcreator,\n\t\tsetCreator,\n\t\tsetPreviousVotes,\n\t} = useContext(UserContext);\n\t// let [isAdded, setIsAdded] = useState<{ [id: string]: boolean }>({});\n\tlet [loaded, setLoaded] = useState(false);\n\tlet [showVotingToast, setShowVotingToast] = useState(false);\n\tlet [showShareSessionModal, setShowShareSessionModal] = useState(false);\n\tlet [searchFormState, setSearchFormState] = useState<\n\t\tPartial<SearchFormState>\n\t>({});\n\tlet history = useHistory();\n\n\tuseEffect(() => console.log(addedRestaurants), [addedRestaurants]);\n\n\tuseEffect(() => {\n\t\tsocket.subscribeToRestaurantAdded((newRestaurant: BusinessWithVotes) => {\n\t\t\tconsole.log(\"recieving an added restaurant.\");\n\t\t\tsetAddedRestaurants((r) => ({\n\t\t\t\t...r,\n\t\t\t\t[newRestaurant.business.id]: newRestaurant,\n\t\t\t}));\n\t\t});\n\n\t\tsocket.subscribeToRestaurantRemoved(\n\t\t\t(response: { restaurantId: string }) => {\n\t\t\t\tconsole.log(\"recieving an removed restaurant.\");\n\t\t\t\tsetAddedRestaurants((r) => {\n\t\t\t\t\tlet clone = Object.assign({}, r);\n\t\t\t\t\tdelete clone[response.restaurantId];\n\t\t\t\t\treturn clone;\n\t\t\t\t});\n\t\t\t\tsetPreviousVotes((r: { [restId: string]: number }) => {\n\t\t\t\t\tlet clone = Object.assign({}, r);\n\t\t\t\t\tdelete clone[response.restaurantId];\n\t\t\t\t\treturn clone;\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\n\t\tsocket.subscribeToVoteAdded(\n\t\t\t(params: { restaurantId: string; votes: string[] }) => {\n\t\t\t\tsetAddedRestaurants(\n\t\t\t\t\t(r) => {\n\t\t\t\t\t\tconst updatedRestaurants = { ...r };\n\t\t\t\t\t\tconsole.log(`vote added: ${params.votes.join(\" | \")}`);\n\t\t\t\t\t\tupdatedRestaurants[params.restaurantId].votes = params.votes;\n\t\t\t\t\t\t// console.log(r[params.restaurantId].votes);\n\t\t\t\t\t\treturn { ...r, ...updatedRestaurants };\n\t\t\t\t\t}\n\t\t\t\t\t// ({\n\t\t\t\t\t// \t...r,\n\t\t\t\t\t// \t[params.restaurantId]: {\n\t\t\t\t\t// \t\t...r[params.restaurantId],\n\t\t\t\t\t// \t\tvotes: params.votes,\n\t\t\t\t\t// \t},\n\t\t\t\t\t// })\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t\treturn () => {\n\t\t\tsocket.unSubscribeToRestaurantAdded();\n\t\t\tsocket.unSubscribeToRestaurantRemoved();\n\t\t\tsocket.unSubscribeToVoteAdded();\n\t\t};\n\t}, [setPreviousVotes]);\n\n\tconst voteOnRestaurant = (restaurantId: string, voteNum: number) =>\n\t\tsocket.addVote(sessionId, userId, restaurantId, voteNum);\n\n\tconst updateSearchFormState = useCallback(\n\t\t(s: Partial<SearchFormState>) =>\n\t\t\tsetSearchFormState((old) => ({ ...old, ...s })),\n\t\t[setSearchFormState]\n\t);\n\n\tlet search: ReactFragment = (\n\t\t<div className=\"flex-1 pt-4\">\n\t\t\t<Search\n\t\t\t\tvoteOnRestaurant={voteOnRestaurant}\n\t\t\t\tisAdded={addedRestaurants}\n\t\t\t\tuserIdHash={userIdHash}\n\t\t\t\tsessionId={sessionId}\n\t\t\t\tlocation={location}\n\t\t\t\tcreator={creator}\n\t\t\t\tsearchFormState={searchFormState}\n\t\t\t\tupdateSearchFormState={updateSearchFormState}\n\t\t\t/>\n\t\t</div>\n\t);\n\n\tlet display: ReactFragment = (\n\t\t<div className=\"flex-1 pt-4\">\n\t\t\t<Display\n\t\t\t\tvoteOnRestaurant={voteOnRestaurant}\n\t\t\t\taddedRestaurants={addedRestaurants}\n\t\t\t/>\n\t\t</div>\n\t);\n\n\t// useEffect(() => {\n\t// \tconst newIsAdded: { [id: string]: boolean } = {};\n\t// \tObject.keys(addedRestaurants).forEach(\n\t// \t\t(restId) => (newIsAdded[restId] = true)\n\t// \t);\n\t// \tsetIsAdded(newIsAdded);\n\t// }, [addedRestaurants]);\n\n\tuseEffect(() => {\n\t\tif (window.history?.state?.fromLogin) {\n\t\t\tsetShowShareSessionModal(true);\n\t\t\tsetLoaded(true);\n\n\t\t\t// history.replace(history.location, {fromLogin:false})\n\t\t\t// appLoc.state = {fromLogin:false}\n\n\t\t\twindow.history.replaceState({ fromLogin: false }, \"\");\n\t\t} else if (sessionId !== \"\") {\n\t\t\tsocket.tryJoinSession({ sessionId, userId }, (response) => {\n\t\t\t\tconsole.log(\n\t\t\t\t\t`response from tryJoinSession is ${JSON.stringify(response)}`\n\t\t\t\t);\n\t\t\t\tif (response.success) {\n\t\t\t\t\tsetShowVotingToast(false);\n\t\t\t\t\tsetSessionId(sessionId);\n\t\t\t\t\tsetUserId(response.userId);\n\t\t\t\t\tsetUserState(\n\t\t\t\t\t\tresponse.previouslyAuthenticated ? \"canVote\" : \"canView\"\n\t\t\t\t\t);\n\t\t\t\t\tsetLocation(response.location);\n\t\t\t\t\tsetCreator(response.creator);\n\t\t\t\t\tsetPreviousVotes(response.previousVotes);\n\t\t\t\t\tsetAddedRestaurants(response.restaurants || {});\n\t\t\t\t\tsetLoaded(true);\n\t\t\t\t} else {\n\t\t\t\t\thistory.push(\"/404\");\n\t\t\t\t\tconsole.log(\"recieved failure from server\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, [\n\t\tsessionId,\n\t\thistory,\n\t\tsetCreator,\n\t\tsetLocation,\n\t\tsetPreviousVotes,\n\t\tsetSessionId,\n\t\tsetUserId,\n\t\tsetUserState,\n\t\tuserId,\n\t]); //sessionId\n\n\treturn (\n\t\t<>\n\t\t\t{showShareSessionModal && (\n\t\t\t\t<ModalContainer shadow={true}>\n\t\t\t\t\t<ShareSessionModal escape={() => setShowShareSessionModal(false)} />\n\t\t\t\t</ModalContainer>\n\t\t\t)}\n\t\t\t{!loaded && (\n\t\t\t\t<ModalContainer shadow={false}>\n\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\ticon={faCircleNotch}\n\t\t\t\t\t\tsize=\"5x\"\n\t\t\t\t\t\tclassName=\"animate-spin text-theme-yellow block\"\n\t\t\t\t\t/>\n\t\t\t\t</ModalContainer>\n\t\t\t)}\n\t\t\t<Toast show={showVotingToast}>\n\t\t\t\t<div className=\"p-2 pt-1 md:p-3 md:pt-2 bg-gray-100 flex items-center rounded-md border\">\n\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\ticon={faBinoculars}\n\t\t\t\t\t\tclassName=\"flex-initial text-gray-800 p-1 pb-0\"\n\t\t\t\t\t\tsize=\"3x\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"flex-1 pl-3\">\n\t\t\t\t\t\t<div className=\"text-md font-bold border-b border-gray-400 px-1\">\n\t\t\t\t\t\t\tCurrently in view-only mode.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"text-gray-700 leading-tight mt-1 px-1\">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"border-b-2 border-theme-blue hover:text-theme-blue cursor-pointer\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetShowVotingToast(false);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tJoin the session\n\t\t\t\t\t\t\t</span>{\" \"}\n\t\t\t\t\t\t\tto add restaurants and vote\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Toast>\n\t\t\t<UserContextConsumer>\n\t\t\t\t{(context) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{loaded && context.userState !== \"canVote\" && !showVotingToast && (\n\t\t\t\t\t\t\t<ModalContainer shadow={true}>\n\t\t\t\t\t\t\t\t<UserNameModal escape={() => setShowVotingToast(true)} />\n\t\t\t\t\t\t\t</ModalContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<header className=\"bg-theme-red text-white shadow \">\n\t\t\t\t\t\t\t<nav className=\"flex justify-between p-1 lg:py-2 lg:px-4\">\n\t\t\t\t\t\t\t\t<Link to=\"/getStarted\">\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tclassName=\"text-white inline-block w-32 lg:w-38 flex-initial\"\n\t\t\t\t\t\t\t\t\t\tsrc={Logo}\n\t\t\t\t\t\t\t\t\t\talt=\"chew logo\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto=\"/getStarted\"\n\t\t\t\t\t\t\t\t\tclassName=\"inline-block flex-initial self-center text-sm\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tleave this group <FontAwesomeIcon icon={faDoorOpen} />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t\t<div className=\"md:hidden uppercase font-bold tracking-wide py-1 text-sm bg-theme-dark-red\">\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\tto={`/ID/${context.sessionId}`}\n\t\t\t\t\t\t\t\t\texact={true}\n\t\t\t\t\t\t\t\t\tclassName=\"p-1 m-1\"\n\t\t\t\t\t\t\t\t\tactiveClassName=\"border-b-2 border-white\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\t\ticon={faUtensils}\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tview restaurants\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\tto={`/ID/${context.sessionId}/search`}\n\t\t\t\t\t\t\t\t\texact={true}\n\t\t\t\t\t\t\t\t\tclassName=\"p-1 m-1\"\n\t\t\t\t\t\t\t\t\tactiveClassName=\"border-b-2 border-white\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faSearch} size=\"sm\" className=\"mr-2\" />\n\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<main className=\"flex-grow\">\n\t\t\t\t\t\t\t{/* LARGE DISPLAYS */}\n\t\t\t\t\t\t\t<Media\n\t\t\t\t\t\t\t\tquery=\"(min-width: 768px)\"\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\tpath=\"/ID/:sessionId\"\n\t\t\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-around px-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{display} {search}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Redirect to={`/ID/${context.sessionId}`} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{/* SMALL DISPLAYS */}\n\t\t\t\t\t\t\t<Media\n\t\t\t\t\t\t\t\tquery=\"(max-width: 767px)\"\n\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\tpath=\"/ID/:sessionId\"\n\t\t\t\t\t\t\t\t\t\trender={({ location }) => (\n\t\t\t\t\t\t\t\t\t\t\t// <div className=\"w-screen overflow-x-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t//   <div\n\t\t\t\t\t\t\t\t\t\t\t//     className={\"whitespace-no-wrap transition-spacing \" + (location.pathname.search(\"search\") > -1 ? '-ml-screen': 'm-0')}\n\t\t\t\t\t\t\t\t\t\t\t//     // style={\n\t\t\t\t\t\t\t\t\t\t\t//     //   location.pathname.search(\"search\") > -1\n\t\t\t\t\t\t\t\t\t\t\t//     //     ? { marginLeft: \"-100vw\" }\n\t\t\t\t\t\t\t\t\t\t\t//     //     : { marginLeft: \"0\" }\n\t\t\t\t\t\t\t\t\t\t\t//     // }\n\t\t\t\t\t\t\t\t\t\t\t//   >\n\t\t\t\t\t\t\t\t\t\t\t//     <div className=\"w-screen inline-block\">{display}</div>\n\t\t\t\t\t\t\t\t\t\t\t//     <div className=\"w-screen inline-block\">{search}</div>\n\t\t\t\t\t\t\t\t\t\t\t//   </div>\n\t\t\t\t\t\t\t\t\t\t\t// </div>\n\n\t\t\t\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath=\"/ID/:sessionId\"\n\t\t\t\t\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\t\t\t\t\trender={() => display}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath=\"/ID/:sessionId/search\"\n\t\t\t\t\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\t\t\t\t\trender={() => search}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t\t<AppFooter />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</UserContextConsumer>\n\t\t</>\n\t);\n};\n\nexport default AppTemplate;\n","export default __webpack_public_path__ + \"static/media/reading_girl.3d7737b0.svg\";","import React from \"react\"\nimport ReadingGirl from \"./assets/reading_girl.svg\";\nimport LoginTemplate from \"./Templates/LoginTemplate\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\n\nconst FourOhFour:React.FC = () => <LoginTemplate>\n      <div className=\"flex-1 py-2 px-4 md:py-4 md:px-6 bg-white text-theme-dark rounded-lg shadow-lg max-w-md m-2 lg:mr-6\">\n        <h2 className=\"text-xl font-display font-bold italic\">Page not found</h2>\n        <p className=\"leading-tight mt-1\">\n            If you are trying to join someone's session, please make sure you have entered the url correctly.\n        </p>\n        <Link to=\"/getStarted\" className=\"inline-block shadow rounded bg-theme-red py-1 px-2 text-sm text-white uppercase tracking-wide mt-3\">\n            <FontAwesomeIcon icon={faHome} className=\"mr-2\" />\n           Go home \n        </Link>\n    </div>\n    <img src={ReadingGirl} className=\"hidden md:inline flex-1 max-w-md\" alt=\"girl reading a book\"/>\n\n</LoginTemplate>\n\nexport default FourOhFour;","export default __webpack_public_path__ + \"static/media/papers.4c78aba3.svg\";","import React from \"react\";\nimport Papers from \"./assets/papers.svg\";\nimport LoginTemplate from \"./Templates/LoginTemplate\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\n\nconst TOS: React.FC = () => (\n  <LoginTemplate>\n    <img\n      src={Papers}\n      className=\"hidden md:inline flex-1 max-w-md\"\n      alt=\"girl reading a book\"\n    />\n    <div className=\"flex-1 py-2 px-4 md:py-4 md:px-6 bg-white text-theme-dark rounded-lg shadow-lg max-w-md m-2 lg:mr-6\">\n      <h2 className=\"text-xl font-display font-bold italic\">\n        Terms of Use and Privacy Policy\n      </h2>\n      <p className=\"leading-tight mt-1 px-2\">\n        By using Chew, you are bound by Google's{\" \"}\n        <a className=\"border-b border-theme-blue-l-2\" href=\"https://policies.google.com/terms?hl=en\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Terms of Service\n        </a>.\n      </p>\n      <p className=\"leading-tight mt-1 px-2\">\n        Chew uses the Google Places API on the <i>Get Started</i> page to provide location\n        suggestions and to autocomplete your searches. For information about\n        what data Google collects and how they use it, please read{\" \"}\n        <a className=\"border-b border-theme-blue-l-2\" href=\"https://policies.google.com/privacy\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Google's Privacy Policy\n        </a>\n        .\n      </p>\n      <Link\n        to=\"/getStarted\"\n        className=\"inline-block shadow rounded bg-theme-red py-1 px-2 text-sm text-white uppercase tracking-wide mt-3\"\n      >\n        <FontAwesomeIcon icon={faHome} className=\"mr-2\" />\n        Go home\n      </Link>\n    </div>\n  </LoginTemplate>\n);\n\nexport default TOS;\n","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport LoginTemplate from \"./Templates/LoginTemplate\";\nimport AppTemplate from \"./Templates/AppTemplate\";\nimport \"./comp.css\";\nimport { UserContextProvider } from \"./UserDataContext\";\nimport FourOhFour from \"./404\";\nimport TOS from \"./TOS\";\n\nconst App: React.FC = () => (\n  <UserContextProvider>\n    <Switch>\n      <Route path=\"/getStarted\" exact>\n        <LoginTemplate>\n          <Login />\n        </LoginTemplate>\n      </Route>\n      <Route path=\"/ID/:sessionId\" render={() => <AppTemplate />}></Route>\n      <Route path=\"/404\" exact>\n        <FourOhFour />\n      </Route>\n      <Route path=\"/TOS\" exact>\n        <TOS />\n      </Route>\n      <Route path=\"/\" exact>\n        <Redirect to=\"/getStarted\" />\n      </Route>\n      <Route path=\"/\">\n        <Redirect to=\"/404\" />\n      </Route>\n    </Switch>\n  </UserContextProvider>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/chew\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}